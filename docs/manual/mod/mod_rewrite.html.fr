<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type" />
<!--
        XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
              This file is generated from xml source: DO NOT EDIT
        XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
      -->
<title>mod_rewrite - Serveur HTTP Apache Version 2.5</title>
<link href="../style/css/manual.css" rel="stylesheet" media="all" type="text/css" title="Main stylesheet" />
<link href="../style/css/manual-loose-100pc.css" rel="alternate stylesheet" media="all" type="text/css" title="No Sidebar - Default font size" />
<link href="../style/css/manual-print.css" rel="stylesheet" media="print" type="text/css" /><link rel="stylesheet" type="text/css" href="../style/css/prettify.css" />
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>

<link href="../images/favicon.ico" rel="shortcut icon" /></head>
<body>
<div id="page-header">
<p class="menu"><a href="../mod/">Modules</a> | <a href="../mod/quickreference.html">Directives</a> | <a href="http://wiki.apache.org/httpd/FAQ">FAQ</a> | <a href="../glossary.html">Glossaire</a> | <a href="../sitemap.html">Plan du site</a></p>
<p class="apache">Serveur HTTP Apache Version 2.5</p>
<img alt="" src="../images/feather.png" /></div>
<div class="up"><a href="./"><img title="&lt;-" alt="&lt;-" src="../images/left.gif" /></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">Serveur HTTP</a> &gt; <a href="http://httpd.apache.org/docs/">Documentation</a> &gt; <a href="../">Version 2.5</a> &gt; <a href="./">Modules</a></div>
<div id="page-content">
<div id="preamble"><h1>Module Apache mod_rewrite</h1>
<div class="toplang">
<p><span>Langues Disponibles: </span><a href="../en/mod/mod_rewrite.html" hreflang="en" rel="alternate" title="English">&nbsp;en&nbsp;</a> |
<a href="../fr/mod/mod_rewrite.html" title="Fran&#231;ais">&nbsp;fr&nbsp;</a></p>
</div>
<table class="module"><tr><th><a href="module-dict.html#Description">Description:</a></th><td>Ce module fournit un moteur de r&#233;&#233;criture &#224; base de
r&#232;gles permettant de r&#233;&#233;crire les URLs des requ&#234;tes
&#224; la vol&#233;e</td></tr>
<tr><th><a href="module-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">Identificateur&#160;de&#160;Module:</a></th><td>rewrite_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">Fichier&#160;Source:</a></th><td>mod_rewrite.c</td></tr></table>
<h3>Sommaire</h3>

      <p>Le module <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> utilise un moteur de
      r&#233;&#233;criture &#224; base de r&#232;gles, bas&#233; sur un interpr&#233;teur
      d'expressions rationnelles PCRE, pour r&#233;&#233;crire les URLs &#224; la vol&#233;e. Par
      d&#233;faut, <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> met en correspondance une URL
      avec le syst&#232;me de fichiers. Cependant, on peut aussi l'utiliser
      pour rediriger une URL vers une autre URL, ou pour invoquer une
      requ&#234;te interne &#224; destination du mandataire.</p>
      <p><code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> fournit une m&#233;thode souple et
      puissante pour manipuler les URLs en utilisant un nombre illimit&#233;
      de r&#232;gles. Chaque r&#232;gle peut &#234;tre associ&#233;e &#224; un nombre illimit&#233; de
      conditions, afin de vous permettre de r&#233;&#233;crire les URLs en
      fonction de variables du serveur, de variables d'environnement,
      d'en-t&#234;tes HTTP, ou de rep&#232;res temporels.</p>
      <p><code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> agit sur la totalit&#233; de l'URL, y
      compris la partie chemin. Une r&#232;gle de r&#233;&#233;criture peut &#234;tre
      invoqu&#233;e dans <code>httpd.conf</code> ou dans un fichier
      <code>.htaccess</code>. Le chemin g&#233;n&#233;r&#233; par une r&#232;gle de
      r&#233;&#233;criture peut inclure une cha&#238;ne de param&#232;tres, ou peut renvoyer
      vers un traitement secondaire interne, une redirection vers une
      requ&#234;te externe ou vers le mandataire interne.</p>

      <p>Vous trouverez d'avantage de d&#233;tails, discussions et exemples
      dans la
      <a href="../rewrite/">documentation d&#233;taill&#233;e
      sur mod_rewrite</a>.</p>
</div>
<div id="quickview"><h3>Sujets</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif" /> <a href="#logging">Journalisation</a></li>
</ul><h3 class="directives">Directives</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif" /> <a href="#rewritebase">RewriteBase</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#rewritecond">RewriteCond</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#rewriteengine">RewriteEngine</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#rewritemap">RewriteMap</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#rewriteoptions">RewriteOptions</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#rewriterule">RewriteRule</a></li>
</ul>
<h3>Traitement des bugs</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">Journal des modifications de httpd</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache%20httpd-2&amp;query_format=specific&amp;order=changeddate%20DESC%2Cpriority%2Cbug_severity&amp;component=mod_rewrite">Probl&#232;mes connus</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache%20httpd-2&amp;component=mod_rewrite">Signaler un bug</a></li></ul><h3>Voir aussi</h3>
<ul class="seealso">
<li><a href="#comments_section">Commentaires</a></li></ul></div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="section">
<h2><a name="logging" id="logging">Journalisation</a><a title="Lien permanent" href="#logging" class="permalink">&para;</a></h2>

    <p><code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> offre une journalisation d&#233;taill&#233;e
    de ses actions aux niveaux de journalisation <code>trace1</code> &#224;
    <code>trace8</code>. Le niveau de journalisation peut &#234;tre d&#233;fini de
    mani&#232;re sp&#233;cifique &#224; <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> via la directive
    <code class="directive"><a href="../mod/core.html#loglevel">LogLevel</a></code> : jusqu'au niveau
    <code>debug</code> aucune action n'est journalis&#233;e, alors qu'elles
    le sont pratiquement toutes au niveau <code>trace8</code>.</p>

    <div class="note">
      L'utilisation d'un niveau de journalisation &#233;lev&#233; pour
      <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> va ralentir votre serveur HTTP Apache
      de mani&#232;re dramatique ! N'utilisez un niveau de journalisation
      sup&#233;rieur &#224; <code>trace2</code> qu'&#224; des fins de d&#233;bogage !
    </div>

    <div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">LogLevel alert rewrite:trace3</pre>
</div>

    <div class="note"><h3>RewriteLog</h3>
      <p>Ceux qui sont familiers avec les versions pr&#233;c&#233;dentes de
      <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> vont probablement rechercher en vain les
      directives <code>RewriteLog</code> et
      <code>RewriteLogLevel</code>. Elles ont &#233;t&#233; en effet remplac&#233;es
      par une configuration de la journalisation par module, comme
      mentionn&#233; plus haut.
      </p>

      <p>Pour extraire les traces sp&#233;cifiques &#224;
      <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code>, affichez le fichier journal en
      redirigeant la sortie vers grep :</p>
    <div class="example"><p><code>
    tail -f error_log|fgrep '[rewrite:'
    </code></p></div>
    </div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="rewritebase" id="rewritebase">Directive</a> <a name="RewriteBase" id="RewriteBase">RewriteBase</a><a title="Lien permanent" href="#rewritebase" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;finit l'URL de base pour les r&#233;&#233;critures au niveau
r&#233;pertoire</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>RewriteBase <em>chemin_URL</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>Pas de valeur par d&#233;faut</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>FileInfo</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_rewrite</td></tr>
</table>
      <p>La directive <code class="directive">RewriteBase</code> permet de
      sp&#233;cifier le pr&#233;fixe d'URL &#224; utiliser dans un contexte de
      r&#233;pertoire (htaccess) pour les directives
      <code class="directive"><a href="#rewriterule">RewriteRule</a></code> qui r&#233;&#233;crivent vers un chemin
      relatif.</p>
      <p>Cette directive est <em>obligatoire</em> si vous utilisez un
      chemin relatif dans une substitution, et dans un contexte de
      r&#233;pertoire (htaccess), sauf si au moins une de ces conditions est
      v&#233;rifi&#233;e :</p>
      <ul>
          <li>La requ&#234;te initiale, ainsi que la substitution, se
	  situent par raport &#224; la valeur de la directive
	  <code class="directive"><a href="../mod/core.html#documentroot">DocumentRoot</a></code> (c'est &#224;
	  dire que pour y acc&#233;der, il n'est pas n&#233;cessaire d'utiliser
	  une directive telle qu'<code class="directive"><a href="../mod/mod_alias.html#alias">Alias</a></code>).</li>
          <li>Le chemin du syst&#232;me de fichiers vers le r&#233;pertoire
	  contenant la <code class="directive"><a href="#rewriterule">RewriteRule</a></code>, suffix&#233; par
	  la substitution relative est aussi valide en tant qu'URL sur
	  le serveur (ce qui est rare).</li>
	  <li>A partir de la version 2.4.16 du serveur HTTP Apache,
	  cette directive peut &#234;tre omise lorsque la requ&#234;te est mise en
	  correspondance avec le syst&#232;me de fichiers via la directive
	  <code class="directive"><a href="../mod/mod_alias.html#alias">Alias</a></code> ou le module
	  <code class="module"><a href="../mod/mod_userdir.html">mod_userdir</a></code>.</li>
      </ul>

<p>Dans l'exemple ci-dessous, la directive
<code class="directive">RewriteBase</code> est n&#233;cessaire afin d'&#233;viter une
r&#233;&#233;criture en http://example.com/opt/myapp-1.2.3/welcome.html car la
ressource n'&#233;tait pas relative &#224; la racine des documents. Cette erreur
de configuration aurait conduit le serveur &#224; rechercher un r&#233;pertoire
"opt" &#224; la racine des documents.</p>

<pre class="prettyprint lang-config">DocumentRoot "/var/www/example.com"
AliasMatch "^/myapp" "/opt/myapp-1.2.3"
&lt;Directory "/opt/myapp-1.2.3"&gt;
 RewriteEngine On
    RewriteBase "/myapp/"
    RewriteRule "^index\.html$"  "welcome.html"
&lt;/Directory&gt;</pre>



</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="rewritecond" id="rewritecond">Directive</a> <a name="RewriteCond" id="RewriteCond">RewriteCond</a><a title="Lien permanent" href="#rewritecond" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;finit une condition qui devra &#234;tre satisfaite pour que
la r&#233;&#233;criture soit effectu&#233;e
</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code> RewriteCond
      <em>cha&#238;ne_de_test</em> <em>expression_de_comparaison</em> [<em>drapeaux</em>]</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>FileInfo</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_rewrite</td></tr>
</table>
      <p>La directive <code class="directive">RewriteCond</code> permet de d&#233;finir une
      condition d'ex&#233;cution d'une r&#232;gle. Une ou plusieurs conditions
      <code class="directive">RewriteCond</code> peuvent pr&#233;c&#233;der une
      directive <code class="directive"><a href="#rewriterule">RewriteRule</a></code>. La r&#232;gle de r&#233;&#233;criture correspondante n'est
      ainsi ex&#233;cut&#233;e que si ces conditions sont satisfaites,
      <strong>et</strong> si l'URI correspond au mod&#232;le sp&#233;cifi&#233; dans la
      r&#232;gle.</p>

      <p><em>TestString</em> est une cha&#238;ne qui peut contenir les
      extensions suivantes en plus du texte simple :</p>

      <ul>
        <li>
          <strong>r&#233;f&#233;rences arri&#232;res de r&#232;gle de r&#233;&#233;criture</strong> :
	  ce sont des r&#233;f&#233;rences arri&#232;res de la forme
	  <strong><code>$N</code></strong> (0 &lt;= N &lt;= 9). $1 &#224; $9
	  permettent d'acc&#233;der aux parties regroup&#233;es (entre
	  parenth&#232;ses) du mod&#232;le, issues de la <code>RewriteRule</code>
	  concern&#233;e par le jeu de conditions <code>RewriteCond</code>
	  courant. $0 donne acc&#232;s &#224; l'ensemble de la cha&#238;ne
	  correspondant au mod&#232;le.</li>
        <li>
          <strong>R&#233;f&#233;rences arri&#232;res de condition de r&#233;&#233;criture
	  </strong> : ce sont des r&#233;f&#233;rences arri&#232;res de la forme
	  <strong><code>%N</code></strong> (0 &lt;= N &lt;= 9). %1 &#224; %9
	  permettent d'acc&#233;der aux parties regroup&#233;es (entre
	  parenth&#232;ses) du mod&#232;le, issues de la derni&#232;re
	  condition <code>RewriteCond</code> satisfaite du jeu de conditions <code>RewriteCond</code>
	  courant. %0 donne acc&#232;s &#224; l'ensemble de la cha&#238;ne
	  correspondant au mod&#232;le.</li>
        <li>
          <strong>extensions de table de r&#233;&#233;criture</strong> :
	  ce sont des extensions de la forme <strong><code>${nomTable:cl&#233;|d&#233;faut}</code></strong>. Voir la <a>href="#mapfunc"&gt;documentation sur RewriteMap</a>
	   pour plus de d&#233;tails.
        </li>
        <li>
          <strong>Variables du serveur</strong> :
	  ce sont des variables de la forme
	  <strong><code>%{</code> <em>NAME_OF_VARIABLE</em> <code>}</code></strong>,
            o&#249; <em>NOM_DE_VARIABLE</em> peut contenir une cha&#238;ne issue
	    de la liste suivante :

          <table>
          
            <tr>
              <th>En-t&#234;tes HTTP :</th> <th>connexion &amp; requ&#234;te:</th> <th />
	    </tr>

            <tr>
	      <td>
		 HTTP_ACCEPT<br />
                 HTTP_COOKIE<br />
                 HTTP_FORWARDED<br />
                 HTTP_HOST<br />
                 HTTP_PROXY_CONNECTION<br />
                 HTTP_REFERER<br />
                 HTTP_USER_AGENT<br />
              </td>

              <td>
                 AUTH_TYPE<br />
		 CONN_REMOTE_ADDR<br />
		 CONTEXT_PREFIX<br />
                 CONTEXT_DOCUMENT_ROOT<br />
                 IPV6<br />
                 PATH_INFO<br />
                 QUERY_STRING<br />
                 REMOTE_ADDR<br />
                 REMOTE_HOST<br />
		 REMOTE_IDENT<br />
                 REMOTE_PORT<br />
                 REMOTE_USER<br />
                 REQUEST_METHOD<br />
                 SCRIPT_FILENAME<br />
              </td>

	      <td />
            </tr>

            <tr>
              <th>variables internes au serveur :</th> <th>date et heure :</th> <th>sp&#233;ciaux :</th>
	    </tr>

            <tr>
	      <td>
	         DOCUMENT_ROOT<br />
		 SCRIPT_GROUP<br />
                 SCRIPT_USER<br />
                 SERVER_ADDR<br />
                 SERVER_ADMIN<br />
                 SERVER_NAME<br />
                 SERVER_PORT<br />
                 SERVER_PROTOCOL<br />
                 SERVER_SOFTWARE<br />
              </td>

              <td>
                 TIME_YEAR<br />
                 TIME_MON<br />
                 TIME_DAY<br />
                 TIME_HOUR<br />
                 TIME_MIN<br />
                 TIME_SEC<br />
                 TIME_WDAY<br />
                 TIME<br />
              </td>

              <td>
                 API_VERSION<br />
		 CONN_REMOTE_ADDR<br />
                 HTTPS<br />
		 IS_SUBREQ<br />
		 REMOTE_ADDR<br />
                 REQUEST_FILENAME<br />
                 REQUEST_SCHEME<br />
                 REQUEST_URI<br />
                 THE_REQUEST<br />
              </td>
            </tr>
          </table>

                <p>Ces variables correspondent toutes aux en-t&#234;tes MIME
		HTTP de m&#234;mes noms, au variables C du serveur HTTP Apache, ou
		aux champs <code>struct tm</code> du syst&#232;me Unix. La
		plupart d'entre elles sont document&#233;es <a href="../expr.html#vars">ici</a>, dans la
		sp&#233;cification CGI ou ailleurs dans le
		manuel.</p>

		<p>SERVER_NAME et SERVER_PORT d&#233;pendent respectivement
		des valeurs des directives <code class="directive"><a href="../mod/core.html#usecanonicalname">UseCanonicalName</a></code> et <code class="directive"><a href="../mod/core.html#usecanonicalphysicalport">UseCanonicalPhysicalPort</a></code>.</p>

		<p>Parmi les variables
		sp&#233;cifiques &#224; <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code>, ou trouve les suivantes :</p>
        
                <dl>
                  <dt><code>API_VERSION</code></dt>

                  <dd>C'est la version de l'API des modules Apache httpd
		  (l'interface interne entre le serveur et les modules)
		  pour la construction courante de httpd, telle qu'elle
		  est d&#233;finie dans include/ap_mmn.h. La version de l'API
		  des modules correspond &#224; la version du serveur Apache
		  httpd
		  utilis&#233; (par exemple, pour la version 1.3.14 d'Apache
		  httpd,
		  il s'agit de la version 19990320:10), mais int&#233;resse
		  principalement les auteurs de modules.</dd>

                  <dt><code>CONN_REMOTE_ADDR</code></dt>

		  <dd>A partir de la version 2.4.8 : l'adresse IP distante de
		  la connexion (voir le module
		  <code class="module"><a href="../mod/mod_remoteip.html">mod_remoteip</a></code>).</dd>

		  <dt><code>HTTPS</code></dt>

                  <dd>Contient le texte "on" si la connexion
		  utilise SSL/TLS, "off" dans le cas contraire
		  (Cette variable peut &#234;tre utilis&#233;e sans probl&#232;me, que
		  <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> soit charg&#233; ou non).</dd>

		  <dt><code>IS_SUBREQ</code></dt>

                  <dd>Contient le texte "true" si la requ&#234;te en cours
		  de traitement est une sous-requ&#234;te, "false" dans le
		  cas contraire. Une sous-requ&#234;te est g&#233;n&#233;r&#233;e quand un
		  module a besoin de se r&#233;f&#233;rer &#224; des fichiers ou URIs
		  addidionnels pour pouvoir mener &#224; bien sa t&#226;che.</dd>

		  <dt><code>REMOTE_ADDR</code></dt>
                  <dd>L'adresse IP de l'h&#244;te distant (se r&#233;f&#233;rer au
		  module <code class="module"><a href="../mod/mod_remoteip.html">mod_remoteip</a></code>).</dd>

                  <dt><code>REQUEST_FILENAME</code></dt>

                  <dd>Le chemin complet local au syst&#232;me de fichiers
		  du fichier ou du script correspondant
		  &#224; la requ&#234;te, s'il a d&#233;j&#224; &#233;t&#233; d&#233;termin&#233; par le serveur
		  au moment o&#249; on y fait r&#233;f&#233;rence. Dans le cas
		  contraire, et en particulier dans le cas d'un serveur
		  virtuel, <code>REQUEST_FILENAME</code> contient la
		  valeur de <code>REQUEST_URI</code>. En fonction de la
		  valeur de la directive <code class="directive"><a href="../mod/core.html#acceptpathinfo">AcceptPathInfo</a></code>, le serveur
		  peut n'utiliser que certains &#233;l&#233;ments de t&#234;te du
		  <code>REQUEST_URI</code> pour d&#233;terminer &#224; quel
		  fichier correspond la requ&#234;te.</dd>

		  <dt><code>REQUEST_SCHEME</code></dt>

                  <dd>Contient le protocole de la requ&#234;te (en g&#233;n&#233;ral
		  "http" ou "https"). La valeur peut &#234;tre modifi&#233;e par
		  la directive <code class="directive"><a href="../mod/core.html#servername">ServerName</a></code>.</dd>

		  <dt><code>REQUEST_URI</code></dt>

		  <dd>La partie chemin de l'URI de la requ&#234;te, comme
		  "/index.html". Ceci exclut en particulier la cha&#238;ne de
		  param&#232;tres de la requ&#234;te qui est contenue dans la
		  variable <code>QUERY_STRING</code>.</dd>

                  <dt><code>THE_REQUEST</code></dt>

                  <dd>La ligne de requ&#234;te HTTP compl&#232;te envoy&#233;e par le
		  navigateur au serveur (par exemple, "<code>GET
                  /index.html HTTP/1.1</code>"), &#224; l'exclusion de tout
		  en-t&#234;te ajout&#233; par le navigateur. Cette
		  valeur n'a pas &#233;t&#233; d&#233;s&#233;chapp&#233;e (d&#233;cod&#233;e), &#224; la
		  diff&#233;rence de la plupart des variables suivantes.</dd>
                </dl>

        </li>
      </ul>

      <p>Si la <em>cha&#238;ne_de_test</em> contient la valeur sp&#233;ciale
      <code>expr</code>, <em>expression_de_comparaison</em> sera trait&#233;
      en tant qu'expression rationnelle de type <a href="../expr.html">ap_expr</a>. Si des en-t&#234;tes HTTP sont
      r&#233;f&#233;renc&#233;s dans l'expression rationnelle, et si le drapeau
      <code>novary</code> n'est pas activ&#233;, ils seront ajout&#233;s &#224;
      l'en-t&#234;te Vary.</p>

      <p>Autres points &#224; conna&#238;tre ::</p>
      <ol>
        <li>
        <p>Les variables <code>SCRIPT_FILENAME</code> et
	<code>REQUEST_FILENAME</code> contiennent toutes deux la valeur
	du champ <code>filename</code> de la
	structure interne <code>request_rec</code>du serveur HTTP Apache.
	Le premier nom correspond au nom de variable bien connu CGI,
	alors que le second est l'&#233;quivalent de REQUEST_URI (qui
	contient la valeur du champ <code>uri</code> de
	<code>request_rec</code>).</p>
        <p>Si une substitution intervient et si la r&#233;&#233;criture se
	poursuit, la valeur des deux variables sera mise &#224; jour en
	cons&#233;quence.</p>
        <p>Dans le contexte du serveur principal (c'est &#224; dire avant que
	la requ&#234;te ne soit mise en correspondance avec le syst&#232;me de
	fichiers), SCRIPT_FILENAME et REQUEST_FILENAME  ne peuvent pas
	contenir le chemin entier dans le syst&#232;me de fichiers local car
	ce chemin b'est pas connu &#224; ce stade du traitement. Dans ce cas,
	les deux variables contiendront la valeur de REQUEST_URI. Pour
	obtenir le chemin complet de la requ&#234;te dans le syst&#232;me de
	fichiers local dans le contexte du serveur principal, utilisez une
	r&#233;f&#233;rence avant &#224; base d'URL
	<code>%{LA-U:REQUEST_FILENAME}</code> pour d&#233;terminer la valeur
	finale de REQUEST_FILENAME.</p></li>


        <li>
	<code>%{ENV:<em>variable</em>}</code>, o&#249; <em>variable</em> peut
	correspondre &#224; une variable d'environnement quelconque.</li>
	<li>
        <code>%{ENV:variable}</code> est aussi disponible, o&#249;
	<em>variable</em> peut correspondre &#224; toute variable
	d'environnement. Peut &#234;tre consult&#233; via des structures internes
	d'Apache httpd et (si on ne les trouve pas ici) via la fonction
	<code>getenv()</code> &#224; partir du processus du serveur Apache
	httpd.</li>

        <li>Que <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> soit charg&#233; ou non, on peut
	utiliser <code>%{SSL:variable}</code>, o&#249; <em>variable</em>
	peut &#234;tre remplac&#233; par le nom d'une
	<a href="mod_ssl.html#envvars">variable
	d'environnement SSL</a> . Si <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> n'est pas
	charg&#233;, cette variable contiendra toujours une cha&#238;ne vide.
	Exemple : <code>%{SSL:SSL_CIPHER_USEKEYSIZE}</code> pourra
	contenir la valeur <code>128</code>. Ces variables sont
	disponibles m&#234;me si l'option <code>StdEnvVars</code> de la
	directive <code class="directive"><a href="../mod/mod_ssl.html#ssloptions">SSLOptions</a></code> n'a
	pas &#233;t&#233; d&#233;finie.</li>

	<li>
        On peut utiliser <code>%{HTTP:en-t&#234;te}</code>, o&#249;
	<em>en-t&#234;te</em> peut correspondre &#224; tout nom d'en-t&#234;te MIME
	HTTP, pour extraire la valeur d'un en-t&#234;te envoy&#233; dans la
	requ&#234;te HTTP. Par exemple, <code>%{HTTP:Proxy-Connection}</code>
	contiendra la valeur de l'en-t&#234;te HTTP
	"<code>Proxy-Connection:</code>".
	Si on utilise un en-t&#234;te HTTP
	dans une condition, et si cette condition est &#233;valu&#233;e &#224;
	<code>vrai</code> pour la requ&#234;te, cet en-t&#234;te sera ajout&#233; &#224; l'en-t&#234;te Vary de
	la r&#233;ponse. Il ne le sera pas si la condition est &#233;valu&#233;e &#224;
	<code>faux</code>. L'ajout de l'en-t&#234;te HTTP &#224; l'en-t&#234;te Vary
	est n&#233;cessaire &#224; une mise en cache appropri&#233;e.
	<p>Il faut garder &#224; l'esprit que les conditions suivent une
	logique de cout-circuit si le drapeau
	'<strong><code>ornext|OR</code></strong>' est utilis&#233;, et que de
	ce fait, certaines d'entre elles ne seront pas &#233;valu&#233;es.</p>
	</li>

        <li>A des fins de r&#233;f&#233;rence avant, on peut utiliser,
	<a id="LA-U" name="LA-U"><code>%{LA-U:variable}</code></a>, qui
	permet d'effectuer une sous-requ&#234;te interne &#224; base d'URL, afin
	de d&#233;terminer la valeur finale de <em>variable</em>. Ceci permet
	d'acc&#233;der &#224; la valeur d'une variable pour la r&#233;&#233;criture inconnue
	&#224; ce stade du traitement, mais qui sera d&#233;finie au
	cours d'une phase ult&#233;rieure.
	<p>Par exemple, pour effectuer une r&#233;&#233;criture d&#233;pendant de la
	variable <code>REMOTE_USER</code> dans le contexte du serveur
	principal (fichier <code>httpd.conf</code>), vous devez utiliser
	<code>%{LA-U:REMOTE_USER}</code> - cette variable est d&#233;finie
	par la phase d'autorisation qui intervient <em>apr&#232;s</em> la
	phase de traduction d'URL (pendant laquelle <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code>
	op&#232;re).</p>
        <p>Par contre, comme <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> impl&#233;mente son contexte de
	r&#233;pertoire (fichier <code>.htaccess</code>) via la phase Fixup
	de l'API, et comme la phase d'autorisation intervient
	<em>avant</em> cette derni&#232;re, vous pouvez vous contenter
	d'utiliser <code>%{REMOTE_USER}</code> dans ce contexte.</p></li>

        <li>
        <code>%{LA-F:variable}</code> peut &#234;tre utilis&#233;e pour effectuer
	une sous-requ&#234;te interne (bas&#233;e sur le nom de fichier), afin de
	d&#233;terminer la valeur finale de <em>variable</em>. La plupart du
	temps, elle est identique &#224; LA-U (voir ci-dessus).</li>
      </ol>


      <p><em>expression_de_comparaison</em> est une expression
      rationnelle qui est appliqu&#233;e &#224; l'instance actuelle de
      <em>cha&#238;ne_de_test</em>. <em>cha&#238;ne_de_test</em> est d'abord
      &#233;valu&#233;e, puis compar&#233;e &#224;
      l'<em>expression_de_comparaison</em>.</p>

      <p><em>expression_de_comparaison</em> est en g&#233;n&#233;ral une
      <em>expression rationnelle compatible perl</em>, mais vous
      disposez des syntaxes suppl&#233;mentaires suivantes pour effectuer
      d'autres tests utiles sur <em>cha&#238;ne_de_test</em> :
      </p>

      <ol>
        <li>Vous pouvez pr&#233;fixer l'expression avec un caract&#232;re
	'<code>!</code>' (point d'exclamation) pour inverser le r&#233;sultat
	de la condition, quelle que soit l'<em>expression de
	comparaison</em> utilis&#233;e.</li>

        <li>Vous pouvez effectuer des comparaisons lexicographiques de
	cha&#238;nes	:

         <dl>
            <dt><strong>&lt;expression</strong></dt>
	    <dd>inf&#233;rieur au sens lexicographique<br />
	    Traite l'<em>expression</em> comme une cha&#238;ne de
	    caract&#232;res et la compare lexicographiquement &#224;
	    <em>cha&#238;ne_de_test</em>. La condition est satisfaite si
	    <em>cha&#238;ne_de_test</em> est inf&#233;rieure au sens
	    lexicographique &#224; l'<em>expression</em>.</dd>

            <dt><strong>&gt;expression</strong></dt>
	    <dd>sup&#233;rieur au sens lexicographique<br />
	    Traite l'<em>expression</em> comme une cha&#238;ne de
	    caract&#232;res et la compare lexicographiquement &#224;
	    <em>cha&#238;ne_de_test</em>. La condition est satisfaite si
	    <em>cha&#238;ne_de_test</em> est sup&#233;rieure au sens
	    lexicographique &#224; l'<em>expression</em>.</dd>

            <dt><strong>=expression</strong></dt>
	    <dd>&#233;gal au sens lexicographique<br />
	    Traite l'<em>expression</em> comme une cha&#238;ne de
	    caract&#232;res et la compare lexicographiquement &#224;
	    <em>cha&#238;ne_de_test</em>. La condition est satisfaite si
	    <em>cha&#238;ne_de_test</em> est &#233;gale au sens
	    lexicographique &#224; l'<em>expression</em> (les deux cha&#238;nes
	    sont exactement identiques, caract&#232;re pour caract&#232;re). Si
	    <em>expression</em> est <code>""</code> (deux guillemets),
	    <em>cha&#238;ne_de_test</em> est compar&#233;e &#224; la
	    cha&#238;ne vide.</dd>

	    <dt><strong>&lt;=expression de comparaison</strong></dt>
	    <dd>inf&#233;rieur ou &#233;gal &#224; au sens lexicographique<br />
            Consid&#232;re l'<em>expression_de_comparaison</em> comme une
	    cha&#238;ne de caract&#232;res et la compare au sens lexicographique &#224;
	    la <em>cha&#238;ne_de_test</em>. Vrai si <em>cha&#238;ne_de_test</em>
	    pr&#233;c&#232;de lexicographiquement <em>expression_de_comparaison</em>, ou est
	    &#233;gale &#224; <em>expression_de_comparaison</em> (les deux cha&#238;nes
	    sont identiques, caract&#232;re pour caract&#232;re).</dd>

            <dt><strong>&gt;=expression de comparaison</strong></dt>
	    <dd>sup&#233;rieur ou &#233;gal &#224; au sens lexicographique<br />
            Consid&#232;re l'<em>expression_de_comparaison</em> comme une
	    cha&#238;ne de caract&#232;res et la compare au sens lexicographique &#224;
	    la <em>cha&#238;ne_de_test</em>. Vrai si <em>cha&#238;ne_de_test</em>
	    suit lexicographiquement <em>expression_de_comparaison</em>, ou est
	    &#233;gale &#224; <em>expression_de_comparaison</em> (les deux cha&#238;nes
	    sont identiques, caract&#232;re pour caract&#232;re).</dd>
        </dl>
	</li>

        <li>
          Vous pouvez effectuer des comparaisons d'entiers :
          <dl>

            <dt><strong>-eq</strong></dt>
	    <dd>est num&#233;riquement &#233;gal &#224;<br />
            La <em>cha&#238;ne_de_test</em> est consid&#233;r&#233;e comme un entier,
	    et est compar&#233;e num&#233;riquement &#224; l'<em>expression de
	    comparaison</em>. Vrai si les deux expressions sont
	    num&#233;riquement &#233;gales.</dd>

            <dt><strong>-ge</strong></dt>
	    <dd>est num&#233;riquement sup&#233;rieur ou &#233;gal &#224;<br />
            La <em>cha&#238;ne_de_test</em> est consid&#233;r&#233;e comme un entier,
	    et est compar&#233;e num&#233;riquement &#224; l'<em>expression de
	    comparaison</em>. Vrai si <em>cha&#238;ne_de_test</em> est
	    num&#233;riquement sup&#233;rieure ou &#233;gale &#224;
	    <em>expression_de_comparaison</em>.</dd>

             <dt><strong>-gt</strong></dt>
	     <dd>est num&#233;riquement sup&#233;rieur &#224;<br />
            La <em>cha&#238;ne_de_test</em> est consid&#233;r&#233;e comme un entier,
	    et est compar&#233;e num&#233;riquement &#224; l'<em>expression de
	    comparaison</em>. Vrai si <em>cha&#238;ne_de_test</em> est
	    num&#233;riquement
	    sup&#233;rieure &#224; <em>expression_de_comparaison</em>.</dd>

            <dt><strong>-le</strong></dt>
	    <dd>est num&#233;riquement inf&#233;rieur ou &#233;gal &#224;<br />
            La <em>cha&#238;ne_de_test</em> est consid&#233;r&#233;e comme un entier,
	    et est compar&#233;e num&#233;riquement &#224; l'<em>expression de
	    comparaison</em>. Vrai si <em>cha&#238;ne_de_test</em> est
	    num&#233;riquement
	    inf&#233;rieure ou &#233;gale &#224; <em>expression_de_comparaison</em>.
	    Attention &#224; la confusion avec le drapeau <strong>-l</strong>
	    en utilisant la variante the <strong>-L</strong> ou
	    <strong>-h</strong>.</dd>

             <dt><strong>-lt</strong></dt>
	     <dd>est num&#233;riquement inf&#233;rieur &#224;<br />
            La <em>cha&#238;ne_de_test</em> est consid&#233;r&#233;e comme un entier,
	    et est compar&#233;e num&#233;riquement &#224; l'<em>expression de
	    comparaison</em>. Vrai si <em>cha&#238;ne_de_test</em> est
	    num&#233;riquement
	    inf&#233;rieure &#224; <em>expression_de_comparaison</em>.
	    Attention &#224; la confusion avec le drapeau <strong>-l</strong>
	    en utilisant la variante the <strong>-L</strong> ou
	    <strong>-h</strong>.</dd>

            <dt><strong>-ne</strong></dt>
            <dd>Est num&#233;riquement <strong>n</strong>on <strong>&#233;</strong>gal &#224;<br />
	     La <em>Cha&#238;ne de test</em> est consid&#233;r&#233;e comme un entier et est
	     num&#233;riquement compar&#233;e &#224; l'<em>expression de comparaison</em>. Vrai
	     si les deux &#233;l&#233;ments compar&#233;s sont num&#233;riquement diff&#233;rents.
	     Equivalent &#224; <code>!-eq</code>.</dd>	    

           </dl>
        </li>

        <li>Vous pouvez effectuer diff&#233;rents tests sur les attributs de
	fichier :
          <dl>

            <dt><strong>-d</strong></dt>
	    <dd>est un <strong>r</strong>&#233;pertoire<br />
	    Traite <em>cha&#238;ne_de_test</em> comme un chemin et v&#233;rifie
	    s'il existe ou pas, et s'il s'agit d'un r&#233;pertoire.</dd>

            <dt><strong>-f</strong></dt>
	    <dd>est un <strong>f</strong>ichier r&#233;gulier<br />
	    Traite <em>cha&#238;ne_de_test</em> comme un chemin et v&#233;rifie
	    s'il existe ou pas, et s'il s'agit d'un fichier r&#233;gulier.</dd>

            <dt><strong>-F</strong></dt>
	    <dd>test de l'existence d'un fichier via une sous-requ&#234;te<br />
	    V&#233;rifie si <em>cha&#238;ne_de_test</em> est un fichier valide,
	    accessible &#224; travers tous les contr&#244;les d'acc&#232;s du serveur
	    actuellement configur&#233;s pour ce chemin. C'est une
	    sous-requ&#234;te interne qui effectue cette v&#233;rification - &#224;
	    utiliser avec pr&#233;cautions car les performances du serveur
	    peuvent s'en trouver affect&#233;es !</dd>

	    <dt><strong>-h</strong></dt>
	    <dd>est un lien symbolique, selon la convention bash<br />
            Voir <strong>-l</strong>.</dd>

            <dt><strong>-l</strong></dt>
	    <dd>est un <strong>l</strong>ien symbolique<br />
            Consid&#232;re la <em>cha&#238;ne_de_test</em> comme un chemin et
	    v&#233;rifie son existence et si elle est un lien symbolique. On
	    peut aussi utiliser la convention bash <strong>-L</strong>
	    ou <strong>-h</strong> lorsqu'il y a risque de confusion
	    avec les tests <strong>-lt</strong> ou <strong>-le</strong>.</dd>

            <dt><strong>-L</strong></dt>
	    <dd>est un lien symbolique, selon la convention bash<br />
            Voir <strong>-l</strong>.</dd>

            <dt><strong>-s</strong></dt>
	    <dd>est un fichier r&#233;gulier d'une certaine taille<br />
            Consid&#232;re la <em>cha&#238;ne_de_test</em> comme un chemin et
	    v&#233;rifie son existence et si elle est un fichier r&#233;gulier
	    d'une taille sup&#233;rieure &#224; z&#233;ro.</dd>

            <dt><strong>-U</strong></dt>
	    <dd><p>test de l'existence d'une
	    URL via une sous-requ&#234;te<br />
	    V&#233;rifie si <em>cha&#238;ne_de_test</em> est une URL valide,
	    accessible &#224; travers tous les contr&#244;les d'acc&#232;s du serveur
	    actuellement configur&#233;s pour ce chemin. C'est une
	    sous-requ&#234;te interne qui effectue cette v&#233;rification - &#224;
	    utiliser avec pr&#233;cautions car les performances du serveur
	    peuvent s'en trouver affect&#233;es !</p>
	    <p>Ce drapeau ne renvoie <em>que</em> des informations
	    concernant le contr&#244;le d'acc&#232;s, l'authentification et
	    l'autorisation. Il ne renvoie <em>pas</em> d'informations
	    concernant le code d'&#233;tat que le gestionnaire configur&#233;
	    (static file, CGI, proxy, etc...) aurait, quant &#224; lui,
	    retourn&#233;.</p></dd>

	  <dt><strong>-x</strong></dt>
	  <dd>a l'attribut d'ex&#233;cution positionn&#233;<br />
            Consid&#232;re la <em>cha&#238;ne_de_test</em> comme un chemin et
	    v&#233;rifie son existence et si elle a son attribut d'ex&#233;cution
	    positionn&#233;. Ce positionnement est d&#233;termin&#233; en fonction de
	    l'OS sous-jacent.</dd>

	    </dl>

	    Par exemple:

        <pre class="prettyprint lang-config">RewriteCond /var/www/%{REQUEST_URI} !-f
RewriteRule ^(.+) /other/archive/$1 [R]</pre>


        </li>

	<li>
           <p>Si la <em>cha&#238;ne_de_test</em> contient la valeur sp&#233;ciale
	   <code>expr</code>, la <em>cha&#238;ne de comparaison</em> sera
	   trait&#233;e en tant qu'expression rationnelle de type <a href="../expr.html">ap_expr</a>.</p>

	   <p>
            Dans l'exemple ci-dessous, on utilise <code>-strmatch</code>
	    pour comparer le <code>REFERER</code> avec le nom d'h&#244;te du
	    site afin de bloquer le hotlinking (r&#233;f&#233;rencement direct)
	    non d&#233;sir&#233;.
           </p>

           <pre class="prettyprint lang-config">           RewriteCond expr "! %{HTTP_REFERER} -strmatch '*://%{HTTP_HOST}/*'"
           RewriteRule "^/images" "-" [F]</pre>

        </li>
    </ol>

	<p>Vous pouvez aussi d&#233;finir certains drapeaux pour
	l'<em>expression_de_comparaison</em> en ajoutant ces
	<strong><code>[</code><em>drapeaux</em><code>]</code></strong>
	comme troisi&#232;me argument de la directive
	<code class="directive">RewriteCond</code>, o&#249; <em>drapeaux</em> est un
	sous-ensemble s&#233;par&#233; par des virgules des drapeaux suivants :</p>

      <ul>
        <li>'<strong><code>nocase|NC</code></strong>'
	(<strong>n</strong>o <strong>c</strong>ase)<br />
	Rend le test insensible &#224; la casse - il n'est pas fait de
	distinction entre majuscules et minuscules, &#224; la fois dans le
	d&#233;veloppement de <em>cha&#238;ne_de_test</em> et dans
	<em>expression_de_comparaison</em>. Ce drapeau n'est pris en
	compte que lors d'une comparaison entre <em>cha&#238;ne_de_test</em>
	et <em>expression_de_comparaison</em>. Il ne l'est pas pour les
	v&#233;rification par sous-requ&#234;tes ou sur le syst&#232;me de
	fichiers.</li>

        <li>
          '<strong><code>ornext|OR</code></strong>'
	  (<strong>ou</strong> condition suivante)<br />
	  Permet de cha&#238;ner les conditions de r&#232;gles avec un OU au
	  lieu du AND implicite. Exemple typique :

<pre class="prettyprint lang-config">RewriteCond "%{REMOTE_HOST}"  "^host1"  [OR]
RewriteCond "%{REMOTE_HOST}"  "^host2"  [OR]
RewriteCond "%{REMOTE_HOST}"  "^host3"
RewriteRule ...r&#232;gles concernant tous ces h&#244;tes...</pre>


          Sans ce drapeau, les paires
	  condition/r&#232;gle devraient &#234;tre &#233;crites trois fois.
        </li>

        <li>'<strong><code>novary|NV</code></strong>'
	(<strong>n</strong>o <strong>v</strong>ary)<br />
	Si la condition contient un en-t&#234;te HTTP, ce drapeau emp&#234;che
	ce dernier d'&#234;tre ajout&#233; &#224; l'en-t&#234;te Vary de la r&#233;ponse. <br />
	L'utilisation de ce drapeau peut provoquer une mise en cache
	incorrecte de la r&#233;ponse, si la repr&#233;sentation de cette r&#233;ponse
	varie avec la valeur de l'en-t&#234;te consid&#233;r&#233;. Ce drapeau ne
	devrait donc &#234;tre utilis&#233; que si l'on ma&#238;trise parfaitement le
	fonctionnement de l'en-t&#234;te Vary.
        </li>
      </ul>
      

      <p><strong>Exemple :</strong></p>

       <p>Pour r&#233;&#233;crire la page d'accueil d'un site en fonction de
       l'en-t&#234;te ``<code>User-Agent:</code>'' de la requ&#234;te, vous
       pouvez utiliser ce qui suit : </p>

<pre class="prettyprint lang-config">RewriteCond  "%{HTTP_USER_AGENT}"  "(iPhone|Blackberry|Android)"
RewriteRule  "^/$"               "/homepage.mobile.html"  [L]

RewriteRule  "^/$"                 "/homepage.std.html"  [L]</pre>


        <p>Explications : si vous utilisez un navigateur
	qui s'identifie comme un
	navigateur de plateforme mobile (notez que l'exemple est
	incomplet car il existe de nombreuses autres plateformes
	mobiles), c'est la version pour mobile de la page d'accueil qui
	sera renvoy&#233;e. Dans le cas contraire, ce sera la page d'accueil
	standard.</p>


</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="rewriteengine" id="rewriteengine">Directive</a> <a name="RewriteEngine" id="RewriteEngine">RewriteEngine</a><a title="Lien permanent" href="#rewriteengine" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Active ou d&#233;sactive l'ex&#233;cution du
moteur de r&#233;&#233;criture</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>RewriteEngine on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>RewriteEngine off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>FileInfo</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_rewrite</td></tr>
</table>

      <p>La directive <code class="directive">RewriteEngine</code> active ou
      d&#233;sactive l'ex&#233;cution du moteur de r&#233;&#233;criture. Si sa valeur est
      <code>off</code>, ce module n'ex&#233;cutera aucun traitement et ne
      mettra pas &#224; jour les variables d'environnement
      <code>SCRIPT_URx</code>.</p>

      <p>Plut&#244;t que de commenter toutes les directives <code class="directive"><a href="#rewriterule">RewriteRule</a></code>, il est pr&#233;f&#233;rable
      d'utiliser cette directive si l'on souhaite d&#233;sactiver les
      r&#232;gles de r&#233;&#233;criture dans un contexte particulier.</p>

      <p>Notez que les  h&#244;tes virtuels n'h&#233;ritent pas des
      configurations de r&#233;&#233;criture. Ceci implique que vous devez
      ins&#233;rer une directive <code>RewriteEngine on</code> dans chaque
      h&#244;te virtuel pour lequel vous souhaitez utiliser des r&#232;gles
      de r&#233;&#233;criture.</p>

      <p>Les directives <code class="directive"><a href="#rewritemap">RewriteMap</a></code> du type
      <code>prg</code> ne sont pas prises en compte au cours de
      l'initialisation du serveur si elle ont &#233;t&#233; d&#233;finies dans un
      contexte o&#249; la directive <code class="directive">RewriteEngine</code> n'a
      pas &#233;t&#233; d&#233;finie &#224; <code>on</code>.</p>


</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="rewritemap" id="rewritemap">Directive</a> <a name="RewriteMap" id="RewriteMap">RewriteMap</a><a title="Lien permanent" href="#rewritemap" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;finit une fonction de mise en correspondance pour la
recherche de mots-cl&#233;s</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>RewriteMap <em>MapName</em> <em>MapType</em>:<em>MapSource</em> [<em>MapTypeOptions</em>]
</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_rewrite</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Le troisi&#232;me param&#232;tre, MapTypeOptions, est disponible &#224; partir
de la version 2.4.29 du serveur HTTP Apache</td></tr>
</table>
      <p>La directive <code class="directive">RewriteMap</code> d&#233;finit une
      <em>Table de correspondance pour la r&#233;&#233;criture</em> que les
      fonctions de mise en correspondance
      peuvent utiliser dans les cha&#238;nes de substitution des r&#232;gles
      pour ins&#233;rer/substituer des champs en recherchant des mots-cl&#233;s.
      La source utilis&#233;e pour cette recherche peut &#234;tre de plusieurs
      types.</p>

      <p><a id="mapfunc" name="mapfunc"><em>MapName</em></a> est le nom de la table de correspondance
      et servira &#224; sp&#233;cifier une fonction de mise en correspondance
      pour les cha&#238;nes de substitution d'une r&#232;gle de r&#233;&#233;criture selon
      une des constructions suivantes :</p>

      <p class="indent">
        <strong><code>${</code> <em>MapName</em> <code>:</code>
        <em>mot-cl&#233;</em> <code>}</code><br />
         <code>${</code> <em>MapName</em> <code>:</code>
        <em>mot-cl&#233;</em> <code>|</code> <em>valeur par d&#233;faut</em>
        <code>}</code></strong>
      </p>

      <p>Lorsqu'une telle construction est rencontr&#233;e, la table de
      correspondance <em>MapName</em> est consult&#233;e
      et la cl&#233; <em>mot-cl&#233;</em> recherch&#233;e. Si la cl&#233; est trouv&#233;e, la
      construction est remplac&#233;e par
      la <em>valeur de remplacement</em>. Si la cl&#233; n'est pas trouv&#233;e,
      elle est remplac&#233;e par la <em>valeur par d&#233;faut</em>, ou par une
      cha&#238;ne vide si aucune <em>valeur par d&#233;faut</em> n'est
      sp&#233;cifi&#233;e. La valeur vide se comporte comme si la
      cl&#233; &#233;tait absente ; il est donc impossible de distinguer une
      valeur vide d'une absence de cl&#233;.</p>

      <p>Par exemple, vous pouvez d&#233;finir une directive
      <code class="directive">RewriteMap</code> comme suit </p>

      <pre class="prettyprint lang-config">RewriteMap map-exemple "txt:/chemin/vers/fichier/map.txt"</pre>


      <p>Vous pourrez ensuite utiliser cette table dans une
      directive <code class="directive"><a href="#rewriterule">RewriteRule</a></code> comme suit :</p>

      <pre class="prettyprint lang-config">RewriteRule "^/ex/(.*)" "${map-exemple:$1}"</pre>


      <p>La signification de l'argument <em>MapTypeOptions</em> d&#233;pend du <em>MapType</em>
      sp&#233;cifi&#233;. Veuillez vous r&#233;f&#233;rer au document <a href="../rewrite/rewritemap.html">Utiliser RewriteMap</a> pour
      plus de d&#233;tails.</p>

      <p>Les combinaisons suivantes pour <em>type de correspondance</em>
      et <em>MapSource</em>
      peuvent &#234;tre utilis&#233;es :</p>

<dl>
    <dt>txt</dt>
        <dd>Un fichier texte contenant des paires cl&#233;-valeur s&#233;par&#233;es
	par des espaces, une paire par ligne (<a href="../rewrite/rewritemap.html#txt">D&#233;tails ...</a>).</dd>

    <dt>rnd</dt>
        <dd>S&#233;lection al&#233;atoire d'une entr&#233;e depuis un fichier texte (<a href="../rewrite/rewritemap.html#rnd">D&#233;tails ...</a>).</dd>

    <dt>dbm</dt>
        <dd>Recherche une entr&#233;e dans un fichier dbm contenant des
	paires nom-valeur. Le condens&#233; hash est &#233;labor&#233; &#224; partir d'un
	format de fichier texte via l'utilitaire <code><a href="../programs/httxt2dbm.html">httxt2dbm</a></code> (<a href="../rewrite/rewritemap.html#dbm">D&#233;tails ...</a>).</dd>

    <dt>int</dt>
        <dd>Une des quatre fonctions internes disponibles que fournit
	<code>RewriteMap</code>: toupper, tolower, escape ou unescape
	(<a href="../rewrite/rewritemap.html#int">D&#233;tails ...</a>).</dd>

    <dt>prg</dt>
        <dd>Appelle un programme externe ou un script pour effectuer la
	r&#233;&#233;criture (<a href="../rewrite/rewritemap.html#prg">D&#233;tails
	...</a>).</dd>

    <dt>dbd or fastdbd</dt>
        <dd>Une commande SQL SELECT &#224; ex&#233;cuter pour rechercher la cible
	de r&#233;&#233;criture (<a href="../rewrite/rewritemap.html#dbd">D&#233;tails
	...</a>).</dd>
    </dl>

<p>Vous trouverez plus de d&#233;tails et de nombreux exemples dans le <a href="../rewrite/rewritemap.html">RewriteMap HowTo</a>.</p>


</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="rewriteoptions" id="rewriteoptions">Directive</a> <a name="RewriteOptions" id="RewriteOptions">RewriteOptions</a><a title="Lien permanent" href="#rewriteoptions" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Configure certaines options sp&#233;ciales
pour le moteur de r&#233;&#233;criture</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>RewriteOptions <var>Options</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>FileInfo</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_rewrite</td></tr>
</table>

      <p>La directive <code class="directive">RewriteOptions</code> d&#233;finit
      certaines options sp&#233;ciales pour la configuration au niveau du
      serveur ou du r&#233;pertoire. La cha&#238;ne de caract&#232;res <em>Option</em>
      ne peut actuellement prendre qu'une des valeurs suivantes :</p>

      <dl>
      <dt><code>Inherit</code></dt>
      <dd>

      <p>Ceci force la configuration locale &#224; h&#233;riter de la
      configuration du niveau sup&#233;rieur. Dans le contexte des h&#244;tes
      virtuels, cela signifie que les correspondances, conditions et
      r&#232;gles du serveur principal sont h&#233;rit&#233;es. Dans le contexte des
      r&#233;pertoires, cela signifie que les conditions et r&#232;gles de la
      configuration <code>.htaccess</code> ou les sections <code class="directive"><a href="../mod/core.html#directory">&lt;Directory&gt;</a></code> du r&#233;pertoire
      parent sont h&#233;rit&#233;es. Les r&#232;gles h&#233;rit&#233;es sont virtuellement
      copi&#233;es dans la section o&#249; cette directive est utilis&#233;e. Si elles
      sont utilis&#233;es avec des r&#232;gles locales, les r&#232;gles h&#233;rit&#233;es sont
      plac&#233;es apr&#232;s ces derni&#232;res. La place de cette directive - avant
      ou apr&#232;s les r&#232;gles locales - n'a aucune influence sur ce
      comportement. Si des r&#232;gles locales ont forc&#233; l'arr&#234;t de la
      r&#233;&#233;criture, les r&#232;gles h&#233;rit&#233;es ne seront pas trait&#233;es.</p>

      <div class="warning">
      Les r&#232;gles h&#233;rit&#233;es du niveau parent sont appliqu&#233;es
      <strong>after</strong> apr&#232;s les r&#232;gles sp&#233;cifi&#233;es dans le niveau
      enfant.
      </div>
      </dd>

      <dt><code>InheritBefore</code></dt>
      <dd>
      <p>M&#234;me effet que l'option <code>Inherit</code> ci-dessus, mais
      les r&#232;gles sp&#233;cifi&#233;es dans le niveau parent s'appliquent
      <strong>avant</strong> les r&#232;gles sp&#233;cifi&#233;es dans le niveau
      enfant.<br />
      Disponible depuis la version 2.3.10 du serveur HTTP Apache.</p>
      </dd>

      <dt><code>InheritDown</code></dt>
      <dd>

      <p>Si cette option est activ&#233;e, toutes les configurations enfants
      h&#233;riteront de la configuration courante. Il en est de m&#234;me si l'on
      sp&#233;cifie <code>RewriteOptions Inherit</code> dans toutes les
      configurations enfants. Voir l'option <code>Inherit</code> pour
      plus de d&#233;tails &#224; propos de la mani&#232;re dont les relations
      parent-enfants sont trait&#233;es.<br />
      Cette option est disponible &#224; partir
      de la version 2.4.8 du serveur HTTP Apache.</p>
      </dd>

      <dt><code>InheritDownBefore</code></dt>
      <dd>

      <p>L'effet de cette option est &#233;quivalent &#224; celui de l'option
      <code>InheritDown</code> ci-dessus, mais les r&#232;gles de la
      configuration parente s'appliquent <strong>avant</strong> toute
      r&#232;gle de la configuration enfant.<br />
      Cette option est disponible &#224; partir
      de la version 2.4.8 du serveur HTTP Apache.</p>
      </dd>

      <dt><code>IgnoreInherit</code></dt>
      <dd>

      <p>Si cette option est activ&#233;e, les configurations courante et
      enfants ignoreront toute r&#232;gle h&#233;rit&#233;e d'une configuration parente
      via les options <code>InheritDown</code> ou
      <code>InheritDownBefore</code>.<br />
      Cette option est disponible &#224; partir
      de la version 2.4.8 du serveur HTTP Apache.</p>
      </dd>
      
      <dt><code>AllowNoSlash</code></dt>
      <dd>
      <p>Par d&#233;faut, <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> ignore les URLs qui
      correspondent &#224; un r&#233;pertoire sur disque, mais ne comportent pas
      de slash final, afin que le module <code class="module"><a href="../mod/mod_dir.html">mod_dir</a></code>
      redirige le client vers l'URL canonique avec un slash final.</p>
      
      <p>Lorsque la directive <code class="directive"><a href="../mod/mod_dir.html#directoryslash">DirectorySlash</a></code> est d&#233;finie &#224; off, il
      est possible de sp&#233;cifier l'option <code>AllowNoSlash</code> pour
      s'assurer que les r&#232;gles de r&#233;&#233;criture ne soient plus ignor&#233;es.
      Si on le souhaite, cette option permet de faire s'appliquer des
      r&#232;gles de r&#233;&#233;criture qui correspondent &#224; un r&#233;pertoire sans slash
      final au sein de fichiers .htaccess.<br />
      Elle est disponible &#224;
      partir de la version 2.4.0 du serveur HTTP Apache.</p>
      </dd>

      <dt><code>AllowAnyURI</code></dt>
      <dd>

      <p>A partir de la version 2.2.22 de httpd, lorsqu'une directive <code class="directive"><a href="#rewriterule">RewriteRule</a></code> se situe dans un
      contexte de <code>serveur virtuel</code> ou de serveur principal,
      <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> ne traitera les r&#232;gles de r&#233;&#233;criture
      que si l'URI de la requ&#234;te respecte la syntaxe d'un <a href="directive-dict.html#Syntax">chemin URL</a>. Ceci permet
      d'&#233;viter certains probl&#232;mes de s&#233;curit&#233; o&#249; des r&#232;gles
      particuli&#232;res pourraient permettre  des d&#233;veloppements de mod&#232;les
      inattendus (voir <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3368">CVE-2011-3368</a>
      et <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4317">CVE-2011-4317</a>).
      Pour s'affranchir de la restriction relative &#224; la syntaxe des chemins URL, on peut
      utiliser l'option <code>AllowAnyURI</code>, afin de permettre &#224;
      <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> d'appliquer le jeu de r&#232;gles &#224; toute
      cha&#238;ne de requ&#234;te URI, sans v&#233;rifier si cette derni&#232;re respecte la
      grammaire des chemins URL d&#233;finie dans la sp&#233;cification HTTP.<br />
      Disponible depuis la version 2.4.3 du serveur HTTP Apache.</p>

      <div class="warning">
      <h3>Avertissement &#224; propos de la s&#233;curit&#233;</h3> 

      <p>L'utilisation de cette option rendra le serveur vuln&#233;rable &#224;
      certains probl&#232;mes de s&#233;curit&#233; si les r&#232;gles de r&#233;&#233;critures
      concern&#233;es n'ont pas &#233;t&#233; r&#233;dig&#233;es avec soin. Il est par cons&#233;quent
      <strong>fortement recommand&#233;</strong> de ne pas utiliser cette
      option. En particulier, pr&#234;tez attention aux cha&#238;nes en entr&#233;e contenant le
      caract&#232;re '<code>@</code>', qui peuvent modifier l'interpr&#233;tation
      de l'URI r&#233;&#233;crite, comme indiqu&#233; dans les liens ci-dessus.</p>
      </div>
      </dd>

      <dt><code>MergeBase</code></dt>
      <dd>

      <p>Avec cette option, la valeur de la directive <code class="directive"><a href="#rewritebase">RewriteBase</a></code> est recopi&#233;e depuis
      une valeur explicitement d&#233;finie dans tout sous-r&#233;pertoire qui ne
      d&#233;finit pas sa propre directive <code class="directive"><a href="#rewritebase">RewriteBase</a></code>. Il s'agissait du
      comportement par d&#233;faut avec les versions 2.4.0 &#224; 2.4.3, et ce
      drapeau qui permet de retrouver ce comportement est disponible
      depuis la version 2.4.4 du serveur HTTP Apache.</p>
      </dd>

      <dt><code>IgnoreContextInfo</code></dt>
      <dd>

      <p>Lors d'une
      substitution relative dans un contexte de r&#233;pertoire (htaccess),
      et si la directive <code class="directive"><a href="#rewritebase">RewriteBase</a></code> n'a pas &#233;t&#233; d&#233;finie,
      ce module utilise des informations en provenance d'une extension
      d'URL et du contexte du syst&#232;me de fichiers pour transformer la
      sustitution relative en URL. Par exemple, les modules
      <code class="module"><a href="../mod/mod_userdir.html">mod_userdir</a></code> et <code class="module"><a href="../mod/mod_alias.html">mod_alias</a></code>
      utilisent ces informations de contexte &#233;tendu. Disponible &#224; partir de la
      version 2.4.16 du serveur HTTP Apache.</p>
      </dd>

      <dt><code>LegacyPrefixDocRoot</code></dt>
      <dd>

      <p>Avant la version 2.4.26, si une substitution &#233;tait une URL absolue qui
      correspondait au serveur virtuel courant, l'URL pouvait &#234;tre tout d'abord
      r&#233;duite &#224; sa partie chemin, puis enfin en chemin local. Comme l'URL peut
      &#234;tre r&#233;duite en chemin local, le chemin doit &#234;tre pr&#233;fix&#233; par la
      valeur de la directive DocumentRoot, ce qui permet d'interdire l'acc&#232;s &#224;
      un fichier tel que /tmp/myfile suite &#224; une requ&#234;te pour
      http://host/file/myfile avec la <code class="directive"><a href="#rewriterule">RewriteRule</a></code> suivante :</p>
      <pre class="prettyprint lang-config">RewriteRule /file/(.*) http://localhost/tmp/$1</pre>

      <p>Cette option permet de restaurer l'ancien comportement lorsqu'un chemin
      local obtenu &#224; partir de la r&#233;duction d'une URL n'est pas pr&#233;fix&#233; par la
      valeur de la directive DocumentRoot. Disponible &#224; partir de la version
      2.4.26 du serveur HTTP Apache.</p>
      </dd>

      <dt><code>LongURLOptimization</code></dt>
      <dd>
      <p>Cette option permet de r&#233;duire la consommation de m&#233;moire des jeux de
      r&#232;gles longs et non optimis&#233;s qui enregistrent de mani&#232;re r&#233;p&#233;titive de
      longues valeurs dans des variables au sein des directives RewriteCond et
      RewriteRule. Disponible &#224; partir de la version 2.5 du serveur HTTP Apache.</p>
      </dd>

      </dl>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="rewriterule" id="rewriterule">Directive</a> <a name="RewriteRule" id="RewriteRule">RewriteRule</a><a title="Lien permanent" href="#rewriterule" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;finit les r&#232;gles pour le moteur de r&#233;&#233;criture</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>RewriteRule
      <em>Mod&#232;le</em> <em>Substitution</em> [<em>drapeaux</em>]</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>FileInfo</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_rewrite</td></tr>
</table>
      <p>La directive <code class="directive">RewriteRule</code> est le
      v&#233;ritable cheval de trait de la r&#233;&#233;criture. La directive peut
      appara&#238;tre plusieurs fois, chaque instance d&#233;finissant une
      r&#232;gle de r&#233;&#233;criture particuli&#232;re. L'ordre dans lequel ces r&#232;gles
      sont d&#233;finies est important - il s'agit de l'ordre dans lequel
      les r&#232;gles seront appliqu&#233;es au cours du processus de
      r&#233;&#233;criture.</p>

      <p><a id="patterns" name="patterns"><em>Mod&#232;le</em></a> est une
      <a id="regexp" name="regexp">expression rationnelle</a>
      compatible perl. Ce avec quoi ce mod&#232;le est compar&#233; d&#233;pend de l'endroit o&#249;
      la directive <code class="directive">RewriteRule</code> est d&#233;finie.</p>

<div class="note"><h3><a id="what_is_matched" name="what_is_matched">Qu'est-ce qui est compar&#233; ?</a></h3>

<ul>
      <li><p>Dans un contexte de serveur virtuel <code class="directive"><a href="../mod/core.html#virtualhost">VirtualHost</a></code>, le <em>mod&#232;le</em> est tout
      d'abord compar&#233; &#224; la portion de l'URL situ&#233;e entre le nom d'h&#244;te
      &#233;ventuellement accompagn&#233; du port, et la cha&#238;ne de param&#232;tres (par
      exemple "/app1/index.html"). Il s'agit du <a href="directive-dict.html#Syntax">URL-path</a> d&#233;cod&#233; de sa valeur "%xx".</p></li>

      <li><p>Dans un contexte de r&#233;pertoire (sections <code class="directive"><a href="../mod/core.html#directory">Directory</a></code> et fichiers .htaccess), le
      <em>Mod&#232;le</em> est compar&#233; avec une partie de chemin ; par exemple une
      requ&#234;te pour "/app1/index.html" entra&#238;nera une comparaison avec
      "app1/index.html" ou "index.html" selon l'endroit o&#249; la directive
      <code class="directive">RewriteRule</code> est d&#233;finie.</p>

      <p>Le chemin o&#249; la r&#232;gle est d&#233;fini est supprim&#233; du chemin correspondant
      du syst&#232;me de fichiers avant comparaison (jusqu'au slash final compris).
      En cons&#233;quence de cette suppression, les r&#232;gles d&#233;finies dans
      ce contexte n'effectuent des comparaisons qu'avec la portion du chemin
      du syst&#232;me de fichiers "en dessous" de l'endroit o&#249; la r&#232;gle est d&#233;finie.</p>

      <p>Le chemin correspondant actuel du syst&#232;me de fichiers est d&#233;termin&#233; par
      des directives telles que <code class="directive"><a href="../mod/core.html#documentroot">DocumentRoot</a></code> et
      <code class="directive"><a href="../mod/mod_alias.html#alias">Alias</a></code>, ou m&#234;me le r&#233;sultat de
      substitutions dans des r&#232;gles <code class="directive">RewriteRule</code> pr&#233;c&#233;dentes.  
      </p>
      </li>

      <li><p>Si vous souhaitez faire une comparaison sur le nom
      d'h&#244;te, le port, ou la cha&#238;ne de requ&#234;te, utilisez une
      directive <code class="directive"><a href="#rewritecond">RewriteCond</a></code>
      comportant respectivement les variables
      <code>%{HTTP_HOST}</code>, <code>%{SERVER_PORT}</code>, ou
      <code>%{QUERY_STRING}</code>.</p></li>
</ul>
      
</div>

<div class="note"><h3>R&#233;&#233;critures dans un contexte de r&#233;pertoire</h3>
<ul>
<li>L'utilisation du moteur de r&#233;&#233;criture dans les
fichiers <a href="../howto/htaccess.html">.htaccess</a> et les sections
<code class="directive"><a href="../mod/core.html#directory">&lt;Directory&gt;</a></code> est un peu plus
complexe.</li>

<li>Pour activer le moteur de r&#233;&#233;criture dans ces contextes, vous devez
d&#233;finir "<code>RewriteEngine On</code>" <strong>et</strong>
"<code>Options FollowSymLinks</code>". Si l'administrateur a d&#233;sactiv&#233;
la possibilit&#233; de modifier l'option <code>FollowSymLinks</code> au
niveau du r&#233;pertoire d'un utilisateur, vous ne pouvez pas utiliser le
moteur de r&#233;&#233;criture. Cette restriction a &#233;t&#233; instaur&#233;e &#224; des fins de
s&#233;curit&#233;.</li>

<li>Voir la directive
<code class="directive"><a href="#rewritebase">RewriteBase</a></code> pour plus de d&#233;tails &#224;
propos de l'ajout du pr&#233;fixe apr&#232;s les substitutions relatives.</li>

<li>Si vous souhaitez effectuer une comparaison en prenant en compte
l'int&#233;gralit&#233; du
chemin de l'URL dans un contexte de r&#233;pertoire (htaccess), vous devez
utiliser la variable <code>%{REQUEST_URI}</code> dans la directive
<code class="directive"><a href="#rewritecond">RewriteCond</a></code>.</li>

<li>Le prefixe supprim&#233; se termine toujours par un slash, ce qui
signifie que la comparaison s'effectue avec une cha&#238;ne qui ne comporte
<em>jamais</em> de slash de d&#233;but. Ainsi, un <em>mod&#232;le</em> contenant
<code>^/</code> ne correspondra jamais dans un contexte de r&#233;pertoire.</li>

<li>Bien que les r&#232;gles de r&#233;&#233;criture soient permises du point de vue de
la syntaxe dans les sections <code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code> et <code class="directive"><a href="../mod/core.html#files">&lt;Files&gt;</a></code> (y compris leurs versions sous forme
d'expression rationnelle), elles n'y sont pas prises en compte, et
n'y sont &#224; priori d'aucune utilit&#233;. Les substitutions
relatives sont une fonctionnalit&#233; qui n'est, elle non-plus pas support&#233;e
dans ce genre de contexte.</li>
</ul>
</div>

	<p>Pour quelques conseils &#224; propos des <a class="glossarylink" href="../glossary.html#regex" title="voir glossaire">expressions rationnelles</a>, voir le
	document <a href="../rewrite/intro.html#regex">Introduction &#224;
	mod_rewrite</a>.</p>

      <p>Dans <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code>, on peut aussi utiliser le caract&#232;re
      NOT ('<code>!</code>') comme pr&#233;fixe de mod&#232;le. Ceci vous permet
      d'inverser la signification d'un mod&#232;le, soit pour dire
      ``<em>si l'URL consid&#233;r&#233;e ne correspond <strong>PAS</strong> &#224;
      ce mod&#232;le</em>''. Le caract&#232;re NON peut donc &#234;tre utilis&#233; &#224;
      titre exceptionnel, lorsqu'il est plus simple d'effectuer une
      comparaison avec le mod&#232;le invers&#233;, ou dans la derni&#232;re r&#232;gle
      par d&#233;faut.</p>

<div class="note"><h3>Note</h3>
Si vous utilisez le caract&#232;re NON pour inverser la signification d'un
mod&#232;le, vous ne pouvez pas inclure de parties g&#233;n&#233;riques group&#233;es dans
le mod&#232;le. Ceci est d&#251; au fait que, lorsque le mod&#232;le ne correspond
pas (autrement dit, sa n&#233;gation correspond), les groupes sont vides.
Ainsi, si vous utilisez des mod&#232;les invers&#233;s, vous ne pouvez
pas vous r&#233;f&#233;rer aux groupes par <code>$N</code> dans la cha&#238;ne de
substitution !
</div>

      <p>Dans une r&#232;gle de r&#233;&#233;criture,
      <a id="rhs" name="rhs"><em>Substitution</em></a> est la cha&#238;ne
      de caract&#232;res qui remplace le chemin de l'URL original qui
      correspondait au <em>Mod&#232;le</em>. <em>Substitution</em> peut
      &#234;tre :</p>

      <dl>

        <dt>un chemin du syst&#232;me de fichiers</dt>

        <dd>Il indique alors la localisation dans le syst&#232;me de
	fichiers de la ressource qui doit &#234;tre envoy&#233;e au
	client. Les substitutions ne sont trait&#233;es en tant que chemins du
	syst&#232;me de fichiers que si la r&#232;gle est configur&#233;e dans un
	contexte de serveur (serveur virtuel), et si le premier
	composant du chemin dans la substitution existe dans le syst&#232;me
	de fichiers.</dd>

        <dt>chemin d'URL</dt>

        <dd>Un chemin relatif &#224; la valeur de <code class="directive"><a href="../mod/core.html#documentroot">DocumentRoot</a></code> vers la ressource qui
	doit &#234;tre servie. Notez que <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code>
	essaie de deviner si vous avez sp&#233;cifi&#233; un chemin du syst&#232;me
	de fichiers ou un chemin d'URL en v&#233;rifiant si la premi&#232;re
	partie du chemin existe &#224; la racine du syst&#232;me de fichiers.
	Par exemple, si vous avez sp&#233;cifi&#233; comme cha&#238;ne de
	<em>Substitution</em> <code>/www/file.html</code>, cette
	derni&#232;re sera trait&#233;e comme un chemin d'URL <em>&#224; moins</em>
	qu'un r&#233;pertoire nomm&#233; <code>www</code> n'existe &#224; la racine
	de votre syst&#232;me de fichiers (ou dans le cas d'une
	r&#233;&#233;criture au sein d'un fichier <code>.htaccess</code>,
	relativement &#224; la racine des documents), auquel cas la cha&#238;ne de
	substitution sera trait&#233;e comme un chemin du syst&#232;me de
	fichiers. Si vous d&#233;sirez que d'autres directives de
	correspondance d'URL (comme la directive <code class="directive"><a href="../mod/mod_alias.html#alias">Alias</a></code>) soient appliqu&#233;es au
	chemin d'URL r&#233;sultant, utilisez le drapeau <code>[PT]</code>
	comme d&#233;crit ci-dessous.</dd>

        <dt>URL absolue</dt>

        <dd>Si une URL absolue est sp&#233;cifi&#233;e,
	<code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code> v&#233;rifie si le nom d'h&#244;te
	correspond &#224; celui de l'h&#244;te local. Si c'est le cas, le
	protocole et le nom d'h&#244;te sont supprim&#233;s, et ce qui reste est
	trait&#233; comme un chemin d'URL. Dans le cas contraire, une
	redirection externe vers l'URL indiqu&#233;e est effectu&#233;e. Pour
	forcer une redirection externe vers l'h&#244;te local, voir le
	drapeau <code>[R]</code> ci-dessous.</dd>

        <dt><code>-</code> (tiret)</dt>

        <dd>Un tiret indique qu'aucune substitution ne doit &#234;tre
	effectu&#233;e (le chemin consid&#233;r&#233; est transmis sans changement).
	Ceci est utile quand un drapeau doit &#234;tre appliqu&#233; sans
	modifier le chemin (voir ci-dessous).</dd>

      </dl>

      <p>En plus du texte, la cha&#238;ne <em>Substitution</em> peut
      comporter :</p>

      <ol>
        <li>des r&#233;f&#233;rences arri&#232;res (<code>$N</code>) vers le mod&#232;le
	d'une directive RewriteRule</li>

        <li>des r&#233;f&#233;rences arri&#232;res (<code>%N</code>) vers le dernier
	mod&#232;le d'une directive RewriteCond qui correspondait</li>

        <li>des variables du serveur comme dans les cha&#238;nes de test de
	condition d'une r&#232;gle (<code>%{VARNAME}</code>)</li>

        <li>des appels de
	<a href="#mapfunc">fonctions de comparaison</a>
	(<code>${nom correspondance:cl&#233;|d&#233;faut}</code>)</li>
      </ol>

      <p>Les r&#233;f&#233;rences arri&#232;res sont des identificateurs de la forme
      <code>$</code><strong>N</strong> (<strong>N</strong>=0..9), qui
      seront remplac&#233;s par le contenu du <strong>N</strong>&#232;me groupe
      du <em>Mod&#232;le</em> qui correspondait. Les variables du serveur
      sont les m&#234;mes que dans la <em>Cha&#238;ne_de_test</em> d'une
      directive <code class="directive"><a href="#rewritecond">RewriteCond</a></code>. Les
      fonctions de comparaison sont issues de la directive <code class="directive"><a href="#rewritemap">RewriteMap</a></code> dans la
      section de laquelle elles sont d&#233;crites. Ces trois types de
      variables sont &#233;valu&#233;es dans l'ordre ci-dessus.</p>

       <p>Chaque r&#232;gle de r&#233;&#233;criture s'applique au r&#233;sultat de la r&#232;gle
       pr&#233;c&#233;dente, selon l'ordre dans lequel elles ont &#233;t&#233; d&#233;finies dans
       le fichier de configuration. Le chemin de l'URL ou du syst&#232;me de fichier (voir
       ci-dessus <a href="#what_is_matched">Qu'est-ce qui est
       compar&#233; ?</a>) est <strong>int&#233;gralement
      remplac&#233;e</strong> par la cha&#238;ne de <em>Substitution</em> et le
      processus de r&#233;&#233;criture se poursuit jusqu'&#224; ce que toutes les
      r&#232;gles aient &#233;t&#233; appliqu&#233;es, ou qu'il soit explicitement stopp&#233;
      par un drapeau <a href="../rewrite/flags.html#flag_l"><code><strong>L</strong></code></a>,
      ou par un autre drapeau qui implique un arr&#234;t imm&#233;diat, comme
      <code><strong>END</strong></code> ou
      <code><strong>F</strong></code>.</p>

     <div class="note"><h3>Modifier la cha&#238;ne de requ&#234;te</h3>
      <p>Par d&#233;faut, la cha&#238;ne de requ&#234;te est transmise sans
      modification. Vous pouvez cependant cr&#233;er dans la cha&#238;ne de
      substitution des URLs dont une partie constitue une cha&#238;ne de
      requ&#234;te. Pour cela, ajoutez simplement un point d'interrogation
      dans la cha&#238;ne de substitution pour indiquer que le texte qui
      suit doit &#234;tre r&#233;inject&#233; dans la cha&#238;ne de requ&#234;te. Pour
      supprimer une cha&#238;ne de requ&#234;te, terminez simplement la cha&#238;ne de
      substitution par un point d'interrogation. Pour combiner les
      nouvelles cha&#238;nes de requ&#234;te avec les anciennes, utilisez le
      drapeau <code>[QSA]</code>.</p>
     </div>


      <p>En outre, vous pouvez sp&#233;cifier des <a name="rewriteflags" id="rewriteflags">actions</a> sp&#233;ciales &#224; effectuer en ajoutant
      des
      <strong><code>[</code><em>drapeaux</em><code>]</code></strong>
      comme troisi&#232;me argument de la directive
      <code class="directive">RewriteRule</code>. S&#233;par&#233;s par des virgules au sein d'une
      liste encadr&#233;e par des crochets, les <em>drapeaux</em> peuvent
      &#234;tre choisis dans la table suivante. Vous trouverez plus de
      d&#233;tails, et des exemples pour chaque drapeau dans le <a href="../rewrite/flags.html">document &#224; propos des drapeaux de
      r&#233;&#233;criture.</a></p>

      <table class="bordered"><tr class="header"><th>Drapeaux et syntaxe</th>
        <th>Fonction</th>
    </tr>
<tr>
        <td>B</td>
        <td>Echappe les caract&#232;res non-alphanum&#233;riques
	dans les r&#233;f&#233;rences arri&#232;res <em>avant</em>
	d'appliquer la transformation. <em><a href="../rewrite/flags.html#flag_b">d&#233;tails ...</a></em></td>
    </tr>
<tr class="odd">
        <td>backrefnoplus|BNP</td>
        <td>Avec ce drapeau, si les r&#233;f&#233;rences arri&#232;res sont &#233;chapp&#233;es,
	les espaces seront &#233;chapp&#233;s en %20 au lieu de +. Ceci s'av&#232;re
	utile lorsqu'une r&#233;f&#233;rence arri&#232;re est utilis&#233;e dans la partie
	chemin, et non dans la cha&#238;ne de param&#232;tres de la requ&#234;te ;
	pour plus de d&#233;tails, voir <em><a href="../rewrite/flags.html#flag_bnp">ici.</a></em></td>
    </tr>
<tr>        
	<td>chain|C</td>
        <td>La r&#232;gle est cha&#238;n&#233;e avec la r&#232;gle suivante. Si la r&#232;gle
	&#233;choue, la ou les r&#232;gles avec lesquelles elle est est cha&#238;n&#233;e
	seront saut&#233;es. <em><a href="../rewrite/flags.html#flag_c">d&#233;tails ...</a></em></td>
    </tr>
<tr class="odd">
        <td>cookie|CO=<em>NAME</em>:<em>VAL</em></td>
        <td>D&#233;finit un cookie au niveau du navigateur client. La syntaxe
	compl&#232;te est :
	CO=<em>NAME</em>:<em>VAL</em>:<em>domain</em>[:<em>lifetime</em>[:<em>path</em>[:<em>secure</em>[:<em>httponly</em>]]]] <em><a href="../rewrite/flags.html#flag_co">details ...</a></em>
	<em><a href="../rewrite/flags.html#flag_co">d&#233;tails ...</a></em>
        </td>
    </tr>
<tr>
        <td>discardpath|DPI</td>
        <td>Supprime la partie PATH_INFO de l'URI r&#233;&#233;crit. <em><a href="../rewrite/flags.html#flag_dpi">d&#233;tails
        ...</a></em></td>
    </tr>
<tr class="odd">
        <td>END</td>
        <td>Stoppe le processus de r&#233;&#233;criture imm&#233;diatement et
	n'applique plus aucune r&#232;gle. Emp&#234;che aussi l'application
	ult&#233;rieure de r&#232;gles de r&#233;&#233;criture dans les contextes de
	r&#233;pertoire et de fichier .htaccess (disponible &#224; partir de la
	version 2.3.9 du serveur HTTP Apache). <em><a href="../rewrite/flags.html#flag_end">d&#233;tails ...</a></em></td>
    </tr>
<tr>    
        <td>env|E=[!]<em>VAR</em>[:<em>VAL</em>]</td>
        <td>D&#233;finit la variable d'environnement <em>VAR</em> (&#224; la valeur
	<em>VAL</em> si elle est fournie). La variante !<em>VAR</em>
	annule la d&#233;finition de la variable <em>VAR</em>.<em><a href="../rewrite/flags.html#flag_e">d&#233;tails ...</a></em></td>
    </tr>
<tr class="odd">
        <td>forbidden|F</td>
        <td>Renvoie une r&#233;ponse 403 FORBIDDEN au navigateur client.
	<em><a href="../rewrite/flags.html#flag_f">d&#233;tails ...</a></em></td>
    </tr>
<tr>
        <td>gone|G</td>
        <td>Renvoie un message d'erreur 410 GONE au navigateur client. <em><a href="../rewrite/flags.html#flag_g">d&#233;tails ...</a></em></td>
    </tr>
<tr class="odd">
        <td>Handler|H=<em>Gestionnaire de contenu</em></td>
        <td>L'URI r&#233;sultant est envoy&#233; au <em>Gestionnaire de
	contenu</em> pour traitement. <em><a href="../rewrite/flags.html#flag_h">d&#233;tails ...</a></em></td>
    </tr>
<tr>
        <td>last|L</td>
        <td>Arr&#234;te le processus de r&#233;&#233;criture imm&#233;diatement et n'applique
	plus aucune r&#232;gle. Pr&#234;tez une attention particuli&#232;re aux mises
	en garde concernant les contextes de niveau r&#233;pertoire et
	.htaccess (voir aussi le drapeau END). <em><a href="../rewrite/flags.html#flag_l">d&#233;tails ...</a></em></td>
    </tr>
<tr class="odd">
        <td>next|N</td>
        <td>R&#233;ex&#233;cute le processus de r&#233;&#233;criture &#224; partir de la premi&#232;re
	r&#232;gle, en utilisant le r&#233;sultat du jeu de r&#232;gles, sous r&#233;serve
	qu'il y ait un point de d&#233;part. <em><a href="../rewrite/flags.html#flag_n">d&#233;tails
        ...</a></em></td>
    </tr>
<tr>
        <td>nocase|NC</td>
        <td>Rend la comparaison entre mod&#232;les insensible &#224; la casse.
	<em><a href="../rewrite/flags.html#flag_nc">d&#233;tails ...</a></em></td>
    </tr>
<tr class="odd">
        <td>noescape|NE</td>
        <td>Emp&#234;che mod_rewrite d'effectuer un &#233;chappement hexad&#233;cimal
	des caract&#232;res sp&#233;ciaux dans le r&#233;sultat de la r&#233;&#233;criture. <em><a href="../rewrite/flags.html#flag_ne">d&#233;tails ...</a></em></td>
    </tr>
<tr>
        <td>nosubreq|NS</td>
        <td>La r&#232;gle est saut&#233;e si la requ&#234;te courante est une
	sous-requ&#234;te interne. <em><a href="../rewrite/flags.html#flag_ns">d&#233;tails ...</a></em></td>
    </tr>
<tr class="odd">
        <td>proxy|P</td>
        <td>Force l'envoi en interne de l'URL de substitution en tant
	que requ&#234;te mandataire. <em><a href="../rewrite/flags.html#flag_p">d&#233;tails
        ...</a></em></td>
    </tr>
<tr>
        <td>passthrough|PT</td>
        <td>L'URI r&#233;sultant est repass&#233; au moteur de mise en
	correspondance des URLs pour y &#234;tre trait&#233; par d'autres
	traducteurs URI-vers-nom de fichier, comme <code>Alias</code> ou
	<code>Redirect</code>. <em><a href="../rewrite/flags.html#flag_pt">d&#233;tails ...</a></em></td>
    </tr>
<tr class="odd">
        <td>qsappend|QSA</td>
        <td>Ajoute toute cha&#238;ne de param&#232;tres pr&#233;sente dans l'URL de la
	requ&#234;te originale &#224; toute cha&#238;ne de param&#232;tres cr&#233;&#233;e dans la
	cible de r&#233;&#233;criture. <em><a href="../rewrite/flags.html#flag_qsa">d&#233;tails ...</a></em></td>
    </tr>
<tr>
        <td>qsdiscard|QSD</td>
        <td>Supprime toute cha&#238;ne de param&#232;tres de l'URI entrant. <em><a href="../rewrite/flags.html#flag_qsd">d&#233;tails
        ...</a></em></td>
    </tr>
<tr class="odd">
        <td>qslast|QSL</td>
        <td>Interpr&#232;te le dernier (le plus &#224; droite) point d'interrogation comme
	le d&#233;limiteur de la cha&#238;ne de param&#232;tres de la requ&#234;te, au lieu du
	premier (le plus &#224; gauche) comme c'est le cas habituellement. Disponble
	&#224; partir de la version 2.4.19 du serveur HTTP Apache. <em><a href="../rewrite/flags.html#flag_qsl">d&#233;tails ...</a></em></td>
    </tr>
<tr>
	<td>redirect|R[=<em>code</em>]</td>
        <td>Force une redirection externe, avec un code de statut HTTP
	optionnel. <em><a href="../rewrite/flags.html#flag_r">d&#233;tails ...</a></em>
        </td>
    </tr>
<tr class="odd">
        <td>skip|S=<em>nombre</em></td>
        <td>Si la r&#232;gle courante s'applique, le moteur de r&#233;&#233;criture
	doit sauter les <em>nombre</em> r&#232;gles suivantes. <em><a href="../rewrite/flags.html#flag_s">d&#233;tails ...</a></em></td>
    </tr>
<tr>
        <td>type|T=<em>MIME-type</em></td>
        <td>Force l'attribution du <a class="glossarylink" href="../glossary.html#type-mime" title="voir glossaire">Type-MIME</a>
	sp&#233;cifi&#233; au fichier cible. <em><a href="../rewrite/flags.html#flag_t">d&#233;tails ...</a></em></td>
    </tr>
</table>

<div class="note"><h3>D&#233;veloppement du r&#233;pertoire home</h3>
<p> Quand la cha&#238;ne de substitution commence par quelque chose comme
"/~user" (de mani&#232;re explicite ou par r&#233;f&#233;rences arri&#232;res), <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code>
d&#233;veloppe le r&#233;pertoire home sans tenir compte de la pr&#233;sence ou de la
configuration du module <code class="module"><a href="../mod/mod_userdir.html">mod_userdir</a></code>.</p>

<p> Ce d&#233;veloppement n'est pas effectu&#233; si le drapeau <em>PT</em> est
utilis&#233; dans la directive <code class="directive"><a href="#rewriterule">RewriteRule</a></code></p>
</div>

     <p>Voici toutes les combinaisons de substitution et leurs
     significations :</p>

      <p><strong>Dans la configuration au niveau du serveur principal
      (<code>httpd.conf</code>)<br />
       pour la requ&#234;te ``<code>GET
      /chemin/infochemin</code>'':</strong><br />
      </p>

<table class="bordered"><tr class="header">
<th>R&#232;gle</th>
<th>R&#233;sultat de la substitution</th>
</tr>
<tr>
<td>^/un_chemin(.*) autre_chemin$1</td>
<td>invalide, non support&#233;</td>
</tr>
<tr class="odd">
<td>^/un_chemin(.*) autre_chemin$1  [R]</td>
<td>invalide, non support&#233;</td>
</tr>
<tr>
<td>^/un_chemin(.*) autre_chemin$1  [P]</td>
<td>invalide, non support&#233;</td>
</tr>
<tr class="odd">
<td>^/un_chemin(.*) /autre_chemin$1</td>
<td>/autre_chemin/info_chemin</td>
</tr>
<tr>
<td>^/un_chemin(.*) /autre_chemin$1 [R]</td>
<td>http://cet_hote/autre_chemin/info_chemin via une redirection externe</td>
</tr>
<tr class="odd">
<td>^/un_chemin(.*) /autre_chemin$1 [P]</td>
<td>sans objet, non support&#233;</td>
</tr>
<tr>
<td>^/un_chemin(.*) http://cet_hote/autre_chemin$1</td>
<td>/autre_chemin/info_chemin</td>
</tr>
<tr class="odd">
<td>^/un_chemin(.*) http://cet_hote/autre_chemin$1 [R]</td>
<td>http://cet_hote/autre_chemin/info_chemin via une redirection externe</td>
</tr>
<tr>
<td>^/un_chemin(.*) http://cet_hote/autre_chemin$1 [P]</td>
<td>sans objet, non support&#233;</td>
</tr>
<tr class="odd">
<td>^/un_chemin(.*) http://autre_hote/autre_chemin$1</td>
<td>http://autre_hote/autre_chemin/info_chemin via une redirection externe</td>
</tr>
<tr>
<td>^/un_chemin(.*) http://autre_hote/autre_chemin$1 [R]</td>
<td>http://autre_hote/autre_chemin/info_chemin (le drapeau [R] est
redondant)</td>
</tr>
<tr class="odd">
<td>^/somepath(.*) http://otherhost/otherpath$1 [P]</td>
<td>http://otherhost/otherpath/pathinfo via internal proxy</td>
</tr>
</table>

      <p><strong>Dans une configuration de niveau r&#233;pertoire pour
      <code>/chemin</code><br />
       (<code>/chemin/physique/vers/chemin/.htacccess</code>, avec
      <code>RewriteBase "/chemin"</code>)<br />
       pour la requ&#234;te ``<code>GET
      /chemin/chemin-local/infochemin</code>'':</strong><br />
     </p>

<table class="bordered"><tr class="header">
<th>R&#232;gle</th>
<th>R&#233;sultat de la substitution</th>
</tr>
<tr>
<td>^chemin-local(.*) autre-chemin$1</td>
<td>/chemin/autre-chemin/infochemin</td>
</tr>
<tr class="odd">
<td>^chemin-local(.*) autre-chemin$1  [R]</td>
<td>http://cet-h&#244;te/chemin/autre-chemin/infochemin via redirection
externe</td>
</tr>
<tr>
<td>^chemin-local(.*) autre-chemin$1  [P]</td>
<td>n'a pas lieu d'&#234;tre, non support&#233;</td>
</tr>
<tr class="odd">
<td>^chemin-local(.*) /autre-chemin$1</td>
<td>/autre-chemin/infochemin</td>
</tr>
<tr>
<td>^chemin-local(.*) /autre-chemin$1 [R]</td>
<td>http://cet-h&#244;te/autre-chemin/infochemin via redirection externe</td>
</tr>
<tr class="odd">
<td>^chemin-local(.*) /autre-chemin$1 [P]</td>
<td>n'a pas lieu d'&#234;tre, non support&#233;</td>
</tr>
<tr>
<td>^chemin-local(.*) http://cet-h&#244;te/autre-chemin$1</td>
<td>/autre-chemin/infochemin</td>
</tr>
<tr class="odd">
<td>^chemin-local(.*) http://cet-h&#244;te/autre-chemin$1 [R]</td>
<td>http://cet-h&#244;te/autre-chemin/infochemin via redirection externe</td>
</tr>
<tr>
<td>^chemin-local(.*) http://cet-h&#244;te/autre-chemin$1 [P]</td>
<td>n'a pas lieu d'&#234;tre, non support&#233;</td>
</tr>
<tr class="odd">
<td>^chemin-local(.*) http://autre h&#244;te/autre-chemin$1</td>
<td>http://autre h&#244;te/autre-chemin/infochemin via redirection externe</td>
</tr>
<tr>
<td>^chemin-local(.*) http://autre h&#244;te/autre-chemin$1 [R]</td>
<td>http://autre h&#244;te/autre-chemin/infochemin via redirection externe
(le drapeau [R] est redondant)</td>
</tr>
<tr class="odd">
<td>^chemin-local(.*) http://autre h&#244;te/autre-chemin$1 [P]</td>
<td>http://autre h&#244;te/autre-chemin/infochemin via un mandataire interne</td>
</tr>
</table>

  
</div>
</div>
<div class="bottomlang">
<p><span>Langues Disponibles: </span><a href="../en/mod/mod_rewrite.html" hreflang="en" rel="alternate" title="English">&nbsp;en&nbsp;</a> |
<a href="../fr/mod/mod_rewrite.html" title="Fran&#231;ais">&nbsp;fr&nbsp;</a></p>
</div><div class="top"><a href="#page-header"><img src="../images/up.gif" alt="top" /></a></div><div class="section"><h2><a id="comments_section" name="comments_section">Commentaires</a></h2><div class="warning"><strong>Notice:</strong><br />This is not a Q&amp;A section. Comments placed here should be pointed towards suggestions on improving the documentation or server, and may be removed again by our moderators if they are either implemented or considered invalid/off-topic. Questions on how to manage the Apache HTTP Server should be directed at either our IRC channel, #httpd, on Freenode, or sent to our <a href="http://httpd.apache.org/lists.html">mailing lists</a>.</div>
<script type="text/javascript"><!--//--><![CDATA[//><!--
var comments_shortname = 'httpd';
var comments_identifier = 'http://httpd.apache.org/docs/trunk/mod/mod_rewrite.html';
(function(w, d) {
    if (w.location.hostname.toLowerCase() == "httpd.apache.org") {
        d.write('<div id="comments_thread"><\/div>');
        var s = d.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'https://comments.apache.org/show_comments.lua?site=' + comments_shortname + '&page=' + comments_identifier;
        (d.getElementsByTagName('head')[0] || d.getElementsByTagName('body')[0]).appendChild(s);
    }
    else {
        d.write('<div id="comments_thread">Comments are disabled for this page at the moment.<\/div>');
    }
})(window, document);
//--><!]]></script></div><div id="footer">
<p class="apache">Copyright 2018 The Apache Software Foundation.<br />Autoris&#233; sous <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.</p>
<p class="menu"><a href="../mod/">Modules</a> | <a href="../mod/quickreference.html">Directives</a> | <a href="http://wiki.apache.org/httpd/FAQ">FAQ</a> | <a href="../glossary.html">Glossaire</a> | <a href="../sitemap.html">Plan du site</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>