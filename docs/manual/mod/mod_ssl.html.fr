<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type" />
<!--
        XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
              This file is generated from xml source: DO NOT EDIT
        XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
      -->
<title>mod_ssl - Serveur HTTP Apache Version 2.5</title>
<link href="../style/css/manual.css" rel="stylesheet" media="all" type="text/css" title="Main stylesheet" />
<link href="../style/css/manual-loose-100pc.css" rel="alternate stylesheet" media="all" type="text/css" title="No Sidebar - Default font size" />
<link href="../style/css/manual-print.css" rel="stylesheet" media="print" type="text/css" /><link rel="stylesheet" type="text/css" href="../style/css/prettify.css" />
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>

<link href="../images/favicon.ico" rel="shortcut icon" /></head>
<body>
<div id="page-header">
<p class="menu"><a href="../mod/">Modules</a> | <a href="../mod/quickreference.html">Directives</a> | <a href="http://wiki.apache.org/httpd/FAQ">FAQ</a> | <a href="../glossary.html">Glossaire</a> | <a href="../sitemap.html">Plan du site</a></p>
<p class="apache">Serveur HTTP Apache Version 2.5</p>
<img alt="" src="../images/feather.png" /></div>
<div class="up"><a href="./"><img title="&lt;-" alt="&lt;-" src="../images/left.gif" /></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">Serveur HTTP</a> &gt; <a href="http://httpd.apache.org/docs/">Documentation</a> &gt; <a href="../">Version 2.5</a> &gt; <a href="./">Modules</a></div>
<div id="page-content">
<div id="preamble"><h1>Module Apache mod_ssl</h1>
<div class="toplang">
<p><span>Langues Disponibles: </span><a href="../en/mod/mod_ssl.html" hreflang="en" rel="alternate" title="English">&nbsp;en&nbsp;</a> |
<a href="../es/mod/mod_ssl.html" hreflang="es" rel="alternate" title="Espa&#241;ol">&nbsp;es&nbsp;</a> |
<a href="../fr/mod/mod_ssl.html" title="Fran&#231;ais">&nbsp;fr&nbsp;</a></p>
</div>
<table class="module"><tr><th><a href="module-dict.html#Description">Description:</a></th><td>Chiffrement de haut niveau bas&#233; sur les protocoles Secure
Sockets Layer (SSL) et Transport Layer Security (TLS)</td></tr>
<tr><th><a href="module-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">Identificateur&#160;de&#160;Module:</a></th><td>ssl_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">Fichier&#160;Source:</a></th><td>mod_ssl.c</td></tr></table>
<h3>Sommaire</h3>

<p>Ce module fournit le support SSL v3 et TLS v1.x au serveur HTTP
Apache. SSL v2 n'est plus support&#233;.</p>

<p>Ce module s'appuie sur <a href="http://www.openssl.org/">OpenSSL</a>
pour fournir le moteur de chiffrement.</p>

<p>D'autres d&#233;tails, discussions et exemples sont fournis dans la <a href="../ssl/">documentation SSL</a>.</p>
</div>
<div id="quickview"><h3>Sujets</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif" /> <a href="#envvars">Variables d'environnement</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#logformats">Formats de journaux
personnalis&#233;s</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#notes">Information &#224; propos de la requ&#234;te</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#expressionparser">Extension pour l'interpr&#233;tation
des expressions</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#authzproviders">Fournisseurs d'autorisation
disponibles avec Require</a></li>
</ul><h3 class="directives">Directives</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif" /> <a href="#sslcacertificatefile">SSLCACertificateFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcacertificatepath">SSLCACertificatePath</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcadnrequestfile">SSLCADNRequestFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcadnrequestpath">SSLCADNRequestPath</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcarevocationcheck">SSLCARevocationCheck</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcarevocationfile">SSLCARevocationFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcarevocationpath">SSLCARevocationPath</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcertificatechainfile">SSLCertificateChainFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcertificatefile">SSLCertificateFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcertificatekeyfile">SSLCertificateKeyFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslciphersuite">SSLCipherSuite</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcompression">SSLCompression</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslcryptodevice">SSLCryptoDevice</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslengine">SSLEngine</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslfips">SSLFIPS</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslhonorcipherorder">SSLHonorCipherOrder</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslinsecurerenegotiation">SSLInsecureRenegotiation</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocspdefaultresponder">SSLOCSPDefaultResponder</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocspenable">SSLOCSPEnable</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocspnoverify">SSLOCSPNoverify</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocspoverrideresponder">SSLOCSPOverrideResponder</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocspproxyurl">SSLOCSPProxyURL</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocsprespondercertificatefile">SSLOCSPResponderCertificateFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocsprespondertimeout">SSLOCSPResponderTimeout</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocspresponsemaxage">SSLOCSPResponseMaxAge</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocspresponsetimeskew">SSLOCSPResponseTimeSkew</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslocspuserequestnonce">SSLOCSPUseRequestNonce</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslopensslconfcmd">SSLOpenSSLConfCmd</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#ssloptions">SSLOptions</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslpassphrasedialog">SSLPassPhraseDialog</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslpolicy">SSLPolicy</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslprotocol">SSLProtocol</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxycacertificatefile">SSLProxyCACertificateFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxycacertificatepath">SSLProxyCACertificatePath</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxycarevocationcheck">SSLProxyCARevocationCheck</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxycarevocationfile">SSLProxyCARevocationFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxycarevocationpath">SSLProxyCARevocationPath</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxycheckpeercn">SSLProxyCheckPeerCN</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxycheckpeerexpire">SSLProxyCheckPeerExpire</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxycheckpeername">SSLProxyCheckPeerName</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxyciphersuite">SSLProxyCipherSuite</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxyengine">SSLProxyEngine</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxymachinecertificatechainfile">SSLProxyMachineCertificateChainFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxymachinecertificatefile">SSLProxyMachineCertificateFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxymachinecertificatepath">SSLProxyMachineCertificatePath</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxyprotocol">SSLProxyProtocol</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxyverify">SSLProxyVerify</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslproxyverifydepth">SSLProxyVerifyDepth</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslrandomseed">SSLRandomSeed</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslrenegbuffersize">SSLRenegBufferSize</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslrequire">SSLRequire</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslrequiressl">SSLRequireSSL</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslsessioncache">SSLSessionCache</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslsessioncachetimeout">SSLSessionCacheTimeout</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslsessionticketkeyfile">SSLSessionTicketKeyFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslsessiontickets">SSLSessionTickets</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslsrpunknownuserseed">SSLSRPUnknownUserSeed</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslsrpverifierfile">SSLSRPVerifierFile</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingcache">SSLStaplingCache</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingerrorcachetimeout">SSLStaplingErrorCacheTimeout</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingfaketrylater">SSLStaplingFakeTryLater</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingforceurl">SSLStaplingForceURL</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingrespondertimeout">SSLStaplingResponderTimeout</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingresponsemaxage">SSLStaplingResponseMaxAge</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingresponsetimeskew">SSLStaplingResponseTimeSkew</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingreturnrespondererrors">SSLStaplingReturnResponderErrors</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstaplingstandardcachetimeout">SSLStaplingStandardCacheTimeout</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslstrictsnivhostcheck">SSLStrictSNIVHostCheck</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslusername">SSLUserName</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslusestapling">SSLUseStapling</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslverifyclient">SSLVerifyClient</a></li>
<li><img alt="" src="../images/down.gif" /> <a href="#sslverifydepth">SSLVerifyDepth</a></li>
</ul>
<h3>Traitement des bugs</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">Journal des modifications de httpd</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache%20httpd-2&amp;query_format=specific&amp;order=changeddate%20DESC%2Cpriority%2Cbug_severity&amp;component=mod_ssl">Probl&#232;mes connus</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache%20httpd-2&amp;component=mod_ssl">Signaler un bug</a></li></ul><h3>Voir aussi</h3>
<ul class="seealso">
<li><a href="#comments_section">Commentaires</a></li></ul></div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="section">
<h2><a name="envvars" id="envvars">Variables d'environnement</a><a title="Lien permanent" href="#envvars" class="permalink">&para;</a></h2>

<p>Ce module peut &#234;tre configur&#233; pour fournir aux espaces de nommage SSI
et CGI de nombreux &#233;l&#233;ments d'informations concernant SSL par le biais
de variables d'environnement suppl&#233;mentaires. Par d&#233;faut, et ceci pour
des raisons de performances, ces informations ne sont pas fournies (Voir
la directive <code class="directive">SSLOptions</code> StdEnvVars ci-dessous).
Les variables g&#233;n&#233;r&#233;es se trouvent dans la table ci-dessous.
L'information peut aussi &#234;tre disponible sous des noms diff&#233;rents &#224; des
fins de compatibilit&#233; ascendante. Reportez-vous au chapitre <a href="../ssl/ssl_compat.html">Compatibilit&#233;</a> pour plus de d&#233;tails &#224;
propos des variables de compatibilit&#233;.</p>

<table class="bordered">

<tr>
 <th><a name="table3">Nom de la variable :</a></th>
 <th>Type de valeur :</th>
 <th>Description :</th>
</tr>
<tr><td><code>HTTPS</code></td>                         <td>drapeau</td>
<td>HTTPS est utilis&#233;.</td></tr>
<tr><td><code>SSL_PROTOCOL</code></td>                  <td>cha&#238;ne</td>
<td>La version du protocole SSL (SSLv3, TLSv1, TLSv1.1, TLSv1.2)</td></tr>
<tr><td><code>SSL_SESSION_ID</code></td>                <td>cha&#238;ne</td>
<td>L'identifiant de session SSL cod&#233; en hexad&#233;cimal</td></tr>
<tr><td><code>SSL_SESSION_RESUMED</code></td>           <td>cha&#238;ne</td>
<td>Session SSL initiale ou reprise. Note : plusieurs requ&#234;tes peuvent
&#234;tre servies dans le cadre de la m&#234;me session SSL (initiale ou reprise)
si les connexions persistantes (HTTP KeepAlive) sont utilis&#233;es</td></tr>
<tr><td><code>SSL_SECURE_RENEG</code></td>              <td>cha&#238;ne</td>
<td><code>true</code> si la ren&#233;gociation s&#233;curis&#233;e est support&#233;e,
<code>false</code> dans le cas contraire</td></tr>
<tr><td><code>SSL_CIPHER</code></td>                    <td>cha&#238;ne</td>
<td>Le nom de l'algorithme de chiffrement</td></tr>
<tr><td><code>SSL_CIPHER_EXPORT</code></td>             <td>cha&#238;ne</td>
<td><code>true</code> si l'algorithme de chiffrement est un algorithme
export&#233;</td></tr>
<tr><td><code>SSL_CIPHER_USEKEYSIZE</code></td>         <td>nombre</td>
<td>Nombre de bits de chiffrement (r&#233;ellement utilis&#233;s)</td></tr>
<tr><td><code>SSL_CIPHER_ALGKEYSIZE</code></td>         <td>nombre</td>
<td>Nombre de bits de chiffrement (possible)</td></tr>
<tr><td><code>SSL_COMPRESS_METHOD</code></td>           <td>cha&#238;ne</td>
<td>M&#233;thode de compression SSL n&#233;goci&#233;e</td></tr>

<tr><td><code>SSL_VERSION_INTERFACE</code></td>         <td>cha&#238;ne</td>
<td>La version du programme mod_ssl</td></tr>
<tr><td><code>SSL_VERSION_LIBRARY</code></td>           <td>cha&#238;ne</td>
<td>La version du programme OpenSSL</td></tr>
<tr><td><code>SSL_CLIENT_M_VERSION</code></td>          <td>cha&#238;ne</td>
<td>La version du certificat client</td></tr>
<tr><td><code>SSL_CLIENT_M_SERIAL</code></td>           <td>cha&#238;ne</td>
<td>Le num&#233;ro de s&#233;rie du certificat client</td></tr>
<tr><td><code>SSL_CLIENT_S_DN</code></td>               <td>cha&#238;ne</td>
<td>Le DN sujet du certificat client</td></tr>
<tr><td><code>SSL_CLIENT_S_DN_</code><em>x509</em></td> <td>cha&#238;ne</td>
<td>El&#233;ment du DN sujet du client</td></tr>
<tr><td><code>SSL_CLIENT_SAN_Email_</code><em>n</em></td>
<td>cha&#238;ne</td>  <td>Extensions subjectAltName de type rfc822Name du certificat client</td></tr>
<tr><td><code>SSL_CLIENT_SAN_DNS_</code><em>n</em></td> <td>cha&#238;ne</td>
<td>Extensions subjectAltName de type dNSName du certificat client</td></tr>
<tr><td><code>SSL_CLIENT_SAN_OTHER_msUPN_</code><em>n</em></td>
<td>cha&#238;ne</td>    <td>Extensions subjectAltName de type otherName du
certificat client, forme Microsoft du nom principal de l'utilisateur (OID 1.3.6.1.4.1.311.20.2.3)</td></tr>
<tr><td><code>SSL_CLIENT_I_DN</code></td>               <td>cha&#238;ne</td>
<td>DN de l'&#233;metteur du certificat du client</td></tr>
<tr><td><code>SSL_CLIENT_I_DN_</code><em>x509</em></td> <td>cha&#238;ne</td>
<td>El&#233;ment du DN de l'&#233;metteur du certificat du client</td></tr>
<tr><td><code>SSL_CLIENT_V_START</code></td>            <td>cha&#238;ne</td>
<td>Validit&#233; du certificat du client (date de d&#233;but)</td></tr>
<tr><td><code>SSL_CLIENT_V_END</code></td>              <td>cha&#238;ne</td>
<td>Validit&#233; du certificat du client (date de fin)</td></tr>
<tr><td><code>SSL_CLIENT_V_REMAIN</code></td>           <td>cha&#238;ne</td>
<td>Nombre de jours avant expiration du certificat du client</td></tr>
<tr><td><code>SSL_CLIENT_A_SIG</code></td>              <td>cha&#238;ne</td>
<td>Algorithme utilis&#233; pour la signature du certificat du client</td></tr>
<tr><td><code>SSL_CLIENT_A_KEY</code></td>              <td>cha&#238;ne</td>
<td>Algorithme utilis&#233; pour la cl&#233; publique du certificat du client</td></tr>
<tr><td><code>SSL_CLIENT_CERT</code></td>               <td>cha&#238;ne</td>
<td>Certificat du client au format PEM</td></tr>
<tr><td><code>SSL_CLIENT_CERT_CHAIN_</code><em>n</em></td>
<td>cha&#238;ne</td>    <td>Certificats de la cha&#238;ne de certification du
client au format PEM</td></tr>
<tr><td><code>SSL_CLIENT_CERT_RFC4523_CEA</code></td>   <td>cha&#238;ne</td>
<td>Num&#233;ro de s&#233;rie et fournisseur du certificat. Le format correspond &#224;
celui de la CertificateExactAssertion de la RFC4523</td></tr>
<tr><td><code>SSL_CLIENT_VERIFY</code></td>             <td>cha&#238;ne</td>
<td><code>NONE</code>, <code>SUCCESS</code>, <code>GENEROUS</code> ou
<code>FAILED:</code><em>raison</em></td></tr>
<tr><td><code>SSL_SERVER_M_VERSION</code></td>          <td>cha&#238;ne</td>
<td>La version du certificat du serveur</td></tr>
<tr><td><code>SSL_SERVER_M_SERIAL</code></td>           <td>cha&#238;ne</td>    <td>

The serial of the server certificate</td></tr>
<tr><td><code>SSL_SERVER_S_DN</code></td>               <td>cha&#238;ne</td>
<td>DN sujet du certificat du serveur</td></tr>
<tr><td><code>SSL_SERVER_S_DN_</code><em>x509</em></td> <td>cha&#238;ne</td>
<td>El&#233;ment du DN sujet du certificat du serveur</td></tr>
<tr><td><code>SSL_SERVER_SAN_Email_</code><em>n</em></td>
<td>cha&#238;ne</td>  <td>Extensions subjectAltName de type rfc822Name du
certificat serveur</td></tr>
<tr><td><code>SSL_CLIENT_SAN_DNS_</code><em>n</em></td> <td>cha&#238;ne</td>
<td>Extensions subjectAltName de type dNSName du certificat serveur</td></tr>
<tr><td><code>SSL_SERVER_SAN_OTHER_dnsSRV_</code><em>n</em></td>
<td>cha&#238;ne</td>    <td>Extensions subjectAltName de type otherName du
certificat serveur, sous la forme SRVName (OID 1.3.6.1.5.5.7.8.7, RFC 4985)</td></tr>
<tr><td><code>SSL_SERVER_I_DN</code></td>               <td>cha&#238;ne</td>
<td>DN de l'&#233;metteur du certificat du serveur</td></tr>
<tr><td><code>SSL_SERVER_I_DN_</code><em>x509</em></td> <td>cha&#238;ne</td>
<td>El&#233;ment du DN de l'&#233;metteur du certificat du serveur</td></tr>
<tr><td><code>SSL_SERVER_V_START</code></td>            <td>cha&#238;ne</td>
<td>Validit&#233; du certificat du serveur (date de d&#233;dut)</td></tr>
<tr><td><code>SSL_SERVER_V_END</code></td>              <td>cha&#238;ne</td>
<td>Validit&#233; du certificat du serveur (date de fin)</td></tr>
<tr><td><code>SSL_SERVER_A_SIG</code></td>              <td>cha&#238;ne</td>
<td>Algorithme utilis&#233; pour la signature du certificat du serveur</td></tr>
<tr><td><code>SSL_SERVER_A_KEY</code></td>              <td>cha&#238;ne</td>
<td>Algorithme utilis&#233; pour la cl&#233; publique du certificat du serveur</td></tr>
<tr><td><code>SSL_SERVER_CERT</code></td>               <td>cha&#238;ne</td>
<td>Certificat du serveur au format PEM</td></tr>
<tr><td><code>SSL_SRP_USER</code></td>                  <td>string</td>
<td>nom d'utilisateur SRP</td></tr>
<tr><td><code>SSL_SRP_USERINFO</code></td>              <td>string</td>
<td>informations sur l'utilisateur SRP</td></tr>
<tr><td><code>SSL_TLS_SNI</code></td>                   <td>string</td>
<td>Contenu de l'extension SNI TLS (si support&#233; par ClientHello)</td></tr>
</table>

<p><em>x509</em> sp&#233;cifie un &#233;l&#233;ment de DN X.509 parmi
<code>C,ST,L,O,OU,CN,T,I,G,S,D,UID,Email</code>. A partir de la version
2.2.0 de httpd, <em>x509</em> peut aussi comporter un suffixe num&#233;rique
<code>_n</code>. Si le DN en question comporte plusieurs attributs de
noms identiques, ce suffixe constitue un index d&#233;butant &#224; z&#233;ro et
permettant de s&#233;lectionner un
attribut particulier. Par exemple, si le DN sujet du certificat du
serveur comporte deux champs OU, on peut utiliser
<code>SSL_SERVER_S_DN_OU_0</code> et <code>SSL_SERVER_S_DN_OU_1</code>
pour r&#233;f&#233;rencer chacun d'entre eux. Un nom de variable sans suffixe
<code>_n</code> est &#233;quivalent au m&#234;me nom avec le suffixe
<code>_0</code>, ce qui correspond au premier attribut (ou au seul)
caract&#233;risant le DN.
Lorsque la table d'environnement est remplie en utilisant l'option
<code>StdEnvVars</code> de la directive <code class="directive"><a href="#ssloptions">SSLOptions</a></code>, le premier attribut (ou le
seul) caract&#233;risant le DN est enregistr&#233; avec un nom sans suffixe ;
autrement dit, aucune entr&#233;e poss&#233;dant comme suffixe <code>_0</code>
n'est enregistr&#233;e.</p>

<p>Depuis la version 2.4.32 de httpd, il est possible d'ajouter le suffixe
<em>_RAW</em> &#224; <em>x509</em> dans un &#233;l&#233;ment DN afin d'&#233;viter la conversion en
UTF-8 de la valeur de l'attribut. Il doit &#234;tre plac&#233; apr&#232;s le suffixe index
(s'il existe), par exemple <code>SSL_SERVER_S_DN_OU_RAW</code> ou
<code>SSL_SERVER_S_DN_OU_0_RAW</code>.</p>

<p>Le format des variables <em>*_DN</em> a chang&#233; depuis la version
2.3.11 d'Apache HTTPD. Voir l'option <code>LegacyDNStringFormat</code>
de la directive <code class="directive"><a href="#ssloptions">SSLOptions</a></code> pour
plus de d&#233;tails.</p>

<p><code>SSL_CLIENT_V_REMAIN</code> n'est disponible qu'&#224; partir de la
version 2.1.</p>

<p>Plusieurs variables d'environnement additionnelles peuvent &#234;tre
utilis&#233;es dans les expressions <code class="directive">SSLRequire</code>, ou
dans les formats de journalisation personnalis&#233;s :</p>

<div class="note"><pre>HTTP_USER_AGENT        PATH_INFO             AUTH_TYPE
HTTP_REFERER           QUERY_STRING          SERVER_SOFTWARE
HTTP_COOKIE            REMOTE_HOST           API_VERSION
HTTP_FORWARDED         REMOTE_IDENT          TIME_YEAR
HTTP_HOST              IS_SUBREQ             TIME_MON
HTTP_PROXY_CONNECTION  DOCUMENT_ROOT         TIME_DAY
HTTP_ACCEPT            SERVER_ADMIN          TIME_HOUR
THE_REQUEST            SERVER_NAME           TIME_MIN
REQUEST_FILENAME       SERVER_PORT           TIME_SEC
REQUEST_METHOD         SERVER_PROTOCOL       TIME_WDAY
REQUEST_SCHEME         REMOTE_ADDR           TIME
REQUEST_URI            REMOTE_USER</pre></div>

<p>Dans ces contextes, deux formats sp&#233;ciaux peuvent aussi &#234;tre utilis&#233;s
:</p>

<dl>
  <dt><code>ENV:<em>nom_variable</em></code></dt>
  <dd>Correspond &#224; la variable d'environnement standard
  <em>nom_variable</em>.</dd>

  <dt><code>HTTP:<em>nom_en-t&#234;te</em></code></dt>
  <dd>Correspond &#224; la valeur de l'en-t&#234;te de requ&#234;te dont le nom est
  <em>nom_en-t&#234;te</em>.</dd>
</dl>

</div><div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="section">
<h2><a name="logformats" id="logformats">Formats de journaux
personnalis&#233;s</a><a title="Lien permanent" href="#logformats" class="permalink">&para;</a></h2>

<p>Lorsque <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> est compil&#233; dans le serveur Apache
ou m&#234;me charg&#233; (en mode DSO), des fonctions suppl&#233;mentaires sont
disponibles pour le <a href="mod_log_config.html#formats">Format de journal personnalis&#233;</a> du
module <code class="module"><a href="../mod/mod_log_config.html">mod_log_config</a></code>. A ce titre, la fonction de
format d'eXtension ``<code>%{</code><em>nom-var</em><code>}x</code>''
peut &#234;tre utilis&#233;e pour pr&#233;senter en extension toute variable fournie
par tout module, et en particulier celles fournies par mod_ssl et que
vous trouverez dans la table ci-dessus.</p>
<p>
A des fins de compatibilit&#233; ascendante, il existe une fonction de format
cryptographique suppl&#233;mentaire
``<code>%{</code><em>nom</em><code>}c</code>''. Vous trouverez toutes
les informations &#224; propos de cette fonction dans le chapitre <a href="../ssl/ssl_compat.html">Compatibilit&#233;</a>.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">CustomLog "logs/ssl_request_log" "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"</pre>
</div>
<p>Ces formats sont disponibles m&#234;me si l'option <code>StdEnvVars</code> de la
directive <code class="directive"><a href="#ssloptions">SSLOptions</a></code> n'a pas &#233;t&#233;
d&#233;finie.</p>
</div><div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="section">
<h2><a name="notes" id="notes">Information &#224; propos de la requ&#234;te</a><a title="Lien permanent" href="#notes" class="permalink">&para;</a></h2>

<p><code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> enregistre des informations &#224; propos de la
requ&#234;te que l'on peut restituer dans les journaux avec la cha&#238;ne de
format <code>%{<em>nom</em>}n</code> via le module
<code class="module"><a href="../mod/mod_log_config.html">mod_log_config</a></code>.</p>

<p>Les informations enregistr&#233;es sont les suivantes :</p>

<dl>
  <dt><code>ssl-access-forbidden</code></dt>
  <dd>Cette information contient la valeur <code>1</code> si l'acc&#232;s a
  &#233;t&#233; refus&#233; suite &#224; une directive <code class="directive">SSLRequire</code> ou
  <code class="directive">SSLRequireSSL</code>.</dd>

  <dt><code>ssl-secure-reneg</code></dt>
  <dd>Si <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> a &#233;t&#233; compil&#233; avec une version
  d'OpenSSL qui supporte la ren&#233;gociation s&#233;curis&#233;e, si SSL est utilis&#233;
  pour la connexion courante et si le client supporte lui aussi la
  ren&#233;gociation s&#233;curis&#233;e, cette information contiendra la valeur
  <code>1</code>. Si le client ne supporte pas la ren&#233;gociation
  s&#233;curis&#233;e, l'information contiendra la valeur <code>0</code>. Si
  <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> n'a pas &#233;t&#233; compil&#233; avec une version
  d'OpenSSL qui supporte la ren&#233;gociation s&#233;curis&#233;e, ou si SSL n'est pas
  utilis&#233; pour la connexion courante, le contenu de l'information ne
  sera pas d&#233;fini.</dd>
</dl>

</div><div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="section">
<h2><a name="expressionparser" id="expressionparser">Extension pour l'interpr&#233;tation
des expressions</a><a title="Lien permanent" href="#expressionparser" class="permalink">&para;</a></h2>

<p>Lorsque <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> est compil&#233; statiquement avec
Apache, ou m&#234;me charg&#233; dynamiquement (en tant que module DSO), toute <a name="envvars">variable</a> en provenance de <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> peut
&#234;tre utilis&#233;e pour l'<a href="../expr.html">interpr&#233;tation des
expression ap_expr</a>. Les variables peuvent &#234;tre r&#233;f&#233;renc&#233;es en
utilisant la syntaxe ``<code>%{</code><em>varname</em><code>}</code>''.
A partir de la version 2.4.18, on peut aussi utiliser la syntaxe de
style <code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code>
``<code>%{SSL:</code><em>varname</em><code>}</code>'', ou la syntaxe de
style fonction ``<code>ssl(</code><em>varname</em><code>)</code>''.</p>
<div class="example"><h3>Exemple (en utilisant <code class="module"><a href="../mod/mod_headers.html">mod_headers</a></code>)</h3><pre class="prettyprint lang-config">Header set X-SSL-PROTOCOL "expr=%{SSL_PROTOCOL}"
Header set X-SSL-CIPHER "expr=%{SSL:SSL_CIPHER}"</pre>
</div>
<p>Cette fonctionnalit&#233; est disponible m&#234;me si l'option
<code>StdEnvVars</code> de la directive <code class="directive"><a href="#ssloptions">SSLOptions</a></code> n'a pas &#233;t&#233; d&#233;finie.</p>
</div><div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="section">
<h2><a name="authzproviders" id="authzproviders">Fournisseurs d'autorisation
disponibles avec Require</a><a title="Lien permanent" href="#authzproviders" class="permalink">&para;</a></h2>

  <p><code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> propose quelques fournisseurs
  d'autorisation &#224; utiliser avec la directive <code class="directive"><a href="../mod/mod_authz_core.html#require">Require</a></code> du module
  <code class="module"><a href="../mod/mod_authz_core.html">mod_authz_core</a></code>.</p>

  <h3><a name="reqssl" id="reqssl">Require ssl</a></h3>

    <p>Le fournisseur <code>ssl</code> refuse l'acc&#232;s si une connexion
    n'est pas chiffr&#233;e avec SSL. L'effet est similaire &#224; celui de la
    directive <code class="directive">SSLRequireSSL</code>.</p>


    <pre class="prettyprint lang-config">Require ssl</pre>



  

  <h3><a name="reqverifyclient" id="reqverifyclient">Require ssl-verify-client</a></h3>

    <p>Le fournisseur <code>ssl</code> autorise l'acc&#232;s si
    l'utilisateur est authentifi&#233; via un certificat client valide. Ceci
    n'a un effet que si <code>SSLVerifyClient optional</code> est actif.</p>

    <p>Dans l'exemple suivant, l'acc&#232;s est autoris&#233; si le client est
    authentifi&#233; via un certificat client ou par nom d'utilisateur/mot de
    passe :</p>

    <pre class="prettyprint lang-config">Require ssl-verify-client
Require valid-user</pre>


  

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcacertificatefile" id="sslcacertificatefile">Directive</a> <a name="SSLCACertificateFile" id="SSLCACertificateFile">SSLCACertificateFile</a><a title="Lien permanent" href="#sslcacertificatefile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier contenant une concat&#233;nation des certificats de CA
cod&#233;s en PEM pour l'authentification des clients</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCACertificateFile <var>file-path</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le fichier <em>tout-en-un</em> o&#249; vous
pouvez rassembler les certificats des Autorit&#233;s de Certification (CAs)
pour les clients auxquels vous avez &#224; faire. On les utilise pour
l'authentification des clients. Un tel fichier contient la simple
concat&#233;nation des diff&#233;rents fichiers de certificats cod&#233;s en PEM, par
ordre de pr&#233;f&#233;rence. Cette directive peut &#234;tre utilis&#233;e &#224; la place et/ou
en compl&#233;ment de la directive <code class="directive"><a href="#sslcacertificatepath">SSLCACertificatePath</a></code>.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCACertificateFile "/usr/local/apache2/conf/ssl.crt/ca-bundle-client.crt"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcacertificatepath" id="sslcacertificatepath">Directive</a> <a name="SSLCACertificatePath" id="SSLCACertificatePath">SSLCACertificatePath</a><a title="Lien permanent" href="#sslcacertificatepath" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>R&#233;pertoire des certificats de CA cod&#233;s en PEM pour
l'authentification des clients</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCACertificatePath <em>chemin-r&#233;pertoire</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le r&#233;pertoire o&#249; sont stock&#233;s les
certificats des Autorit&#233;s de Certification (CAs) pour les clients
auxquels vous avez &#224; faire. On les utilise pour v&#233;rifier le certificat
du client au cours de l'authentification de ce dernier.</p>
<p>
Les fichiers de ce r&#233;pertoire doivent &#234;tre cod&#233;s en PEM et ils sont
acc&#233;d&#233;s via des noms de fichier sous forme de condens&#233;s ou hash. Il ne
suffit donc pas de placer les fichiers de certificats dans ce r&#233;pertoire
: vous devez aussi cr&#233;er des liens symboliques nomm&#233;s
<em>valeur-de-hashage</em><code>.N</code>, et vous devez toujours vous
assurer que ce r&#233;pertoire contient les liens symboliques appropri&#233;s.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCACertificatePath "/usr/local/apache2/conf/ssl.crt/"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcadnrequestfile" id="sslcadnrequestfile">Directive</a> <a name="SSLCADNRequestFile" id="SSLCADNRequestFile">SSLCADNRequestFile</a><a title="Lien permanent" href="#sslcadnrequestfile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier contenant la concat&#233;nation des certificats de CA
cod&#233;s en PEM pour la d&#233;finition de noms de CA acceptables</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCADNRequestFile <var>file-path</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>Lorsque mod_ssl demande un certificat client, une liste de <em>noms
d'Autorit&#233;s de Certification acceptables</em> est envoy&#233;e au client au
cours de la phase d'initialisation de la connexion SSL. Le client peut
alors utiliser cette liste de noms de CA pour s&#233;lectionner un certificat
client appropri&#233; parmi ceux dont il dispose.</p>

<p>Si aucune des directives <code class="directive"><a href="#sslcadnrequestpath">SSLCADNRequestPath</a></code> ou <code class="directive"><a href="#sslcadnrequestfile">SSLCADNRequestFile</a></code> n'est d&#233;finie, la liste
de noms de CsA acceptables envoy&#233;e au client est la liste des noms de
tous les certificats de CA sp&#233;cifi&#233;s par les directives <code class="directive"><a href="#sslcacertificatefile">SSLCACertificateFile</a></code> et <code class="directive"><a href="#sslcacertificatepath">SSLCACertificatePath</a></code> ; en d'autres termes,
c'est la liste des noms de CAs qui sera effectivement utilis&#233;e pour
v&#233;rifier le certificat du client.</p>

<p>Dans certaines situations, il est utile de pouvoir envoyer
une liste de noms de CA acceptables qui diff&#232;re de la liste des CAs
effectivement utilis&#233;s pour v&#233;rifier le certificat du client ;
consid&#233;rons par exemple le cas o&#249; le certificat du client est sign&#233; par
des CAs interm&#233;diaires. On peut ici utiliser les directives <code class="directive"><a href="#sslcadnrequestpath">SSLCADNRequestPath</a></code> et/ou <code class="directive"><a href="#sslcadnrequestfile">SSLCADNRequestFile</a></code>, et les noms de CA
acceptables seront alors extraits de l'ensemble des certificats contenus
dans le r&#233;pertoire et/ou le fichier d&#233;finis par cette paire de
directives.</p>

<p><code class="directive"><a href="#sslcadnrequestfile">SSLCADNRequestFile</a></code> doit
sp&#233;cifier un fichier <em>tou-en-un</em> contenant une concat&#233;nation des
certificats de CA cod&#233;s en PEM.</p>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCADNRequestFile "/usr/local/apache2/conf/ca-names.crt"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcadnrequestpath" id="sslcadnrequestpath">Directive</a> <a name="SSLCADNRequestPath" id="SSLCADNRequestPath">SSLCADNRequestPath</a><a title="Lien permanent" href="#sslcadnrequestpath" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>R&#233;pertoire contenant des fichiers de certificats de CA
cod&#233;s en PEM pour la d&#233;finition de noms de CA acceptables</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCADNRequestPath <em>chemin-r&#233;pertoire</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>

<p>Cette directive optionnelle permet de d&#233;finir la liste de <em>noms de
CAs acceptables</em> qui sera envoy&#233;e au client lorsqu'un certificat de
client est demand&#233;. Voir la directive <code class="directive"><a href="#sslcadnrequestfile">SSLCADNRequestFile</a></code> pour plus de
d&#233;tails.</p>

<p>Les fichiers de ce r&#233;pertoire doivent &#234;tre cod&#233;s en PEM et ils sont
acc&#233;d&#233;s via des noms de fichier sous forme de condens&#233;s ou hash. Il ne
suffit donc pas de placer les fichiers de certificats dans ce r&#233;pertoire
: vous devez aussi cr&#233;er des liens symboliques nomm&#233;s
<em>valeur-de-hashage</em><code>.N</code>, et vous devez toujours vous
assurer que ce r&#233;pertoire contient les liens symboliques appropri&#233;s.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCADNRequestPath "/usr/local/apache2/conf/ca-names.crt/"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcarevocationcheck" id="sslcarevocationcheck">Directive</a> <a name="SSLCARevocationCheck" id="SSLCARevocationCheck">SSLCARevocationCheck</a><a title="Lien permanent" href="#sslcarevocationcheck" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Active la v&#233;rification des r&#233;vocations bas&#233;e sur les CRL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCARevocationCheck chain|leaf|none <em>flag</em>s</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLCARevocationCheck none</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Le param&#232;tre optionnel <em>flag</em>s est disponible &#224; partir de
la version 2.4.21 du serveur HTTP Apache</td></tr>
</table>
<p>
Active la v&#233;rification des r&#233;vocations bas&#233;e sur les Listes de
R&#233;vocations de Certificats (CRL). Au moins une des directives <code class="directive"><a href="#sslcarevocationfile">SSLCARevocationFile</a></code> ou <code class="directive"><a href="#sslcarevocationpath">SSLCARevocationPath</a></code> doit &#234;tre d&#233;finie.
Lorsque cette directive est d&#233;finie &#224; <code>chain</code> (valeur
recommand&#233;e), les v&#233;rifications CRL sont effectu&#233;es sur tous les
certificats de la cha&#238;ne, alors que la valeur <code>leaf</code> limite
la v&#233;rification au certificat hors cha&#238;ne (la feuille).
</p>
<div class="note">
<h3>Lorsque la directive est d&#233;finie &#224; <code>chain</code> ou
<code>leaf</code>, les CRLs doivent &#234;tre disponibles pour que la
validation r&#233;ussisse</h3>
<p>
Avant la version 2.3.15, les v&#233;rifications CRL dans mod_ssl
r&#233;ussissaient m&#234;me si aucune CRL n'&#233;tait trouv&#233;e dans les chemins
d&#233;finis par les directives <code class="directive"><a href="#sslcarevocationfile">SSLCARevocationFile</a></code> ou <code class="directive"><a href="#sslcarevocationpath">SSLCARevocationPath</a></code>. Le comportement a
chang&#233; avec l'introduction de cette directive : lorsque la v&#233;rification
est activ&#233;e, les CRLs <em>doivent</em> &#234;tre pr&#233;sentes pour que la
validation r&#233;ussisse ; dans le cas contraire, elle &#233;chouera avec une
erreur <code>"CRL introuvable"</code>.
</p>
</div>

<p>Les <em>drapeau</em>x disponibles sont :</p>
<ul>
<li><code>no_crl_for_cert_ok</code>
    <p>
    Avant la version 2.3.15, les v&#233;rifications CRL dans mod_ssl
r&#233;ussissaient m&#234;me si aucune CRL pour le/les certificat(s) v&#233;rifi&#233;(s) n'&#233;tait
trouv&#233;e dans les chemins d&#233;finis par les directives  <code class="directive"><a href="#sslcarevocationfile">SSLCARevocationFile</a></code> ou <code class="directive"><a href="#sslcarevocationpath">SSLCARevocationPath</a></code>.
    </p>
    <p>
    Ce comportement a chang&#233; avec l'introduction de cette directive ; par d&#233;faut
    avec <code>chain</code> ou <code>leaf</code>, les CRLs doivent &#234;tre pr&#233;sents
    pour que la validation r&#233;ussisse ; si ce n'est pas le cas, elle &#233;chouera
    avec une erreur <code>"unable to get certificate CRL"</code>.
    </p>
    <p>
    Le <em>drapeau</em> <code>no_crl_for_cert_ok</code> permet de r&#233;tablir le
    comportement pr&#233;c&#233;dent.
    </p>
</li>
</ul>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCARevocationCheck chain</pre>
</div>
<div class="example"><h3>Compatibilit&#233; avec les versions 2.2</h3><pre class="prettyprint lang-config">SSLCARevocationCheck chain no_crl_for_cert_ok</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcarevocationfile" id="sslcarevocationfile">Directive</a> <a name="SSLCARevocationFile" id="SSLCARevocationFile">SSLCARevocationFile</a><a title="Lien permanent" href="#sslcarevocationfile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier contenant la concat&#233;nation des CRLs des CA cod&#233;s en
PEM pour l'authentification des clients</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCARevocationFile <var>file-path</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le fichier <em>tout-en-un</em> o&#249; sont
rassembl&#233;es les Listes de R&#233;vocation de Certificats (CRLs) des Autorit&#233;s
de certification (CAs) pour les clients auxquels vous avez &#224; faire. On
les utilise pour l'authentification des clients. Un tel fichier contient
la simple concat&#233;nation des diff&#233;rents fichiers de CRLs cod&#233;s en PEM,
dans l'ordre de pr&#233;f&#233;rence. Cette directive peut &#234;tre utilis&#233;e &#224; la
place et/ou en compl&#233;ment de la directive <code class="directive"><a href="#sslcarevocationpath">SSLCARevocationPath</a></code>.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCARevocationFile "/usr/local/apache2/conf/ssl.crl/ca-bundle-client.crl"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcarevocationpath" id="sslcarevocationpath">Directive</a> <a name="SSLCARevocationPath" id="SSLCARevocationPath">SSLCARevocationPath</a><a title="Lien permanent" href="#sslcarevocationpath" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>R&#233;pertoire des CRLs de CA cod&#233;s en PEM pour
l'authentification des clients</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCARevocationPath <em>chemin-r&#233;pertoire</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le r&#233;pertoire o&#249; sont stock&#233;es les
Listes de R&#233;vocation de Certificats (CRL) des Autorit&#233;s de Certification
(CAs) pour les clients auxquels vous avez &#224; faire. On les utilise pour
r&#233;voquer les certificats des clients au cours de l'authentification de
ces derniers.</p>
<p>
Les fichiers de ce r&#233;pertoire doivent &#234;tre cod&#233;s en PEM et ils sont
acc&#233;d&#233;s via des noms de fichier sous forme de condens&#233;s ou hash. Il ne
suffit donc pas de placer les fichiers de CRL dans ce r&#233;pertoire
: vous devez aussi cr&#233;er des liens symboliques nomm&#233;s
<em>valeur-de-hashage</em><code>.N</code>, et vous devez toujours vous
assurer que ce r&#233;pertoire contient les liens symboliques appropri&#233;s.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCARevocationPath "/usr/local/apache2/conf/ssl.crl/"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcertificatechainfile" id="sslcertificatechainfile">Directive</a> <a name="SSLCertificateChainFile" id="SSLCertificateChainFile">SSLCertificateChainFile</a><a title="Lien permanent" href="#sslcertificatechainfile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier contenant les certificats de CA du serveur cod&#233;s en
PEM</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCertificateChainFile <var>file-path</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<div class="note"><h3>SSLCertificateChainFile est obsol&#232;te</h3>
<p><code>SSLCertificateChainFile</code> est devenue obsol&#232;te avec la
version 2.4.8, lorsque la directive
<code class="directive"><a href="#sslcertificatefile">SSLCertificateFile</a></code> a &#233;t&#233; &#233;tendue
pour supporter aussi les certificats de CA interm&#233;diaires dans le
fichier de certificats du serveur.</p>
</div>

<p>
Cette directive permet de d&#233;finir le fichier optionnel
<em>tout-en-un</em> o&#249; vous pouvez rassembler les certificats des
Autorit&#233;s de Certification (CA) qui forment la cha&#238;ne de certification
du certificat du serveur. Cette cha&#238;ne d&#233;bute par le certificat de la CA
qui a d&#233;livr&#233; le certificat du serveur et peut remonter jusqu'au
certificat de la CA racine. Un tel fichier contient la simple
concat&#233;nation des diff&#233;rents certificats de CA cod&#233;s en PEM, en g&#233;n&#233;ral
dans l'ordre de la cha&#238;ne de certification.</p>
<p>Elle doit &#234;tre utilis&#233;e &#224; la place et/ou en compl&#233;ment de la
directive <code class="directive"><a href="#sslcacertificatepath">SSLCACertificatePath</a></code>
pour construire explicitement la cha&#238;ne de certification du serveur qui
est envoy&#233;e au navigateur en plus du certificat du serveur. Elle s'av&#232;re
particuli&#232;rement utile pour &#233;viter les conflits avec les certificats de
CA lorsqu'on utilise l'authentification du client. Comme le fait de
placer un certificat de CA de la cha&#238;ne de certification du serveur dans
la directive <code class="directive"><a href="#sslcacertificatepath">SSLCACertificatePath</a></code> produit le m&#234;me effet
pour la construction de la cha&#238;ne de certification, cette directive a
pour effet colat&#233;ral de faire accepter les certificats clients fournis
par cette m&#234;me CA, au cours de l'authentification du client.</p>
<p>
Soyez cependant prudent : fournir la cha&#238;ne de certification ne
fonctionne que si vous utilisez un <em>simple</em> certificat de
serveur RSA <em>ou</em> DSA. Si vous utilisez une paire de certificats
coupl&#233;s RSA+DSA , cela ne fonctionnera que si les deux certificats
utilisent vraiment <em>la m&#234;me</em> cha&#238;ne de certification. Dans le cas
contraire, la confusion risque de s'installer au niveau des
navigateurs.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCertificateChainFile "/usr/local/apache2/conf/ssl.crt/ca.crt"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcertificatefile" id="sslcertificatefile">Directive</a> <a name="SSLCertificateFile" id="SSLCertificateFile">SSLCertificateFile</a><a title="Lien permanent" href="#sslcertificatefile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier de donn&#233;es contenant les informations de certificat X.509 du serveur
cod&#233;es au format PEM ou identificateur de jeton</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCertificateFile <var>file-path</var>|<var>certid</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>L'option <var>certid</var> est disponible &#224; partir de la version
2.5.1 du serveur HTTP Apache.</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le fichier de donn&#233;es contenant les
informations de certificat X.509 du serveur cod&#233;es au format PEM ou
l'identificateur de certificat via un jeton cryptographique. Si on utilise un
fichier au format PEM, ce dernier doit contenir au minimum un certificat
d'entit&#233; finale (feuille).  La directive peut &#234;tre utilis&#233;e plusieurs fois (elle
r&#233;f&#233;rence des fichiers diff&#233;rents) pour accepter plusieurs algorithmes
d'authentification au niveau du serveur - souvent RSA, DSA et ECC. Le nombre
d'algorithmes support&#233;s d&#233;pend de la version d'OpenSSL utilis&#233;e avec mod_ssl : &#224;
partir de la version 1.0.0, la commande <code>openssl
list-public-key-algorithms</code> affiche la liste des algorithmes support&#233;s.
Voir aussi la note ci-dessous &#224; propos des limitations des versions d'OpenSSL
ant&#233;rieures &#224; 1.0.2 et la mani&#232;re de les contourner.
</p>

<p>Les fichiers peuvent aussi contenir des certificats de CA
interm&#233;diaires tri&#233;s depuis la feuille vers la racine. Cette
fonctionnalit&#233; est disponible depuis la version 2.4.8 du serveur HTTP
Apache, et rend obsol&#232;te la directive <code class="directive"><a href="#sslcertificatechainfile">SSLCertificateChainFile</a></code>. A partir de la
version 1.0.2 d'OpenSSL, il est alors possible de configurer la cha&#238;ne
de certification en fonction du certificat.</p>

<p>Depuis la version 2.4.7 du serveur HTTP Apache, on peut aussi ajouter
des param&#232;tres DH personnalis&#233;s et un nom EC
curve pour les cl&#233;s &#233;ph&#233;m&#232;res &#224; la fin du premier fichier d&#233;fini par la
directive <code class="directive"><a href="#sslcertificatefile">SSLCertificateFile</a></code>.
Ces param&#232;tres peuvent &#234;tre g&#233;n&#233;r&#233;s avec les commandes <code>openssl
dhparam</code> et <code>openssl ecparam</code>, et ils peuvent &#234;tre
ajout&#233;s tel quel &#224; la fin du premier fichier de certificat. En effet,
seul le premier fichier de certificat d&#233;fini peut &#234;tre utilis&#233; pour
enregistrer des param&#232;tres personnalis&#233;s, car ces derniers s'appliquent
ind&#233;pendamment de l'algorithme d'authentification utilis&#233;.
</p>

<p>Enfin, il est aussi possible d'ajouter la cl&#233; priv&#233;e du certificat de
l'entit&#233; finale au fichier de certificat, ce qui permet de se passer
d'une directive <code class="directive"><a href="#sslcertificatekeyfile">SSLCertificateKeyFile</a></code> s&#233;par&#233;e. Cette
pratique est cependant fortement d&#233;conseill&#233;e. En effet, les fichiers de
certificats qui contiennent de tels cl&#233;s embarqu&#233;es doivent &#234;tre d&#233;finis
avant les certificats en utilisant un fichier de cl&#233; s&#233;par&#233;. En outre,
si la cl&#233; est chiffr&#233;e, une bo&#238;te de dialogue pour entrer le mot de
passe de la cl&#233; s'ouvre au d&#233;marrage du serveur.
</p>

<p>Plut&#244;t que de stocker les certificats et les cl&#233;s priv&#233;es dans des fichiers,
on peut utiliser un identificateur de certificat pour identifier un certificat
stock&#233; dans un jeton. Actuellement, seuls les <a href="https://tools.ietf.org/html/rfc7512">URIs PKCS#11</a> sont reconnus comme
identificateurs de certificats et peuvent &#234;tre utilis&#233;s en conjonction avec le
moteur OpenSSL <code>pkcs11</code>. Si la directive <code class="directive"><a href="#sslcertificatekeyfile">SSLCertificateKeyFile</a></code> est absente, le certificat et
la cl&#233; priv&#233;e peuvent &#234;tre charg&#233;s avec l'identificateur sp&#233;cifi&#233; via la
directive <code class="directive"><a href="#sslcertificatefile">SSLCertificateFile</a></code>.</p>

<div class="note">
<h3>Interop&#233;rabilit&#233; des param&#232;tres DH avec les nombres premiers de
plus de 1024 bits</h3>
<p>
Depuis la version 2.4.7, mod_ssl utilise des
param&#232;tres DH standardis&#233;s avec des nombres premiers de 2048, 3072 et
4096 bits, et avec des nombres premiers de 6144 et 8192 bits depuis la
version 2.4.10 (voir <a href="http://www.ietf.org/rfc/rfc3526.txt">RFC
3526</a>), et les fournit aux clients en fonction de la longueur de la
cl&#233; du certificat RSA/DSA. En particulier avec les clients bas&#233;s sur
Java (versions 7 et ant&#233;rieures), ceci peut provoquer des erreurs au
cours de la n&#233;gociation - voir cette <a href="../ssl/ssl_faq.html#javadh">r&#233;ponse de la FAQ SSL</a> pour
contourner les probl&#232;mes de ce genre.
</p>
</div>

<div class="note">
<h3>Param&#232;tres DH par d&#233;faut lorsqu'on utilise plusieurs certificats et une
version d'OpenSSL ant&#233;rieure &#224; 1.0.2.</h3>
<p>
Lorsqu'on utilise plusieurs certificats pour supporter diff&#233;rents algorithmes
d'authentification (comme RSA, DSA, mais principalement ECC) et une
version d'OpenSSL ant&#233;rieure &#224; 1.0.2, il est recommand&#233; soit d'utiliser des
param&#232;tres DH sp&#233;cifiques (solution &#224; privil&#233;gier) en les ajoutant au premier
fichier certificat (comme d&#233;crit ci-dessus), soit d'ordonner les directives
<code class="directive">SSLCertificateFile</code> de fa&#231;on &#224; ce que les certificats
RSA/DSA soit plac&#233;s <strong>apr&#232;s</strong> les certificats ECC.
</p>
<p>
Cette limitation est pr&#233;sente dans les anciennes versions d'OpenSSL qui
pr&#233;sentent toujours le dernier certificat configur&#233;, au lieu
de laisser le serveur HTTP Apache d&#233;terminer le certificat s&#233;lectionn&#233; lors de
la phase de n&#233;gociation de la connexion (lorsque les param&#232;tres DH doivent &#234;tre
envoy&#233;s &#224; l'h&#244;te distant).
De ce fait, le serveur peut s&#233;lectionner des param&#232;tres DH par d&#233;faut bas&#233;s sur
la longueur de la cl&#233; du mauvais certificat (les cl&#233;s ECC sont beaucoup plus
petites que les cl&#233;s RSA/DSA et leur longueur n'est pas pertinente pour la
s&#233;lection des nombres premiers DH).
</p>
<p>
Ce probl&#232;me peut &#234;tre r&#233;solu en cr&#233;ant et configurant des param&#232;tres DH
sp&#233;cifiques (comme d&#233;crit ci-dessus), car ils l'emportent toujours sur les
param&#232;tres DH par d&#233;faut, et vous pourrez ainsi utiliser une longueur sp&#233;cifique
et appropri&#233;e.
</p>
</div>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config"># Exemple utilisant un fichier cod&#233; en PEM.
SSLCertificateFile "/usr/local/apache2/conf/ssl.crt/server.crt"
# Exemple d'utilisation d'un certificat et d'une cl&#233; priv&#233;s issus d'un jeton
# PKCS#11 :
SSLCertificateFile "pkcs11:token=My%20Token%20Name;id=45"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcertificatekeyfile" id="sslcertificatekeyfile">Directive</a> <a name="SSLCertificateKeyFile" id="SSLCertificateKeyFile">SSLCertificateKeyFile</a><a title="Lien permanent" href="#sslcertificatekeyfile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier contenant la cl&#233; priv&#233;e du serveur cod&#233;e en
PEM</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCertificateKeyFile <var>file-path</var>|<var>keyid</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td><var>keyid</var> est disponible &#224; partir de la version 2.5.1 du
serveur HTTP Apache.</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le fichier contenant la cl&#233; priv&#233;e du serveur
cod&#233;e en PEM ou l'identifiant de la cl&#233; via un jeton cryptographique d&#233;fini. Si
la cl&#233; priv&#233;e est chiffr&#233;e, une bo&#238;te de dialogue demandant le mot de passe de
cette derni&#232;re s'ouvre au d&#233;marrage du serveur.</p>

<p>
Cette directive peut &#234;tre utilis&#233;e plusieurs fois pour r&#233;f&#233;rencer
diff&#233;rents noms de fichiers, afin de supporter plusieurs algorithmes
pour l'authentification du serveur. A chaque directive <code class="directive"><a href="#sslcertificatekeyfile">SSLCertificateKeyFile</a></code> doit &#234;tre associ&#233;e
une directive <code class="directive">SSLCertificateFile</code> correspondante.</p>

<p>
La cl&#233; priv&#233; peut aussi &#234;tre ajout&#233;e au fichier d&#233;fini par la directive
<code class="directive"><a href="#sslcertificatefile">SSLCertificateFile</a></code>, mais cette
pratique est fortement d&#233;conseill&#233;e. En effet, les fichiers de
certificats qui comportent une telle cl&#233; doivent &#234;tre d&#233;finis apr&#232;s les
certificats en utilisant un fichier de cl&#233; s&#233;par&#233;.</p>

<p>Plut&#244;t que de stocker des cl&#233;s priv&#233;es dans des fichiers, il est possible
d'identifier une cl&#233; priv&#233;e via un identifiant stock&#233; dans un jeton.
Actuellement, seuls les <a href="https://tools.ietf.org/html/rfc7512">PKCS#11
URIs</a> sont reconnus comme identifiants de cl&#233;s priv&#233;es et peuvent &#234;tre
utilis&#233;s en conjonction avec le moteur OpenSSL <code>pkcs11</code>.</p>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config"># Pour utiliser une cl&#233; priv&#233;e stock&#233;e dans fichier encod&#233; PEM :
SSLCertificateKeyFile "/usr/local/apache2/conf/ssl.key/server.key"
# Pour utiliser une cl&#233; priv&#233;e &#224; partir d'un jeton PKCS#11 :
SSLCertificateKeyFile "pkcs11:token=My%20Token%20Name;id=45"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslciphersuite" id="sslciphersuite">Directive</a> <a name="SSLCipherSuite" id="SSLCipherSuite">SSLCipherSuite</a><a title="Lien permanent" href="#sslciphersuite" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Algorithmes de chiffrement disponibles pour la n&#233;gociation
au cours de l'initialisation de la connexion SSL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCipherSuite [<em>protocol</em>] <em>cipher-spec</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLCipherSuite DEFAULT (d&#233;pend de la version d'OpenSSL
install&#233;e)</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive complexe utilise la cha&#238;ne <em>cipher-spec</em>
contenant la liste des algorithmes de chiffrement OpenSSL que le client
peut utiliser au cours de la phase d'initialisation de la connexion SSL. La
sp&#233;cification optionnelle du protocole permet de configurer la suite
d'algorithmes de chiffrement pour une version sp&#233;cifique de SSL. Une des valeurs
possibles est "SSL" pour toutes les versions du protocole SSL jusqu'&#224; TLSv1.2
compris.
</p>
<p>
Notez que cette directive peut &#234;tre utilis&#233;e aussi bien dans un contexte
de serveur que dans un contexte de r&#233;pertoire. Dans un contexte de
serveur, elle s'applique &#224; l'initialisation SSL standard lorsqu'une
connexion est &#233;tablie. Dans un contexte de r&#233;pertoire, elle force une
ren&#233;gociation SSL avec la liste d'algorithmes de chiffrement sp&#233;cifi&#233;e
apr&#232;s la lecture d'une requ&#234;te HTTP, mais avant l'envoi de la r&#233;ponse
HTTP (et pas avant que la ren&#233;gociation soit effectu&#233;e).</p>
<p>
Si la biblioth&#232;que SSL supporte TLSv1.3 (versions d'OpenSSL 1.1.1 et
sup&#233;rieures), il est possible de sp&#233;cifier le param&#232;tre "TLSv1.3" pour
configurer la suite d'algorithmes de chiffrement pour ce protocole. Comme
TLSv1.3 n'autorise pas la ren&#233;gociation, sp&#233;cifier pour lui des algorithmes de
chiffrement dans un contexte de r&#233;pertoire n'est pas autoris&#233;</p>
<p>
Pour obtenir la liste des noms d'algorithmes de chiffrement pour TLSv1.3, se
r&#233;f&#233;rer &#224; la <a href="https://www.openssl.org/docs/manmaster/man3/SSL_CTX_set_ciphersuites.html">the
OpenSSL documentation</a>.</p>
<p>
La liste d'algorithmes de chiffrement SSL sp&#233;cifi&#233;e par l'argument
<em>cipher-spec</em> comporte quatre attributs principaux auxquels
s'ajoutent quelques attributs secondaires :</p>
<ul>
<li><em>Algorithme d'&#233;change de cl&#233;s</em>:<br />
    RSA, Diffie-Hellman, Elliptic Curve Diffie-Hellman, Secure Remote Password.
</li>
<li><em>Algorithme d'authentification</em>:<br />
    RSA, Diffie-Hellman, DSS, ECDSA, ou none.
</li>
<li><em>Algorithme de chiffrement</em>:<br />
    AES, DES, Triple-DES, RC4, RC2, IDEA, etc...
</li>
<li><em>Algorithme de condens&#233; MAC</em>:<br />
    MD5, SHA ou SHA1, SHA256, SHA384.
</li>
</ul>
<p>L'algorithme de chiffrement peut aussi provenir de l'ext&#233;rieur. Les
algorithmes SSLv2 ne sont plus support&#233;s.
Pour d&#233;finir les algorithmes &#224; utiliser, on
peut soit sp&#233;cifier tous les algorithmes &#224; la fois, soit utiliser des
alias pour sp&#233;cifier une liste d'algorithmes dans leur ordre de
pr&#233;f&#233;rence (voir <a href="#table1">Table 1</a>). Les algorithmes et
alias effectivement disponibles d&#233;pendent de la version d'openssl
utilis&#233;e. Les versions ult&#233;rieures d'openssl sont susceptibles d'inclure
des algorithmes suppl&#233;mentaires.</p>

<table class="bordered">

<tr><th><a name="table1">Symbole</a></th> <th>Description</th></tr>
<tr><td colspan="2"><em>Algorithme d'&#233;change de cl&#233;s :</em></td></tr>
<tr><td><code>kRSA</code></td>   <td>Echange de cl&#233;s RSA</td></tr>
<tr><td><code>kDHr</code></td>   <td>Echange de cl&#233;s Diffie-Hellman avec
cl&#233; RSA</td></tr>
<tr><td><code>kDHd</code></td>   <td>Echange de cl&#233;s Diffie-Hellman avec
cl&#233; DSA</td></tr>
<tr><td><code>kEDH</code></td>   <td>Echange de cl&#233;s Diffie-Hellman
temporaires (pas de certificat)</td>   </tr>
<tr><td><code>kSRP</code></td>   <td>&#233;change de cl&#233;s avec mot de passe
distant s&#233;curis&#233; (SRP)</td></tr>
<tr><td colspan="2"><em>Algorithmes d'authentification :</em></td></tr>
<tr><td><code>aNULL</code></td>  <td>Pas d'authentification</td></tr>
<tr><td><code>aRSA</code></td>   <td>Authentification RSA</td></tr>
<tr><td><code>aDSS</code></td>   <td>Authentification DSS</td> </tr>
<tr><td><code>aDH</code></td>    <td>Authentification Diffie-Hellman</td></tr>
<tr><td colspan="2"><em>Algorithmes de chiffrement :</em></td></tr>
<tr><td><code>eNULL</code></td>  <td>Pas de chiffrement</td>         </tr>
<tr><td><code>NULL</code></td>   <td>alias pour eNULL</td>         </tr>
<tr><td><code>AES</code></td>    <td>Chiffrement AES</td>        </tr>
<tr><td><code>DES</code></td>    <td>Chiffrement DES</td>        </tr>
<tr><td><code>3DES</code></td>   <td>Chiffrement Triple-DES</td> </tr>
<tr><td><code>RC4</code></td>    <td>Chiffrement RC4</td>       </tr>
<tr><td><code>RC2</code></td>    <td>Chiffrement RC2</td>       </tr>
<tr><td><code>IDEA</code></td>   <td>Chiffrement IDEA</td>       </tr>
<tr><td colspan="2"><em>Algorithmes de condens&#233;s MAC </em>:</td></tr>
<tr><td><code>MD5</code></td>    <td>Fonction de hashage MD5</td></tr>
<tr><td><code>SHA1</code></td>   <td>Fonction de hashage SHA1</td></tr>
<tr><td><code>SHA</code></td>    <td>alias pour SHA1</td> </tr>
<tr><td><code>SHA256</code></td> <td>Fonction de hashage SHA256</td> </tr>
<tr><td><code>SHA384</code></td> <td>Fonction de hashage SHA384</td> </tr>
<tr><td colspan="2"><em>Alias :</em></td></tr>
<tr><td><code>SSLv3</code></td>  <td>tous les algorithmes de chiffrement
SSL version 3.0</td> </tr>
<tr><td><code>TLSv1</code></td>  <td>tous les algorithmes de chiffrement
TLS version 1.0</td> </tr>
<tr><td><code>EXP</code></td>    <td>tous les algorithmes de chiffrement
externes</td>  </tr>
<tr><td><code>EXPORT40</code></td> <td>tous les algorithmes de chiffrement
externes limit&#233;s &#224; 40 bits</td>  </tr>
<tr><td><code>EXPORT56</code></td> <td>tous les algorithmes de chiffrement
externes limit&#233;s &#224; 56 bits</td>  </tr>
<tr><td><code>LOW</code></td>    <td>tous les algorithmes de chiffrement
faibles (non externes, DES simple)</td></tr>
<tr><td><code>MEDIUM</code></td> <td>tous les algorithmes avec
chiffrement 128 bits</td> </tr>
<tr><td><code>HIGH</code></td>   <td>tous les algorithmes
utilisant Triple-DES</td>     </tr>
<tr><td><code>RSA</code></td>    <td>tous les algorithmes
utilisant l'&#233;change de cl&#233;s RSA</td> </tr>
<tr><td><code>DH</code></td>     <td>tous les algorithmes
utilisant l'&#233;change de cl&#233;s Diffie-Hellman</td> </tr>
<tr><td><code>EDH</code></td>    <td>tous les algorithmes
utilisant l'&#233;change de cl&#233;s Diffie-Hellman temporaires</td> </tr>
<tr><td><code>ECDH</code></td>   <td>Echange de cl&#233;s Elliptic Curve Diffie-Hellman</td>   </tr>
<tr><td><code>ADH</code></td>    <td>tous les algorithmes
utilisant l'&#233;change de cl&#233;s Diffie-Hellman anonymes</td> </tr>
<tr><td><code>AECDH</code></td>    <td>tous les algorithmes utilisant
l'&#233;change de cl&#233;s Elliptic Curve Diffie-Hellman</td> </tr>
<tr><td><code>SRP</code></td>    <td>tous les algorithmes utilisant
l'&#233;change de cl&#233;s avec mot de passe distant s&#233;curis&#233; (SRP)</td> </tr>
<tr><td><code>DSS</code></td>    <td>tous les algorithmes
utilisant l'authentification DSS</td> </tr>
<tr><td><code>ECDSA</code></td>    <td>tous les algorithmes utilisant
l'authentification ECDSA</td> </tr>
<tr><td><code>aNULL</code></td>   <td>tous les algorithmes n'utilisant
aucune authentification</td> </tr>
</table>
<p>
Cela devient int&#233;ressant lorsque tous ces symboles sont combin&#233;s
ensemble pour sp&#233;cifier les algorithmes disponibles et l'ordre dans
lequel vous voulez les utiliser. Pour simplifier tout cela, vous
disposez aussi d'alias (<code>SSLv3, TLSv1, EXP, LOW, MEDIUM,
HIGH</code>) pour certains groupes d'algorithmes. Ces symboles peuvent
&#234;tre reli&#233;s par des pr&#233;fixes pour former la cha&#238;ne <em>algorithmes</em>.
Les pr&#233;fixes disponibles sont :</p>
<ul>
<li>none: ajoute l'algorithme &#224; la liste</li>
<li><code>+</code>: d&#233;place les algorithmes qui conviennent &#224; la
place courante dans la liste</li>
<li><code>-</code>: supprime l'algorithme de la liste (peut &#234;tre rajout&#233;
plus tard)</li>
<li><code>!</code>: supprime d&#233;finitivement l'algorithme de la liste (ne
peut <strong>plus</strong> y &#234;tre rajout&#233; plus tard)</li>
</ul>

<div class="note">
<h3>Les algorithmes <code>aNULL</code>, <code>eNULL</code> et
<code>EXP</code> sont toujours d&#233;sactiv&#233;s</h3>
<p>Depuis la version 2.4.7, les
algorithmes de type null ou destin&#233;s &#224; l'exportation sont toujours
d&#233;sactiv&#233;s car mod_ssl ajoute obligatoirement
<code>!aNULL:!eNULL:!EXP</code> &#224; toute cha&#238;ne d'algorithme de
chiffrement &#224; l'initialisation.</p>
</div>

<p>Pour vous simplifier la vie, vous pouvez utiliser la commande
``<code>openssl ciphers -v</code>'' qui vous fournit un moyen simple de
cr&#233;er la cha&#238;ne <em>algorithmes</em> avec succ&#232;s. La cha&#238;ne
<em>algorithmes</em> par d&#233;faut d&#233;pend de la version des biblioth&#232;ques
SSL install&#233;es. Supposons qu'elle contienne
``<code>RC4-SHA:AES128-SHA:HIGH:MEDIUM:!aNULL:!MD5</code>'', ce qui
stipule de mettre <code>RC4-SHA</code> et <code>AES128-SHA</code> en
premiers, car ces algorithmes pr&#233;sentent un bon compromis entre vitesse
et s&#233;curit&#233;. Viennent ensuite les algorithmes de s&#233;curit&#233; &#233;lev&#233;e et
moyenne. En fin de compte, les algorithmes qui n'offrent aucune
authentification sont exclus, comme les algorithmes anonymes
Diffie-Hellman pour SSL, ainsi que tous les algorithmes qui utilisent
<code>MD5</code> pour le hashage, car celui-ci est reconnu comme
insuffisant.</p>
<div class="example"><pre>$ openssl ciphers -v 'RC4-SHA:AES128-SHA:HIGH:MEDIUM:!aNULL:!MD5'
RC4-SHA                 SSLv3 Kx=RSA      Au=RSA  Enc=RC4(128)  Mac=SHA1
AES128-SHA              SSLv3 Kx=RSA      Au=RSA  Enc=AES(128)  Mac=SHA1
DHE-RSA-AES256-SHA      SSLv3 Kx=DH       Au=RSA  Enc=AES(256)  Mac=SHA1
...                     ...               ...     ...           ...
SEED-SHA                SSLv3 Kx=RSA      Au=RSA  Enc=SEED(128) Mac=SHA1
PSK-RC4-SHA             SSLv3 Kx=PSK      Au=PSK  Enc=RC4(128)  Mac=SHA1
KRB5-RC4-SHA            SSLv3 Kx=KRB5     Au=KRB5 Enc=RC4(128)  Mac=SHA1</pre></div>
<p>Vous trouverez la liste compl&#232;te des algorithmes RSA &amp; DH
sp&#233;cifiques &#224; SSL dans la <a href="#table2">Table 2</a>.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLCipherSuite RSA:!EXP:!NULL:+HIGH:+MEDIUM:-LOW</pre>
</div>
<table class="bordered">

<tr><th><a name="table2">Symbole algorithme</a></th> <th>Protocole</th>
<th>Echange de cl&#233;s</th> <th>Authentification</th> <th>Chiffrement</th>
<th>Condens&#233; MAC</th> <th>Type</th> </tr>
<tr><td colspan="7"><em>Algorithmes RSA :</em></td></tr>
<tr><td><code>DES-CBC3-SHA</code></td> <td>SSLv3</td> <td>RSA</td> <td>RSA</td> <td>3DES(168)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>IDEA-CBC-SHA</code></td> <td>SSLv3</td> <td>RSA</td> <td>RSA</td> <td>IDEA(128)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>RC4-SHA</code></td> <td>SSLv3</td> <td>RSA</td> <td>RSA</td> <td>RC4(128)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>RC4-MD5</code></td> <td>SSLv3</td> <td>RSA</td> <td>RSA</td> <td>RC4(128)</td> <td>MD5</td> <td /> </tr>
<tr><td><code>DES-CBC-SHA</code></td> <td>SSLv3</td> <td>RSA</td> <td>RSA</td> <td>DES(56)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>EXP-DES-CBC-SHA</code></td> <td>SSLv3</td> <td>RSA(512)</td> <td>RSA</td> <td>DES(40)</td> <td>SHA1</td> <td> export</td> </tr>
<tr><td><code>EXP-RC2-CBC-MD5</code></td> <td>SSLv3</td> <td>RSA(512)</td> <td>RSA</td> <td>RC2(40)</td> <td>MD5</td> <td>  export</td> </tr>
<tr><td><code>EXP-RC4-MD5</code></td> <td>SSLv3</td> <td>RSA(512)</td> <td>RSA</td> <td>RC4(40)</td> <td>MD5</td> <td>  export</td> </tr>
<tr><td><code>NULL-SHA</code></td> <td>SSLv3</td> <td>RSA</td> <td>RSA</td> <td>None</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>NULL-MD5</code></td> <td>SSLv3</td> <td>RSA</td> <td>RSA</td> <td>None</td> <td>MD5</td> <td /> </tr>
<tr><td colspan="7"><em>Algorithmes Diffie-Hellman :</em></td></tr>
<tr><td><code>ADH-DES-CBC3-SHA</code></td> <td>SSLv3</td> <td>DH</td> <td>None</td> <td>3DES(168)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>ADH-DES-CBC-SHA</code></td> <td>SSLv3</td> <td>DH</td> <td>None</td> <td>DES(56)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>ADH-RC4-MD5</code></td> <td>SSLv3</td> <td>DH</td> <td>None</td> <td>RC4(128)</td> <td>MD5</td> <td /> </tr>
<tr><td><code>EDH-RSA-DES-CBC3-SHA</code></td> <td>SSLv3</td> <td>DH</td> <td>RSA</td> <td>3DES(168)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>EDH-DSS-DES-CBC3-SHA</code></td> <td>SSLv3</td> <td>DH</td> <td>DSS</td> <td>3DES(168)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>EDH-RSA-DES-CBC-SHA</code></td> <td>SSLv3</td> <td>DH</td> <td>RSA</td> <td>DES(56)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>EDH-DSS-DES-CBC-SHA</code></td> <td>SSLv3</td> <td>DH</td> <td>DSS</td> <td>DES(56)</td> <td>SHA1</td> <td /> </tr>
<tr><td><code>EXP-EDH-RSA-DES-CBC-SHA</code></td> <td>SSLv3</td> <td>DH(512)</td> <td>RSA</td> <td>DES(40)</td> <td>SHA1</td> <td> export</td> </tr>
<tr><td><code>EXP-EDH-DSS-DES-CBC-SHA</code></td> <td>SSLv3</td> <td>DH(512)</td> <td>DSS</td> <td>DES(40)</td> <td>SHA1</td> <td> export</td> </tr>
<tr><td><code>EXP-ADH-DES-CBC-SHA</code></td> <td>SSLv3</td> <td>DH(512)</td> <td>None</td> <td>DES(40)</td> <td>SHA1</td> <td> export</td> </tr>
<tr><td><code>EXP-ADH-RC4-MD5</code></td> <td>SSLv3</td> <td>DH(512)</td> <td>None</td> <td>RC4(40)</td> <td>MD5</td> <td>  export</td> </tr>
</table>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcompression" id="sslcompression">Directive</a> <a name="SSLCompression" id="SSLCompression">SSLCompression</a><a title="Lien permanent" href="#sslcompression" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Permet d'activer la compression au niveau SSL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCompression on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLCompression off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible &#224; partir de la version 2.4.3 du serveur HTTP
Apache, si on utilise une version d'OpenSSL 0.9.8 ou sup&#233;rieure ;
l'utilisation dans un contexte de serveur virtuel n'est disponible que
si on utilise une version d'OpenSSL 1.0.0 ou sup&#233;rieure. La valeur par
d&#233;faut &#233;tait <code>on</code> dans la version 2.4.3.</td></tr>
</table>
<p>Cette directive permet d'activer la compression au niveau SSL.</p>
<div class="warning">
<p>L'activation de la compression est &#224; l'origine de probl&#232;mes de
s&#233;curit&#233; dans la plupart des configurations (l'attaque nomm&#233;e CRIME).</p>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslcryptodevice" id="sslcryptodevice">Directive</a> <a name="SSLCryptoDevice" id="SSLCryptoDevice">SSLCryptoDevice</a><a title="Lien permanent" href="#sslcryptodevice" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Active l'utilisation d'un acc&#233;l&#233;rateur mat&#233;riel de
chiffrement</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLCryptoDevice <em>moteur</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLCryptoDevice builtin</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet d'activer l'utilisation d'une carte acc&#233;l&#233;ratrice
de chiffrement qui prendra en compte certaines parties du traitement
relatif &#224; SSL. Cette directive n'est utilisable que si la bo&#238;te &#224;
outils SSL &#224; &#233;t&#233; compil&#233;e avec le support "engine" ; les versions 0.9.7
et sup&#233;rieures d'OpenSSL poss&#232;dent par d&#233;faut le support "engine", alors
qu'avec la version 0.9.6, il faut utiliser les distributions s&#233;par&#233;es
"-engine".</p>

<p>Pour d&#233;terminer les moteurs support&#233;s, ex&#233;cutez la commande
"<code>openssl engine</code>".</p>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config"># Pour un acc&#233;l&#233;rateur Broadcom :
SSLCryptoDevice ubsec</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslengine" id="sslengine">Directive</a> <a name="SSLEngine" id="SSLEngine">SSLEngine</a><a title="Lien permanent" href="#sslengine" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Interrupteur marche/arr&#234;t du moteur SSL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLEngine on|off|optional</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLEngine off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p> Cette directive permet d'activer/d&#233;sactiver le moteur du protocole SSL/TLS.
Elle doit &#234;tre d&#233;finie dans une section
<code class="directive"><a href="../mod/core.html#virtualhost">&lt;VirtualHost&gt;</a></code> pour activer
SSL/TLS pour ce serveur virtuel particulier. Par d&#233;faut, le moteur du protocole
SSL/TLS est d&#233;sactiv&#233; pour le serveur principal et tous les serveurs virtuels
configur&#233;s.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">&lt;VirtualHost _default_:443&gt;
SSLEngine on
#...
&lt;/VirtualHost&gt;</pre>
</div>
<p><code class="directive">SSLEngine</code> peut &#234;tre d&#233;finie &#224; <code>optional</code>,
ce qui active le support de <a href="http://www.ietf.org/rfc/rfc2817.txt">RFC
2817</a>.
</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslfips" id="sslfips">Directive</a> <a name="SSLFIPS" id="SSLFIPS">SSLFIPS</a><a title="Lien permanent" href="#sslfips" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Coimmutateur du mode SSL FIPS</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLFIPS on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLFIPS off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet d'activer/d&#233;sactiver l'utilisation du drapeau
FIPS_mode de la biblioth&#232;que SSL. Elle doit &#234;tre d&#233;finie dans le
contexte du serveur principal, et n'accepte pas les configurations
sources de conflits (SSLFIPS on suivi de SSLFIPS off par exemple). Le
mode s'applique &#224; toutes les op&#233;rations de la biblioth&#232;que SSL.
</p>
<p>
Si httpd a &#233;t&#233; compil&#233; avec une biblioth&#232;que SSL qui ne supporte pas le
drapeau FIPS_mode, la directive <code>SSLFIPS on</code> &#233;chouera.
Reportez-vous au document sur la politique de s&#233;curit&#233; FIPS 140-2 de la
biblioth&#232;que du fournisseur SSL, pour les pr&#233;requis sp&#233;cifiques
n&#233;cessaires &#224; l'utilisation de mod_ssl selon un mode d'op&#233;ration
approuv&#233; par FIPS 140-2 ; notez que mod_ssl en lui-m&#234;me n'est pas
valid&#233;, mais peut &#234;tre d&#233;crit comme utilisant un module de chiffrement
valid&#233; par FIPS 140-2, lorsque tous les composants sont assembl&#233;s et mis
en oeuvre selon les recommandations de la politique de s&#233;curit&#233;
applicable.
</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslhonorcipherorder" id="sslhonorcipherorder">Directive</a> <a name="SSLHonorCipherOrder" id="SSLHonorCipherOrder">SSLHonorCipherOrder</a><a title="Lien permanent" href="#sslhonorcipherorder" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Option permettant de classer les algorithmes de chiffrement
du serveur par ordre de pr&#233;f&#233;rence</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLHonorCipherOrder on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLHonorCipherOrder off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>Normalement, ce sont les pr&#233;f&#233;rences du client qui sont prises en
compte lors du choix d'un algorithme de chiffrement au cours d'une
n&#233;gociation SSLv3 ou TLSv1. Si cette directive est activ&#233;e, ce sont les
pr&#233;f&#233;rences du serveur qui seront prises en compte &#224; la place.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLHonorCipherOrder on</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslinsecurerenegotiation" id="sslinsecurerenegotiation">Directive</a> <a name="SSLInsecureRenegotiation" id="SSLInsecureRenegotiation">SSLInsecureRenegotiation</a><a title="Lien permanent" href="#sslinsecurerenegotiation" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Option permettant d'activer le support de la ren&#233;gociation
non s&#233;curis&#233;e</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLInsecureRenegotiation on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLInsecureRenegotiation off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si une version 0.9.8m
ou sup&#233;rieure d'OpenSSL est utilis&#233;e</td></tr>
</table>
<p>Comme il a &#233;t&#233; sp&#233;cifi&#233;, toutes les versions des protocoles SSL et
TLS (jusqu'&#224; la version 1.2 de TLS incluse) &#233;taient vuln&#233;rables &#224; une
attaque de type Man-in-the-Middle (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2009-3555">CVE-2009-3555</a>)
au cours d'une ren&#233;gociation. Cette vuln&#233;rabilit&#233; permettait &#224; un
attaquant de pr&#233;fixer la requ&#234;te HTTP (telle qu'elle &#233;tait vue du
serveur) avec un texte choisi. Une extension du protocole a &#233;t&#233;
d&#233;velopp&#233;e pour corriger cette vuln&#233;rabilit&#233;, sous r&#233;serve qu'elle soit
support&#233;e par le client et le serveur.</p>

<p>Si <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> est li&#233; &#224; une version 0.9.8m ou
sup&#233;rieure d'OpenSSL, par d&#233;faut, la ren&#233;gociation n'est accord&#233;e qu'aux
clients qui supportent la nouvelle extension du protocole. Si
cette directive est activ&#233;e, la ren&#233;gociation sera accord&#233;e aux anciens
clients (non patch&#233;s), quoique de mani&#232;re non s&#233;curis&#233;e</p>

<div class="warning"><h3>Avertissement &#224; propos de la s&#233;curit&#233;</h3>
<p>Si cette directive est activ&#233;e, les connexions SSL seront vuln&#233;rables
aux attaques de type pr&#233;fixe Man-in-the-Middle comme d&#233;crit dans <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2009-3555">CVE-2009-3555</a>.</p>
</div>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLInsecureRenegotiation on</pre>
</div>

<p>La variable d'environnement <code>SSL_SECURE_RENEG</code> peut &#234;tre
utilis&#233;e dans un script SSI ou CGI pour d&#233;terminer si la ren&#233;gociation
s&#233;curis&#233;e est support&#233;e pour une connexion SSL donn&#233;e.</p>


</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocspdefaultresponder" id="sslocspdefaultresponder">Directive</a> <a name="SSLOCSPDefaultResponder" id="SSLOCSPDefaultResponder">SSLOCSPDefaultResponder</a><a title="Lien permanent" href="#sslocspdefaultresponder" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;finit l'URI du r&#233;pondeur par d&#233;faut pour la validation
OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSDefaultResponder <em>uri</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>Cette directive permet de d&#233;finir le r&#233;pondeur OCSP par d&#233;faut. Si la
directive <code class="directive"><a href="#sslocspoverrideresponder">SSLOCSPOverrideResponder</a></code> n'est pas activ&#233;e,
l'URI sp&#233;cifi&#233; ne sera utilis&#233; que si aucun URI de r&#233;pondeur n'est
sp&#233;cifi&#233; dans le certificat en cours de v&#233;rification.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocspenable" id="sslocspenable">Directive</a> <a name="SSLOCSPEnable" id="SSLOCSPEnable">SSLOCSPEnable</a><a title="Lien permanent" href="#sslocspenable" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Active la validation OCSP de la cha&#238;ne de certificats du
client</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPEnable on|leaf|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLOCSPEnable off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Le mode <em>leaf</em> est disponible &#224; partir de la version
2.4.34 du serveur HTTP Apache</td></tr>
</table>
<p>Cette directive permet d'activer la validation OCSP de la cha&#238;ne de
certificats du client. Si elle est activ&#233;e, les certificats de la cha&#238;ne
de certificats du client seront valid&#233;s aupr&#232;s d'un r&#233;pondeur OCSP, une
fois la v&#233;rification normale effectu&#233;e (v&#233;rification des CRLs
incluse). En mode 'leaf', seul le certificat du client sera valid&#233;.</p>

<p>Le r&#233;pondeur OCSP utilis&#233; est soit extrait du certificat lui-m&#234;me,
soit sp&#233;cifi&#233; dans la configuration ; voir les directives <code class="directive"><a href="#sslocspdefaultresponder">SSLOCSPDefaultResponder</a></code> et <code class="directive"><a href="#sslocspoverrideresponder">SSLOCSPOverrideResponder</a></code>.</p>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLVerifyClient on
SSLOCSPEnable on
SSLOCSPDefaultResponder "http://responder.example.com:8888/responder"
SSLOCSPOverrideResponder on</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocspnoverify" id="sslocspnoverify">Directive</a> <a name="SSLOCSPNoverify" id="SSLOCSPNoverify">SSLOCSPNoverify</a><a title="Lien permanent" href="#sslocspnoverify" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Evite la v&#233;rification des certificats des r&#233;pondeurs OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPNoverify on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLOCSPNoverify off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible &#224; partir de la version 2.4.26 du serveur HTTP Apache,
sous r&#233;serve d'utiliser une version 0.9.7 ou sup&#233;rieure d'OpenSSL</td></tr>
</table>
<p>Cette directive permet d'&#233;viter la v&#233;rification des certificats
des r&#233;pondeurs OCSP, ce qui peut s'av&#233;rer utile lorsqu'on teste un serveur OCSP.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocspoverrideresponder" id="sslocspoverrideresponder">Directive</a> <a name="SSLOCSPOverrideResponder" id="SSLOCSPOverrideResponder">SSLOCSPOverrideResponder</a><a title="Lien permanent" href="#sslocspoverrideresponder" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Force l'utilisation de l'URI du r&#233;pondeur par d&#233;faut pour
la validation OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPOverrideResponder on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLOCSPOverrideResponder off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>Force l'utilisation, au cours d'une validation OCSP de certificat, du
r&#233;pondeur OCSP par d&#233;faut sp&#233;cifi&#233; dans la configuration, que le
certificat en cours de v&#233;rification fasse mention d'un r&#233;pondeur OCSP ou
non.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocspproxyurl" id="sslocspproxyurl">Directive</a> <a name="SSLOCSPProxyURL" id="SSLOCSPProxyURL">SSLOCSPProxyURL</a><a title="Lien permanent" href="#sslocspproxyurl" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Adresse de mandataire &#224; utiliser pour les requ&#234;tes OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPProxyURL <em>url</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible &#224; partir de la version 2.4.19 du serveur HTTP Apache</td></tr>
</table>
<p>Cette directive permet de d&#233;finir l'URL d'un mandataire HTTP qui devra &#234;tre
utilis&#233; pour toutes les requ&#234;tes vers un r&#233;pondeur OCSP.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocsprespondercertificatefile" id="sslocsprespondercertificatefile">Directive</a> <a name="SSLOCSPResponderCertificateFile" id="SSLOCSPResponderCertificateFile">SSLOCSPResponderCertificateFile</a><a title="Lien permanent" href="#sslocsprespondercertificatefile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fournit un jeu de certificats de confiance du r&#233;pondeur OCSP avec
encodage PEM</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPResponderCertificateFile <em>file</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible &#224; partir de la version 2.4.26 du serveur HTTP Apache,
sous r&#233;serve d'utiliser une version 0.9.7 ou sup&#233;rieure d'OpenSSL</td></tr>
</table>
<p>Cette directive permet de d&#233;finir un fichier contenant une liste de
certificats de confiance du r&#233;pondeur OCSP &#224; utiliser au cours de la validation
du certificat du r&#233;pondeur OCSP. Les certificats fournis peuvent
&#234;tre consid&#233;r&#233;s comme de confiance sans avoir &#224; effectuer de v&#233;rifications
suppl&#233;mentaires. Ce processus de validation du certificat du r&#233;pondeur OCSP
intervient en g&#233;n&#233;ral lorsque ce dernier est autosign&#233; ou tout simplement absent
de la r&#233;ponse OCSP.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocsprespondertimeout" id="sslocsprespondertimeout">Directive</a> <a name="SSLOCSPResponderTimeout" id="SSLOCSPResponderTimeout">SSLOCSPResponderTimeout</a><a title="Lien permanent" href="#sslocsprespondertimeout" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;lai d'attente pour les requ&#234;tes OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPResponderTimeout <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLOCSPResponderTimeout 10</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>Cette option permet de d&#233;finir le d&#233;lai d'attente pour les requ&#234;tes &#224;
destination des r&#233;pondeurs OCSP, lorsque la directive <code class="directive"><a href="#sslocspenable">SSLOCSPEnable</a></code> est &#224; on.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocspresponsemaxage" id="sslocspresponsemaxage">Directive</a> <a name="SSLOCSPResponseMaxAge" id="SSLOCSPResponseMaxAge">SSLOCSPResponseMaxAge</a><a title="Lien permanent" href="#sslocspresponsemaxage" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Age maximum autoris&#233; pour les r&#233;ponses OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPResponseMaxAge <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLOCSPResponseMaxAge -1</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>Cette option permet de d&#233;finir l'&#226;ge maximum autoris&#233; (la
"fraicheur") des r&#233;ponses OCSP. La valeur par d&#233;fault (<code>-1</code>)
signifie qu'aucun &#226;ge maximum n'est d&#233;finit ; autrement dit, les
r&#233;ponses OCSP sont consid&#233;r&#233;es comme valides tant que la valeur de leur
champ <code>nextUpdate</code> se situe dans le futur.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocspresponsetimeskew" id="sslocspresponsetimeskew">Directive</a> <a name="SSLOCSPResponseTimeSkew" id="SSLOCSPResponseTimeSkew">SSLOCSPResponseTimeSkew</a><a title="Lien permanent" href="#sslocspresponsetimeskew" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;rive temporelle maximale autoris&#233;e pour la validation des
r&#233;ponses OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPResponseTimeSkew <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLOCSPResponseTimeSkew 300</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>Cette option permet de d&#233;finir la d&#233;rive temporelle maximale
autoris&#233;e pour les r&#233;ponses OCSP (lors de la v&#233;rification des champs
<code>thisUpdate</code> et <code>nextUpdate</code>).</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslocspuserequestnonce" id="sslocspuserequestnonce">Directive</a> <a name="SSLOCSPUseRequestNonce" id="SSLOCSPUseRequestNonce">SSLOCSPUseRequestNonce</a><a title="Lien permanent" href="#sslocspuserequestnonce" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Utilisation d'un nombre &#224; usage unique au sein des requ&#234;tes
OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOCSPUseRequestNonce on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLOCSPUseRequestNonce on</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible &#224; partir de la version 2.4.10 du serveur HTTP
Apache</td></tr>
</table>
<p>Cette directive permet de sp&#233;cifier si les requ&#234;tes vers les
r&#233;pondeurs OCSP doivent contenir un nombre &#224; usage unique ou non. Par
d&#233;faut, un nombre &#224; usage unique est toujours pr&#233;sent dans les requ&#234;tes
et il est compar&#233; &#224; celui de la r&#233;ponse. Lorsque le r&#233;pondeur n'utilise pas de
nombre &#224; usage unique (comme Microsoft OCSP Responder), cette directive
doit &#234;tre d&#233;finie &#224; <code>off</code>.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslopensslconfcmd" id="sslopensslconfcmd">Directive</a> <a name="SSLOpenSSLConfCmd" id="SSLOpenSSLConfCmd">SSLOpenSSLConfCmd</a><a title="Lien permanent" href="#sslopensslconfcmd" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Configuration des param&#232;tres d'OpenSSL via son API <em>SSL_CONF</em></td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOpenSSLConfCmd <em>commande</em> <em>valeur</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible depuis la version 2.4.8 du serveur HTTP
Apache avec OpenSSL 1.0.2 ou sup&#233;rieur</td></tr>
</table>
<p>Cette directive permet &#224; mod_ssl d'acc&#233;der &#224; l'API <em>SSL_CONF</em>
d'OpenSSL. Il n'est ainsi plus n&#233;cessaire d'impl&#233;menter des
directives suppl&#233;mentaires pour <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> lorsque de nouvelles
fonctionnalit&#233;s sont ajout&#233;es &#224; OpenSSL, ce qui rend la configuration de
ce dernier beaucoup plus souple.</p>

<p>Le jeu de commandes disponibles pour la directive
<code class="directive">SSLOpenSSLConfCmd</code> d&#233;pend de la version d'OpenSSL
utilis&#233;e pour <code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> (la version minimale 1.0.2 est un
pr&#233;requis). Pour obtenir la liste des commandes support&#233;es, voir la
section <em>Supported configuration file commands</em> de la page de
manuel d'OpenSSL <a href="http://www.openssl.org/docs/man1.0.2/ssl/SSL_CONF_cmd.html#SUPPORTED-CONFIGURATION-FILE-COMMANDS">SSL_CONF_cmd(3)</a>.</p>

<p>Certaines commandes peuvent remplacer des directives existantes
(comme <code class="directive"><a href="#sslciphersuite">SSLCipherSuite</a></code> ou
<code class="directive"><a href="#sslprotocol">SSLProtocol</a></code>) ; notez cependant
que la syntaxe et/ou les valeurs possibles peuvent diff&#233;rer.</p>

<div class="example"><h3>Examples</h3><pre class="prettyprint lang-config">SSLOpenSSLConfCmd Options -SessionTicket,ServerPreference
SSLOpenSSLConfCmd ECDHParameters brainpoolP256r1
SSLOpenSSLConfCmd ServerInfoFile "/usr/local/apache2/conf/server-info.pem"
SSLOpenSSLConfCmd Protocol "-ALL, TLSv1.2"
SSLOpenSSLConfCmd SignatureAlgorithms RSA+SHA384:ECDSA+SHA256</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="ssloptions" id="ssloptions">Directive</a> <a name="SSLOptions" id="SSLOptions">SSLOptions</a><a title="Lien permanent" href="#ssloptions" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Configure diff&#233;rentes options d'ex&#233;cution du moteur
SSL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLOptions [+|-]<em>option</em> ...</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>Options</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de contr&#244;ler diff&#233;rentes options d'ex&#233;cution du
moteur SSL dans un contexte de r&#233;pertoire. Normalement, si plusieurs
<code>SSLOptions</code> peuvent s'appliquer &#224; un r&#233;pertoire, c'est la
plus sp&#233;cifique qui est v&#233;ritablement prise en compte ; les options ne
se combinent pas entre elles. Elles se combinent cependant entre elles
si elles sont <em>toutes</em> pr&#233;c&#233;d&#233;es par un symbole plus
(<code>+</code>) ou moins (<code>-</code>). Toute option pr&#233;c&#233;d&#233;e d'un
<code>+</code> est ajout&#233;e aux options actuellement en vigueur, et toute
option pr&#233;c&#233;d&#233;e d'un <code>-</code> est supprim&#233;e de ces m&#234;mes
options.
</p>
<p>
Les <em>option</em>s disponibles sont :</p>
<ul>
<li><code>StdEnvVars</code>
    <p>
    Lorsque cette option est activ&#233;e, le jeu standard de variables
    d'environnement SSL relatives &#224; CGI/SSI est cr&#233;&#233;. Cette option est
    d&#233;sactiv&#233;e par d&#233;faut pour des raisons de performances, car
    l'extraction des informations constitue une op&#233;ration assez co&#251;teuse
    en ressources. On n'active donc en g&#233;n&#233;ral cette option que pour les
    requ&#234;tes CGI et SSI.</p>
</li>
<li><code>ExportCertData</code>
    <p>
    Lorsque cette option est activ&#233;e, des variables d'environnement
    CGI/SSI suppl&#233;mentaires sont cr&#233;&#233;es : <code>SSL_SERVER_CERT</code>,
    <code>SSL_CLIENT_CERT</code> et
    <code>SSL_CLIENT_CERT_CHAIN_</code><em>n</em> (avec <em>n</em> =
    0,1,2,..). Elles contiennent les certificats X.509 cod&#233;s en PEM du
    serveur et du client pour la connexion HTTPS courante, et peuvent
    &#234;tre utilis&#233;es par les scripts CGI pour une v&#233;rification de
    certificat plus &#233;labor&#233;e. De plus, tous les autres certificats de la
    cha&#238;ne de certificats du client sont aussi fournis. Tout ceci gonfle
    un peu l'environnement, et c'est la raison pour laquelle vous ne
    devez activer cette option qu'&#224; la demande.</p>
</li>
<li><code>FakeBasicAuth</code>
    <p>
    Lorsque cette option est activ&#233;e, le Nom Distinctif (DN) sujet du
    certificat client X509 est traduit en un nom d'utilisateur pour
    l'autorisation HTTP de base. Cela signifie que les m&#233;thodes
    d'authentification standard d'Apache peuvent &#234;tre utilis&#233;es pour le
    contr&#244;le d'acc&#232;s. Le nom d'utilisateur est tout simplement le Sujet
    du certificat X509 du client (il peut &#234;tre d&#233;termin&#233; en utilisant la
    commande OpenSSL <code>openssl x509</code> : <code>openssl x509
    -noout -subject -in </code><em>certificat</em><code>.crt</code>). La
    directive optionnelle <code class="directive"><a href="#sslusername">SSLUserName</a></code> permet de sp&#233;cifier quelle
    partie du sujet du certificat est incluse dans le nom d'utilisateur.
    Notez qu'aucun mot de passe n'est envoy&#233; par l'utilisateur. Chaque
    entr&#233;e du fichier des utilisateurs doit comporter ce mot de passe :
    ``<code>xxj31ZMTZzkVA</code>'', qui est la version chiffr&#233;e en DES
    du mot ``<code>password</code>''. Ceux qui travaillent avec un
    chiffrement bas&#233; sur MD5 (par exemple sous FreeBSD ou BSD/OS,
    etc...) doivent utiliser le condens&#233; MD5 suivant pour le m&#234;me mot :
    ``<code>$1$OXLyS...$Owx8s2/m9/gfkcRVXzgoE/</code>''.</p>

    <p>Notez que la directive <code class="directive"><a href="../mod/mod_auth_basic.html#authbasicfake">AuthBasicFake</a></code> du module
    <code class="module"><a href="../mod/mod_auth_basic.html">mod_auth_basic</a></code> permet de contr&#244;ler &#224; la
    fois le nom d'utilisateur et le mot de passe ; elle fournit donc un
    m&#233;canisme plus g&#233;n&#233;ral de simulation d'authentification de base.</p>

    <div class="warning">
      <p>Les noms d'utilisateur pour <code>FakeBasicAuth</code> ne doivent pas
      contenir de caract&#232;res non-ASCII, de caract&#232;res d'&#233;chappement ASCII (comme
      newline), ou de caract&#232;re ':'. A partir de la version 2.5.1 de httpd, si
      un caract&#232;re ':' est rencontr&#233;, une erreur 403 Forbidden sera g&#233;n&#233;r&#233;e.</p>
    </div>
</li>
<li><code>StrictRequire</code>
    <p>
    Cette option <em>force</em> l'interdiction d'acc&#232;s lorsque
    <code>SSLRequireSSL</code> ou <code>SSLRequire</code> a d&#233;cid&#233; que
    l'acc&#232;s devait &#234;tre interdit. Par d&#233;faut, dans le cas o&#249;
    une directive ``<code>Satisfy any</code>'' est utilis&#233;e, et si
    d'autres restrictions d'acc&#232;s ont &#233;t&#233; franchies, on passe en g&#233;n&#233;ral
    outre l'interdiction d'acc&#232;s due &#224; <code>SSLRequireSSL</code> ou
    <code>SSLRequire</code> (parce que c'est ainsi que le m&#233;canisme
    <code>Satisfy</code> d'Apache doit fonctionner). Pour des
    restrictions d'acc&#232;s plus strictes, vous pouvez cependant utiliser
    <code>SSLRequireSSL</code> et/ou <code>SSLRequire</code> en
    combinaison avec une option ``<code>SSLOptions
    +StrictRequire</code>''. Une directive ``<code>Satisfy Any</code>''
    n'a alors aucune chance d'autoriser l'acc&#232;s si mod_ssl a d&#233;cid&#233; de
    l'interdire.</p>
</li>
<li><code>OptRenegotiate</code>
    <p>
    Cette option active la gestion optimis&#233;e de la ren&#233;gociation des
    connexions SSL intervenant lorsque les directives SSL sont utilis&#233;es
    dans un contexte de r&#233;pertoire. Par d&#233;faut un sch&#233;ma strict est
    appliqu&#233;, et <em>chaque</em> reconfiguration des param&#232;tres SSL au
    niveau du r&#233;pertoire implique une phase de ren&#233;gociation SSL
    <em>compl&#232;te</em>. Avec cette option, mod_ssl essaie d'&#233;viter les
    &#233;changes non n&#233;cessaires en effectuant des v&#233;rifications de
    param&#232;tres plus granulaires (mais tout de m&#234;me efficaces).
    N&#233;anmoins, ces v&#233;rifications granulaires peuvent ne pas correspondre
    &#224; ce qu'attend l'utilisateur, et il est donc recommand&#233; de n'activer
    cette option que dans un contexte de r&#233;pertoire.</p>
</li>
<li><code>LegacyDNStringFormat</code>
    <p>
    Cette option permet d'agir sur la mani&#232;re dont les valeurs des
    variables <code>SSL_{CLIENT,SERVER}_{I,S}_DN</code> sont format&#233;es.
    Depuis la version 2.3.11, Apache HTTPD utilise par d&#233;faut un format
    compatible avec la RFC 2253. Ce format utilise des virgules comme
    d&#233;limiteurs entre les attributs, permet l'utilisation de caract&#232;res
    non-ASCII (qui sont alors convertis en UTF8), &#233;chappe certains
    caract&#232;res sp&#233;ciaux avec des slashes invers&#233;s, et trie les attributs
    en pla&#231;ant l'attribut "C" en derni&#232;re position.</p>

    <p>Si l'option <code>LegacyDNStringFormat</code> est pr&#233;sente, c'est
    l'ancien format qui sera utilis&#233; : les attributs sont tri&#233;s avec
    l'attribut "C" en premi&#232;re position, les s&#233;parateurs sont des
    slashes non invers&#233;s, les caract&#232;res non-ASCII ne sont pas support&#233;s
    et le support des caract&#232;res sp&#233;ciaux n'est pas fiable.
    </p>
</li>
</ul>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLOptions +FakeBasicAuth -StrictRequire
&lt;Files ~ "\.(cgi|shtml)$"&gt;
    SSLOptions +StdEnvVars -ExportCertData
&lt;/Files&gt;</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslpassphrasedialog" id="sslpassphrasedialog">Directive</a> <a name="SSLPassPhraseDialog" id="SSLPassPhraseDialog">SSLPassPhraseDialog</a><a title="Lien permanent" href="#sslpassphrasedialog" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>M&#233;thode utilis&#233;e pour entrer le mot de passe pour les cl&#233;s
priv&#233;es chiffr&#233;es</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLPassPhraseDialog <em>type</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLPassPhraseDialog builtin</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Lors de son d&#233;marrage, Apache doit lire les diff&#233;rents fichiers de
certificats (voir la directive <code class="directive"><a href="#sslcertificatefile">SSLCertificateFile</a></code>) et de cl&#233;s priv&#233;es
(voir la directive <code class="directive"><a href="#sslcertificatekeyfile">SSLCertificateKeyFile</a></code>) des serveurs
virtuels o&#249; SSL est activ&#233;. Comme, pour des raisons de s&#233;curit&#233;, les
fichiers de cl&#233;s priv&#233;es sont en g&#233;n&#233;ral chiffr&#233;s,  mod_ssl doit
demander &#224; l'administrateur un mot de passe pour d&#233;chiffrer ces
fichiers. L'argument <em>type</em> permet de choisir la mani&#232;re dont
cette demande peut &#234;tre formul&#233;e parmi les trois suivantes :</p>
<ul>
<li><code>builtin</code>
    <p>
    C'est la m&#233;thode par d&#233;faut, et un dialogue interactive de terminal
    s'ouvre au cours du d&#233;marrage juste avant qu'Apache ne se d&#233;tache du
    terminal. A ce moment, l'administrateur doit entrer manuellement un
    mot de passe pour chaque fichier de cl&#233; priv&#233;e chiffr&#233;. Etant donn&#233;
    qu'il peut y avoir un grand nombre de serveurs virtuels configur&#233;s
    avec SSL activ&#233;, le protocole de r&#233;utilisation suivant est utilis&#233;
    pour minimiser le dialogue : lorsqu'un fichier de cl&#233; priv&#233;e est
    chiffr&#233;, tous les mots de passe connus (au d&#233;but, il n'y en a aucun,
    bien entendu) sont essay&#233;s. Si l'un de ces mots de passe connus
    convient, aucun dialogue ne s'ouvrira pour ce fichier de
    cl&#233; priv&#233;e particulier. Si aucun ne convient, un autre mot de passe
    sera demand&#233; &#224; partir du terminal et sera mis en m&#233;moire pour le
    fichier de cl&#233; priv&#233;e suivant (pour lequel il pourra &#233;ventuellement
    &#234;tre r&#233;utilis&#233;).</p>
    <p>
    Cette m&#233;thode conf&#232;re &#224; mod_ssl une grande souplesse (car pour N
    fichiers de cl&#233; priv&#233;e chiffr&#233;s, vous <em>pouvez</em> utiliser N
    mots de passe diff&#233;rents - mais vous devrez alors tous les fournir,
    bien entendu), tout en minimisant le dialogue de terminal (vous
    pouvez en effet utiliser un seul mot de passe pour les N fichiers de
    cl&#233; priv&#233;e et vous n'aurez alors &#224; l'entrer qu'une seule
    fois).</p></li>

<li><code>|/chemin/vers/programme [arguments...]</code>

   <p>Ce mode permet d'utiliser un programme externe qui va se pr&#233;senter
   comme une redirection vers un p&#233;riph&#233;rique d'entr&#233;e particulier ; le
   texte de prompt standard utilis&#233; pour le mode <code>builtin</code>
   est envoy&#233; au programme sur <code>stdin</code>, et celui-ci doit
   renvoyer des mots de passe sur <code>stdout</code>. Si
   plusieurs mots de passe sont requis (ou si un mot de passe incorrect
   a &#233;t&#233; entr&#233;), un texte de prompt suppl&#233;mentaire sera &#233;crit apr&#232;s le
   retour du premier mot de passe, et d'autres mots de passe devront
   alors &#234;tre r&#233;&#233;crits.</p></li>

<li><code>exec:/chemin/vers/programme</code>
    <p>
    Ici, un programme externe est appel&#233; au d&#233;marrage du serveur pour
    chaque fichier de cl&#233; priv&#233;e chiffr&#233;. Il est
    appel&#233; avec un
    argument, une cha&#238;ne de la forme
    "<code>servername:portnumber:index</code>" (index &#233;tant un num&#233;ro
    d'ordre d&#233;butant 0), qui indique pour quels serveur, port TCP et
    num&#233;ro de certificat il doit &#233;crire le mot de
    passe correspondant sur <code>stdout</code>. Le but recherch&#233; est
    l'ex&#233;cution de v&#233;rifications de s&#233;curit&#233; pr&#233;alables permettant de
    s'assurer que le syst&#232;me n'est pas victime d'une attaque, et de ne
    fournir le mot de passe que si toutes les v&#233;rifications ont &#233;t&#233;
    effectu&#233;es avec succ&#232;s.</p>
    <p>
    Ces v&#233;rifications de s&#233;curit&#233;, ainsi que la mani&#232;re dont le mot de
    passe est d&#233;termin&#233; peuvent &#234;tre aussi sophistiqu&#233;s que vous le
    d&#233;sirez. Mod_ssl ne d&#233;finit que l'interface : un programme
    ex&#233;cutable qui &#233;crit le mot de passe sur <code>stdout</code>. Ni
    plus, ni moins ! Ainsi, si vous &#234;tes vraiment parano&#239;aque en mati&#232;re
    de s&#233;curit&#233;, voici votre interface. Tout le reste doit &#234;tre confi&#233; &#224;
    l'administrateur &#224; titre d'exercice, car les besoins en s&#233;curit&#233;
    locale sont tr&#232;s diff&#233;rents.</p>
    <p>
    L'algorithme de r&#233;utilisation est utilis&#233; ici aussi. En d'autres
    termes, le programme externe n'est appel&#233; qu'une fois par mot de
    passe unique.</p></li>
</ul>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLPassPhraseDialog "exec:/usr/local/apache/sbin/pp-filter"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslpolicy" id="sslpolicy">Directive</a> <a name="SSLPolicy" id="SSLPolicy">SSLPolicy</a><a title="Lien permanent" href="#sslpolicy" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Applique une politique SSL en la r&#233;f&#233;ren&#231;ant par son nom</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLPolicy <em>name</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible &#224; partir de la version 2.4.30 du serveur HTTP Apache</td></tr>
</table>
<p>Cette directive permet d'appliquer le jeu de directives d&#233;finies au sein
de la polique SSL de nom 'name' comme configuration <em>de base</em> dans
le contexte courant. Apache httpd est fourni avec les politiques SSL pr&#233;d&#233;finies
suivantes de Mozilla, l'&#233;diteur du navigateur Firefox (<a href="https://wiki.mozilla.org/Security/Server_Side_TLS#Recommended_configurations">description
d&#233;taill&#233;e</a>) :
</p>
<ul>
    <li><code>modern</code>: recommand&#233; lorsque votre serveur est accessible
    depuis internet, fonctionne avec tous les navigateurs modernes, mais les
    anciens navigateurs peuvent avoir des difficult&#233;s pour se connecter.</li>
    <li><code>intermediate</code>: version d&#233;grad&#233;e si vous devez supporter les
    vieux clients (mais pas trop vieux).</li>
    <li><code>old</code>: lorsque vous voulez donner acc&#232;s &#224; IE6 sous Windows XP
    (ultime recours).</li>
</ul>

<p>La directive SSLPolicy s'applique &#224; l'endroit o&#249; elle est d&#233;finie, ce qui
signifie que des valeurs d&#233;finies &#233;vntuellement au pr&#233;alable sont &#233;cras&#233;es, et
bien entendu que cette m&#234;me directive peut &#234;tre &#233;cras&#233;e par d'&#233;ventuelles
directives d&#233;finies plus loin dans le fichier de configuration.</p>

<p>Vous pouvez obtenir une description d&#233;taill&#233;e de toutes les politiques
pr&#233;d&#233;finies via la commande :</p>
<div class="example"><h3>Liste de toutes les politiques SSL pr&#233;d&#233;finies</h3><pre class="prettyprint lang-sh">httpd -t -D DUMP_SSL_POLICIES</pre>
</div>


</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslprotocol" id="sslprotocol">Directive</a> <a name="SSLProtocol" id="SSLProtocol">SSLProtocol</a><a title="Lien permanent" href="#sslprotocol" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Indique les versions du protocole SSL/TLS
disponibles</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProtocol [+|-]<em>protocole</em> ...</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProtocol all -SSLv3</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir quelles versions du protocole SSL/TLS
seront accept&#233;es lors de l'initialisation d'une nouvelle connexion.</p>
<p>
Les <em>protocole</em>s disponibles sont les suivants (sensibles &#224; la
casse) :</p>
<ul>
<li><code>SSLv3</code>
    <p>
    Il s'agit du protocole Secure Sockets Layer (SSL) version 3.0 de
    Netscape Corporation. C'est le successeur de SSLv2 et le
    pr&#233;d&#233;cesseur de TLSv1, mais est consid&#233;r&#233; comme
    obsol&#232;te dans la <a href="http://www.ietf.org/rfc/rfc7568.txt">RFC
    7568</a></p></li>

<li><code>TLSv1</code>
    <p>
    Il s'agit du protocole  Transport Layer Security (TLS) version 1.0.
    C'est le successeur de SSLv3, et il est d&#233;fini dans la <a href="http://www.ietf.org/rfc/rfc2246.txt">RFC2246</a>.</p></li>

<li><code>TLSv1.1</code> (&#224; partir de la version 1.0.1 d'OpenSSL)
    <p>
    Une r&#233;vision du protocole TLS 1.0 d&#233;finie dans la <a href="http://www.ietf.org/rfc/rfc4346.txt">RFC 4346</a>. Il est
    support&#233; par la plupart des clients.</p></li>

<li><code>TLSv1.2</code> (&#224; partir de la version 1.0.1 d'OpenSSL)
    <p>
    Une r&#233;vision du protocole TLS 1.1 d&#233;finie dans la <a href="http://www.ietf.org/rfc/rfc5246.txt">RFC 5246</a>.</p></li>

<li><code>TLSv1.3</code> (avec OpenSSL version 1.1.1 et sup&#233;rieures)
    <p>
    Une nouvelle version du protocole TLS d&#233;finie dans la <a href="https://github.com/tlswg/tls13-spec">RFC TBD</a>.</p></li>    

<li><code>all</code>
    <p>
    C'est un raccourci pour ``<code>+SSLv3 +TLSv1</code>'' ou - &#224; partir
    de la version 1.0.1 d'OpenSSL - ``<code>+SSLv3 +TLSv1 +TLSv1.1
    +TLSv1.2</code>'' (sauf si OpenSSL a &#233;t&#233; compil&#233; avec l'option
    ``no-ssl3'', auquel cas <code>all</code> n'inclura pas
    <code>+SSLv3</code>).</p></li>
</ul>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProtocol TLSv1</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxycacertificatefile" id="sslproxycacertificatefile">Directive</a> <a name="SSLProxyCACertificateFile" id="SSLProxyCACertificateFile">SSLProxyCACertificateFile</a><a title="Lien permanent" href="#sslproxycacertificatefile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier contenant la concat&#233;nation des certificats de CA
cod&#233;s en PEM pour l'authentification des serveurs distants</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCACertificateFile <var>file-path</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le fichier <em>tout-en-un</em> o&#249; sont
stock&#233;s les certificats des Autorit&#233;s de Certification (CA) pour les
<em>serveurs distants</em> auxquels vous avez &#224; faire. On les utilise
lors de l'authentification du serveur distant. Un tel fichier contient
la simple concat&#233;nation des diff&#233;rents fichiers de certificats cod&#233;s en
PEM, class&#233;s par ordre de pr&#233;f&#233;rence. On peut utiliser cette directive &#224;
la place et/ou en compl&#233;ment de la directive <code class="directive"><a href="#sslproxycacertificatepath">SSLProxyCACertificatePath</a></code>.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyCACertificateFile
"/usr/local/apache2/conf/ssl.crt/ca-bundle-serveur.distant.crt"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxycacertificatepath" id="sslproxycacertificatepath">Directive</a> <a name="SSLProxyCACertificatePath" id="SSLProxyCACertificatePath">SSLProxyCACertificatePath</a><a title="Lien permanent" href="#sslproxycacertificatepath" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>R&#233;pertoire des certificats de CA cod&#233;s en PEM pour
l'authentification des serveurs distants</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCACertificatePath <em>chemin-r&#233;pertoire</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de sp&#233;cifier le r&#233;pertoire o&#249; sont stock&#233;s les
certificats des Autorit&#233;s de Certification (CAs) pour les serveurs
distants auxquels vous avez &#224; faire. On les utilise pour v&#233;rifier le
certificat du serveur distant lors de l'authentification de ce
dernier.</p>
<p>
Les fichiers de ce r&#233;pertoire doivent &#234;tre cod&#233;s en PEM et ils sont
acc&#233;d&#233;s via des noms de fichier sous forme de condens&#233;s ou hash. Il ne
suffit donc pas de placer les fichiers de certificats dans ce r&#233;pertoire
: vous devez aussi cr&#233;er des liens symboliques nomm&#233;s
<em>valeur-de-hashage</em><code>.N</code>, et vous devez toujours vous
assurer que ce r&#233;pertoire contient les liens symboliques appropri&#233;s.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyCACertificatePath "/usr/local/apache2/conf/ssl.crt/"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxycarevocationcheck" id="sslproxycarevocationcheck">Directive</a> <a name="SSLProxyCARevocationCheck" id="SSLProxyCARevocationCheck">SSLProxyCARevocationCheck</a><a title="Lien permanent" href="#sslproxycarevocationcheck" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Active la v&#233;rification des r&#233;vocations bas&#233;e sur les CRLs
pour l'authentification du serveur distant</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCARevocationCheck chain|leaf|none</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyCARevocationCheck none</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Active la v&#233;rification des r&#233;vocations bas&#233;e sur les Listes de
r&#233;vocations de Certificats (CRL) pour les <em>serveurs distants</em>
auxquels vous vous connectez. A moins une des directives <code class="directive"><a href="#sslproxycarevocationfile">SSLProxyCARevocationFile</a></code> ou <code class="directive"><a href="#sslproxycarevocationpath">SSLProxyCARevocationPath</a></code> doit &#234;tre d&#233;finie.
Lorsque cette directive est d&#233;finie &#224; <code>chain</code> (valeur
recommand&#233;e), les v&#233;rifications CRL sont effectu&#233;es sur tous les
certificats de la cha&#238;ne, alors que la valeur <code>leaf</code> limite
la v&#233;rification au certificat hors cha&#238;ne (la feuille).
</p>
<div class="note">
<h3>Lorsque la directive est d&#233;finie &#224; <code>chain</code> ou
<code>leaf</code>, les CRLs doivent &#234;tre disponibles pour que la
validation r&#233;ussisse</h3>
<p>
Avant la version 2.3.15, les v&#233;rifications CRL dans mod_ssl
r&#233;ussissaient m&#234;me si aucune CRL n'&#233;tait trouv&#233;e dans les chemins
d&#233;finis par les directives <code class="directive"><a href="#sslproxycarevocationfile">SSLProxyCARevocationFile</a></code> ou <code class="directive"><a href="#sslproxycarevocationpath">SSLProxyCARevocationPath</a></code>. Le comportement a
chang&#233; avec l'introduction de cette directive : lorsque la v&#233;rification
est activ&#233;e, les CRLs <em>doivent</em> &#234;tre pr&#233;sentes pour que la
validation r&#233;ussisse ; dans le cas contraire, elle &#233;chouera avec une
erreur <code>"CRL introuvable"</code>.
</p>
</div>
<div class="example"><h3>Exmple</h3><pre class="prettyprint lang-config">SSLProxyCARevocationCheck chain</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxycarevocationfile" id="sslproxycarevocationfile">Directive</a> <a name="SSLProxyCARevocationFile" id="SSLProxyCARevocationFile">SSLProxyCARevocationFile</a><a title="Lien permanent" href="#sslproxycarevocationfile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier contenant la concat&#233;nation des CRLs de CA cod&#233;s en
PEM pour l'authentification des serveurs distants</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCARevocationFile <var>file-path</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le fichier <em>tout-en-un</em> o&#249; sont
rassembl&#233;es les Listes de R&#233;vocation de Certificats (CRLs) des Autorit&#233;s
de certification (CAs) pour les <em>serveurs distants</em> auxquels vous
avez &#224; faire. On les utilise pour l'authentification des serveurs
distants. Un tel fichier contient la simple concat&#233;nation des diff&#233;rents
fichiers de CRLs cod&#233;s en PEM, class&#233;s par ordre de pr&#233;f&#233;rence. Cette
directive peut &#234;tre utilis&#233;e &#224; la place et/ou en compl&#233;ment de la
directive <code class="directive"><a href="#sslproxycarevocationpath">SSLProxyCARevocationPath</a></code>.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyCARevocationFile
"/usr/local/apache2/conf/ssl.crl/ca-bundle-serveur.distant.crl"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxycarevocationpath" id="sslproxycarevocationpath">Directive</a> <a name="SSLProxyCARevocationPath" id="SSLProxyCARevocationPath">SSLProxyCARevocationPath</a><a title="Lien permanent" href="#sslproxycarevocationpath" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>R&#233;pertoire des CRLs de CA cod&#233;s en PEM pour
l'authentification des serveurs distants</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCARevocationPath <em>chemin-r&#233;pertoire</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le r&#233;pertoire o&#249; sont stock&#233;es les
Listes de R&#233;vocation de Certificats (CRL) des Autorit&#233;s de Certification
(CAs) pour les serveurs distants auxquels vous avez &#224; faire. On les
utilise pour r&#233;voquer les certificats des serveurs distants au cours de
l'authentification de ces derniers.</p>
<p>
Les fichiers de ce r&#233;pertoire doivent &#234;tre cod&#233;s en PEM et ils sont
acc&#233;d&#233;s via des noms de fichier sous forme de condens&#233;s ou hash. Il ne
suffit donc pas de placer les fichiers de CRL dans ce r&#233;pertoire
: vous devez aussi cr&#233;er des liens symboliques nomm&#233;s
<em>valeur-de-hashage</em><code>.rN</code>, et vous devez toujours vous
assurer que ce r&#233;pertoire contient les liens symboliques appropri&#233;s.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyCARevocationPath "/usr/local/apache2/conf/ssl.crl/"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxycheckpeercn" id="sslproxycheckpeercn">Directive</a> <a name="SSLProxyCheckPeerCN" id="SSLProxyCheckPeerCN">SSLProxyCheckPeerCN</a><a title="Lien permanent" href="#sslproxycheckpeercn" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Configuration de la v&#233;rification du champ CN du certificat
du serveur distant
</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCheckPeerCN on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyCheckPeerCN on</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir si le champ CN du certificat
du serveur distant doit &#234;tre compar&#233; au nom de serveur de l'URL de la
requ&#234;te. S'ils ne correspondent pas, un
code d'&#233;tat 502 (Bad Gateway) est envoy&#233;. A partir de la version 2.4.5, la
directive <code class="directive"><a href="#sslproxycheckpeername">SSLProxyCheckPeerName</a></code>
l'emporte sur la directive <code>SSLProxyCheckPeerCN</code>.
</p>
<p>
De la version 2.4.5 &#224; la version 2.4.20, sp&#233;cifier <code>SSLProxyCheckPeerName
off</code> &#233;tait suffisant pour activer cette fonctionnalit&#233; (&#233;tant donn&#233; que la
valeur par d&#233;faut de la directive <code>SSLProxyCheckPeerCN</code> &#233;tait
<code>on</code>). Avec ces m&#234;mes versions, les deux directives devaient &#234;tre
d&#233;finies &#224; <code>off</code> pour &#233;viter la validation du nom de certificat du
serveur distant. De nombreux utilisateurs ont signal&#233; ce comportement comme
&#233;tant source de confusion.
</p>
<p>
A partir de la version 2.4.21, toute configuration qui active une des
deux options <code>SSLProxyCheckPeerName</code> ou
<code>SSLProxyCheckPeerCN</code> adopte le nouveau comportement de la
directive <code class="directive"><a href="#sslproxycheckpeername">SSLProxyCheckPeerName</a></code>, alors
que toute configuration qui d&#233;sactive une des options
<code>SSLProxyCheckPeerName</code> ou <code>SSLProxyCheckPeerCN</code> supprime
toute validation du nom de certificat du serveur distant. Seule la configuration
suivante peut r&#233;tablir le comportement traditionnel en mati&#232;re de comparaison
des CN de certificats dans les versions 2.4.21 et ult&#233;rieures.
</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyCheckPeerCN on
SSLProxyCheckPeerName off</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxycheckpeerexpire" id="sslproxycheckpeerexpire">Directive</a> <a name="SSLProxyCheckPeerExpire" id="SSLProxyCheckPeerExpire">SSLProxyCheckPeerExpire</a><a title="Lien permanent" href="#sslproxycheckpeerexpire" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Configuration de la v&#233;rification de l'expiration du
certificat du serveur distant
</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCheckPeerExpire on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyCheckPeerExpire on</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir si l'expiration du certificat du
serveur distant doit &#234;tre v&#233;rifi&#233;e ou non. Si la v&#233;rification &#233;choue, un
code d'&#233;tat 502 (Bad Gateway) est envoy&#233;.
</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyCheckPeerExpire on</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxycheckpeername" id="sslproxycheckpeername">Directive</a> <a name="SSLProxyCheckPeerName" id="SSLProxyCheckPeerName">SSLProxyCheckPeerName</a><a title="Lien permanent" href="#sslproxycheckpeername" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Configure la v&#233;rification du nom d'h&#244;te pour les
certificats serveur distant
</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCheckPeerName on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyCheckPeerName on</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible &#224; partir de la version 2.4.5 du serveur HTTP
Apache</td></tr>
</table>
<p>
Cette directive permet de configurer la v&#233;rification du nom d'h&#244;te pour
les certificats serveur lorsque mod_ssl agit en tant que client SSL. La
v&#233;rification r&#233;ussit si le nom d'h&#244;te de l'URI de la requ&#234;te correspond &#224; un
des attributs CN du sujet du certificat, ou &#224; l'extension subjectAltName. Si la
v&#233;rification &#233;choue, la requ&#234;te SSL
avorte, et un code d'erreur 502 (Bad Gateway) est renvoy&#233;.
</p>
<p>
Les caract&#232;res g&#233;n&#233;riques sont support&#233;s dans certains cas bien sp&#233;cifiques :
une entr&#233;e subjectAltName de type dNSName ou les attributs CN
commen&#231;ant par <code>*.</code> correspondront &#224; tout nom d'h&#244;te comportant
le m&#234;me nombre de champs et le m&#234;me suffixe ; par exemple,
<code>*.example.org</code> correspondra &#224; <code>foo.example.org</code>,
mais pas &#224; <code>foo.bar.example.org</code> car le nombre d'&#233;l&#233;ments dans les
nom est diff&#233;rent.
</p>
<p>
Cette fonctionnalit&#233; a &#233;t&#233; introduite avec la version 2.4.5 et l'emporte sur la
directive <code class="directive"><a href="#sslproxycheckpeercn">SSLProxyCheckPeerCN</a></code> qui ne
comparait que la valeur exacte du premier attribut CN avec le nom d'h&#244;te.
Cependant, de nombreux utilisateurs &#233;taient d&#233;concert&#233;s par le comportement
induit par l'utilisation de ces deux directives individuellement, si bien que ce
comportement a &#233;t&#233; am&#233;lior&#233; avec la version 2.4.21. Voir la description de la
directive <code class="directive"><a href="#sslproxycheckpeercn">SSLProxyCheckPeerCN</a></code> pour le
comportement original et des d&#233;tails &#224; propos de ces am&#233;liorations.
</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxyciphersuite" id="sslproxyciphersuite">Directive</a> <a name="SSLProxyCipherSuite" id="SSLProxyCipherSuite">SSLProxyCipherSuite</a><a title="Lien permanent" href="#sslproxyciphersuite" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Algorithmes de chiffrement disponibles pour la n&#233;gociation
lors de l'initialisation d'une connexion SSL de mandataire</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyCipherSuite [<em>protocol</em>] <em>cipher-spec</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyCipherSuite ALL:!ADH:RC4+RSA:+HIGH:+MEDIUM:+LOW:+EXP</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>Cette directive est &#233;quivalente &#224; la directive <code class="directive"><a href="#sslciphersuite">SSLCipherSuite</a></code>, mais s'applique &#224; une connexion de
mandataire. Veuillez vous reporter &#224; la directive <code class="directive"><a href="#sslciphersuite">SSLCipherSuite</a></code> pour plus d'informations.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxyengine" id="sslproxyengine">Directive</a> <a name="SSLProxyEngine" id="SSLProxyEngine">SSLProxyEngine</a><a title="Lien permanent" href="#sslproxyengine" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Interrupteur marche/arr&#234;t du moteur de mandataire
SSL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyEngine on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyEngine off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet d'activer/d&#233;sactiver l'utilisation du moteur de
protocole SSL/TLS pour le mandataire. On l'utilise en g&#233;n&#233;ral &#224;
l'int&#233;rieur d'une section <code class="directive"><a href="../mod/core.html#virtualhost">&lt;VirtualHost&gt;</a></code> pour activer le protocole SSL/TLS
dans le cadre d'un mandataire pour un serveur virtuel particulier. Par
d&#233;faut, le moteur de protocole SSL/TLS est d&#233;sactiv&#233; pour la fonction de
mandataire du serveur principal et de tous les serveurs virtuels
configur&#233;s.</p>

<p>Notez que la directive <code class="directive">SSLProxyEngine</code> ne doit
g&#233;n&#233;ralement pas &#234;tre utilis&#233;e dans le cadre d'un serveur virtuel qui agit en
tant que mandataire direct (via les directives <code class="directive"><a href="../mod/mod_proxy.html#proxy">&lt;Proxy&gt;</a></code> ou <code class="directive"><a href="../mod/mod_proxy.html#proxyrequests">ProxyRequests</a></code>).
<code class="directive">SSLProxyEngine</code> n'est pas n&#233;cessaire pour activer un
serveur mandataire direct pour les requ&#234;tes SSL/TLS.</p>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">&lt;VirtualHost _default_:443&gt;
    SSLProxyEngine on
    #...
&lt;/VirtualHost&gt;</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxymachinecertificatechainfile" id="sslproxymachinecertificatechainfile">Directive</a> <a name="SSLProxyMachineCertificateChainFile" id="SSLProxyMachineCertificateChainFile">SSLProxyMachineCertificateChainFile</a><a title="Lien permanent" href="#sslproxymachinecertificatechainfile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier de certificats de CA encod&#233;s PEM concat&#233;n&#233;s permettant au
mandataire de choisir un certificat</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyMachineCertificateChainFile <em>nom-fichier</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le fichier global o&#249; est enregistr&#233;e
la cha&#238;ne de certification pour tous les certificats clients utilis&#233;s.
Elle est n&#233;cessaire si le serveur distant pr&#233;sente une liste de
certificats de CA qui ne sont pas les signataires directs d'un des
certificats clients configur&#233;s.
</p>
<p>
Ce fichier contient tout simplement la concat&#233;nation des diff&#233;rents
fichiers de certificats encod&#233;s PEM. Au d&#233;marrage, chaque certificat
client configur&#233; est examin&#233; et une cha&#238;ne de certification est
construite.
</p>
<div class="warning"><h3>Avertissement en mati&#232;re de s&#233;curit&#233;</h3>
<p>Si cette directive est d&#233;finie, tous les certificats contenus dans le
fichier sp&#233;cifi&#233; seront consid&#233;r&#233;s comme &#233;tant de confiance, comme s'ils
&#233;taient aussi d&#233;sign&#233;s dans la directive <code class="directive"><a href="#sslproxycacertificatefile">SSLProxyCACertificateFile</a></code>.</p>
</div>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyMachineCertificateChainFile
"/usr/local/apache2/conf/ssl.crt/proxyCA.pem"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxymachinecertificatefile" id="sslproxymachinecertificatefile">Directive</a> <a name="SSLProxyMachineCertificateFile" id="SSLProxyMachineCertificateFile">SSLProxyMachineCertificateFile</a><a title="Lien permanent" href="#sslproxymachinecertificatefile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Fichier contenant la concat&#233;nation des cl&#233;s et certificats
clients cod&#233;s en PEM que le mandataire doit utiliser</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyMachineCertificateFile <em>file-path</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le fichier tout-en-un o&#249; sont stock&#233;s
les cl&#233;s et certificats permettant au serveur mandataire de
s'authentifier aupr&#232;s des serveurs distants.
</p>
<p>
Le fichier sp&#233;cifi&#233; est la simple concat&#233;nation des diff&#233;rents fichiers
de certificats cod&#233;s en PEM, class&#233;s par ordre de pr&#233;f&#233;rence. Cette
directive s'utilise &#224; la place ou en compl&#233;ment de la directive
<code>SSLProxyMachineCertificatePath</code>.
</p>
<div class="warning">
<p>Actuellement, les cl&#233;s priv&#233;es chiffr&#233;es ne sont pas support&#233;es.</p>
</div>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyMachineCertificateFile "/usr/local/apache2/conf/ssl.crt/proxy.pem"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxymachinecertificatepath" id="sslproxymachinecertificatepath">Directive</a> <a name="SSLProxyMachineCertificatePath" id="SSLProxyMachineCertificatePath">SSLProxyMachineCertificatePath</a><a title="Lien permanent" href="#sslproxymachinecertificatepath" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>R&#233;pertoire des cl&#233;s et certificats clients cod&#233;s en PEM que
le mandataire doit utiliser</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyMachineCertificatePath <em>chemin-r&#233;pertoire</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le r&#233;pertoire o&#249; sont stock&#233;s les cl&#233;s
et certificats permettant au serveur mandataire de s'authentifier aupr&#232;s
des serveurs distants.
</p>
<p>mod_ssl va essayer de charger tous les fichiers contenus dans le r&#233;pertoire
sp&#233;cifi&#233;, mais en ignorera les &#233;ventuels sous-r&#233;pertoires. Chaque fichier doit
contenir un certificat cod&#233; au format PEM ainsi que la cl&#233; priv&#233;e
correspondante.</p>
<div class="warning">
<p>Actuellement, les cl&#233;s priv&#233;es chiffr&#233;es ne sont pas support&#233;es.</p>
</div>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyMachineCertificatePath "/usr/local/apache2/conf/proxy.crt/"</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxyprotocol" id="sslproxyprotocol">Directive</a> <a name="SSLProxyProtocol" id="SSLProxyProtocol">SSLProxyProtocol</a><a title="Lien permanent" href="#sslproxyprotocol" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;finit les protocoles SSL disponibles pour la fonction de
mandataire</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyProtocol [+|-]<em>protocole</em> ...</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyProtocol all -SSLv3</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>

<p>
Cette directive permet de d&#233;finir les protocoles SSL que mod_ssl peut
utiliser lors de l'&#233;laboration de son environnement de serveur pour la
fonction de mandataire. Il ne se connectera qu'aux serveurs utilisant un
des protocoles sp&#233;cifi&#233;s.</p>
<p>Veuillez vous reporter &#224; la directive <code class="directive"><a href="#sslprotocol">SSLProtocol</a></code> pour plus d'informations.
</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxyverify" id="sslproxyverify">Directive</a> <a name="SSLProxyVerify" id="SSLProxyVerify">SSLProxyVerify</a><a title="Lien permanent" href="#sslproxyverify" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Niveau de v&#233;rification du certificat du serveur
distant</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyVerify <em>niveau</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyVerify none</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>

<p>Lorsqu'un mandataire est configur&#233; pour faire suivre les requ&#234;tes
vers un serveur SSL distant, cette directive permet de configurer la
v&#233;rification du certificat de ce serveur distant.</p>

<p>
Les valeurs de <em>niveau</em>x disponibles sont les suivantes :</p>
<ul>
<li><strong>none</strong>:
     aucun certificat n'est requis pour le serveur distant</li>
<li><strong>optional</strong>:
     le serveur distant <em>peut</em> pr&#233;senter un certificat valide</li>
<li><strong>require</strong>:
     le serveur distant <em>doit</em> pr&#233;senter un certificat valide</li>
<li><strong>optional_no_ca</strong>:
     le serveur distant peut pr&#233;senter un certificat valide<br />
     mais il n'est pas n&#233;cessaire qu'il soit v&#233;rifiable (avec succ&#232;s).</li>
</ul>
<p>En pratique, seuls les niveaux <strong>none</strong> et
<strong>require</strong> sont vraiment int&#233;ressants, car le niveau
<strong>optional</strong> ne fonctionne pas avec tous les serveurs, et
le niveau <strong>optional_no_ca</strong> va tout &#224; fait &#224; l'encontre de
l'id&#233;e que l'on peut se faire de l'authentification (mais peut tout de
m&#234;me &#234;tre utilis&#233; pour &#233;tablir des pages de test SSL, etc...)

In practice only levels <strong>none</strong> and
<strong>require</strong> are really interesting, because level
<strong>optional</strong> doesn't work with all servers and level
<strong>optional_no_ca</strong> is actually against the idea of
authentication (but can be used to establish SSL test pages, etc.)</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyVerify require</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslproxyverifydepth" id="sslproxyverifydepth">Directive</a> <a name="SSLProxyVerifyDepth" id="SSLProxyVerifyDepth">SSLProxyVerifyDepth</a><a title="Lien permanent" href="#sslproxyverifydepth" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Niveau de profondeur maximum dans les certificats de CA
lors de la v&#233;rification du certificat du serveur distant</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLProxyVerifyDepth <em>niveau</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLProxyVerifyDepth 1</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, </td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le niveau de profondeur maximum
jusqu'auquel mod_ssl doit aller au cours de sa v&#233;rification avant de
d&#233;cider que le serveur distant ne poss&#232;de pas de certificat valide.</p>
<p>
La profondeur correspond en fait au nombre maximum de fournisseurs de
certificats interm&#233;diaires, c'est &#224; dire le nombre maximum de
certificats
de CA que l'on peut consulter lors de la v&#233;rification du certificat du
serveur distant. Une profondeur de 0 signifie que seuls les certificats
de serveurs distants auto-sign&#233;s sont accept&#233;s, et la profondeur par
d&#233;faut de 1 que le certificat du serveur distant peut &#234;tre soit
auto-sign&#233;, soit sign&#233; par une CA connue directement du serveur (en
d'autres termes, le certificat de CA est r&#233;f&#233;renc&#233; par la directive
<code class="directive"><a href="#sslproxycacertificatepath">SSLProxyCACertificatePath</a></code>),
etc...</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLProxyVerifyDepth 10</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslrandomseed" id="sslrandomseed">Directive</a> <a name="SSLRandomSeed" id="SSLRandomSeed">SSLRandomSeed</a><a title="Lien permanent" href="#sslrandomseed" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Source de d&#233;clenchement du G&#233;n&#233;rateur de Nombres
Pseudo-Al&#233;atoires (PRNG)</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLRandomSeed <em>contexte</em> <em>source</em>
[<em>nombre</em>]</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir une ou plusieurs sources de
d&#233;clenchement du G&#233;n&#233;rateur de Nombres Pseudo-Al&#233;atoires (PRNG) dans
OpenSSL au d&#233;marrage du serveur (si <em>contexte</em> a pour valeur
<code>startup</code>) et/ou juste avant l'&#233;tablissement d'une nouvelle
connexion SSL (si <em>contexte</em> a pour valeur <code>connect</code>).
Cette directive ne peut &#234;tre utilis&#233;e qu'au niveau du serveur global car
le PRNG est un service global.</p>
<p>
Les diff&#233;rentes valeurs de <em>source</em> disponibles sont :</p>
<ul>
<li><code>builtin</code>
    <p>Cette source de d&#233;clenchement int&#233;gr&#233;e est toujours disponible.  Son
    utilisation consomme un minimum de cycles CPU en cours d'ex&#233;cution, et son
    utilisation ne pr&#233;sente de ce fait aucun probl&#232;me. La source utilis&#233;e pour
    d&#233;clencher le PRNG contient la date courante, l'identifiant du processus
    courant et un extrait de 128 octets al&#233;atoirement choisi dans la pile. Ceci
    pr&#233;sente un inconv&#233;nient car le caract&#232;re al&#233;atoire de cette source n'est
    pas vraiment fort, et au d&#233;marrage (lorsque la structure d'&#233;changes n'est
    pas encore disponible), cette source ne produit que quelques octets
    d'entropie.  Vous devez donc toujours utiliser une source de d&#233;clenchement
    additionnelle, au moins pour le d&#233;marrage.</p></li>
<li><code>file:/chemin/vers/source</code>
    <p>
    Cette variante utilise un fichier externe
    <code>file:/chemin/vers/source</code> comme source de d&#233;clenchement
    du PRNG. Lorsque <em>nombre</em> est sp&#233;cifi&#233;, seuls les
    <em>nombre</em> premiers octets du fichier forment l'entropie (et
    <em>nombre</em> est fourni comme premier argument &#224;
    <code>/chemin/vers/source</code>). Lorsque <em>nombre</em> n'est pas
    sp&#233;cifi&#233;, l'ensemble du fichier forme l'entropie (et <code>0</code>
    est fourni comme premier argument &#224;
    <code>/chemin/vers/source</code>). Utilisez cette source en
    particulier au d&#233;marrage, par exemple avec un fichier de
    p&#233;riph&#233;rique <code>/dev/random</code> et/ou
    <code>/dev/urandom</code> (qui sont en g&#233;n&#233;ral pr&#233;sent sur les
    plate-formes d&#233;riv&#233;es d'Unix modernes comme FreeBSD et Linux).</p>
    <p><em>Soyez cependant prudent</em> : en g&#233;n&#233;ral,
    <code>/dev/random</code> ne fournit que l'entropie dont il dispose
    r&#233;ellement ; en d'autres termes, lorsque vous demandez 512 octets
    d'entropie, si le p&#233;riph&#233;rique ne dispose que de 100 octets, deux
    choses peuvent se produire : sur certaines plates-formes, vous ne
    recevez que les 100 octets, alors que sur d'autres, la lecture se
    bloque jusqu'&#224; ce qu'un nombre suffisant d'octets soit disponible
    (ce qui peut prendre beaucoup de temps). Il est pr&#233;f&#233;rable ici
    d'utiliser le p&#233;riph&#233;rique <code>/dev/urandom</code>, car il ne se
    bloque jamais et fournit vraiment la quantit&#233; de donn&#233;es demand&#233;es.
    Comme inconv&#233;nient, les donn&#233;es re&#231;ues ne sont pas forc&#233;ment de la
    meilleure qualit&#233;.</p></li>

<li><code>exec:/chemin/vers/programme</code>
    <p>
    Cette variante utilise un ex&#233;cutable externe
    <code>/chemin/vers/programme</code> comme source de d&#233;clenchement du
    PRNG. Lorsque <em>nombre</em> est sp&#233;cifi&#233;, seules les
    <em>nombre</em> premiers octets de son flux <code>stdout</code>
    forment l'entropie. Lorsque <em>nombre</em> n'est pas sp&#233;cifi&#233;,
    l'int&#233;gralit&#233; des donn&#233;es produites sur <code>stdout</code> forment
    l'entropie. N'utilisez cette variante qu'au d&#233;marrage o&#249; une source
    de d&#233;clenchement fortement al&#233;atoire est n&#233;cessaire, en utilisant
    un programme externe (comme dans l'exemple
    ci-dessous avec l'utilitaire <code>truerand</code> bas&#233; sur la
    biblioth&#232;que <em>truerand</em> de AT&amp;T que vous trouverez
    dans la distribution de mod_ssl). Bien entendu, l'utilisation de
    cette variante dans un contexte "connection" ralentit le serveur de
    mani&#232;re trop importante, et en g&#233;n&#233;ral, vous devez donc &#233;viter
    d'utiliser des programmes externes dans ce contexte.</p></li>
<li><code>egd:/chemin/vers/socket-egd</code> (Unix seulement)
    <p>Cette variante utilise le socket de domaine Unix du D&#233;mon
    G&#233;n&#233;rateur d'Entropie externe ou Entropy Gathering Daemon ou EGD
    (voir <a href="http://www.lothar.com/tech/crypto/">http://www.lothar.com/tech
    /crypto/</a>) pour d&#233;clencher le PRNG. N'utilisez cette variante que
    si votre plate-forme ne poss&#232;de pas de p&#233;riph&#233;rique random ou
    urandom.</p></li>
</ul>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLRandomSeed startup builtin
SSLRandomSeed startup "file:/dev/random"
SSLRandomSeed startup "file:/dev/urandom" 1024
SSLRandomSeed startup "exec:/usr/local/bin/truerand" 16
SSLRandomSeed connect builtin
SSLRandomSeed connect "file:/dev/random"
SSLRandomSeed connect "file:/dev/urandom" 1024</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslrenegbuffersize" id="sslrenegbuffersize">Directive</a> <a name="SSLRenegBufferSize" id="SSLRenegBufferSize">SSLRenegBufferSize</a><a title="Lien permanent" href="#sslrenegbuffersize" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>D&#233;finit la taille du tampon de ren&#233;gociation
SSL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLRenegBufferSize <var>taille</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLRenegBufferSize 131072</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>

<p>Si une ren&#233;gociation SSL est requise dans un contexte de r&#233;pertoire,
par exemple avec l'utilisation de <code class="directive"><a href="#sslverifyclient">SSLVerifyClient</a></code> dans un bloc Directory ou
Location, mod_ssl doit mettre en tampon en m&#233;moire tout corps de requ&#234;te
HTTP en attendant qu'une nouvelle initialisation de connexion SSL puisse
&#234;tre effectu&#233;e. Cette directive permet de d&#233;finir la quantit&#233; de m&#233;moire
&#224; allouer pour ce tampon.</p>

<div class="warning"><p>
Notez que dans de nombreuses configurations, le client qui envoie un
corps de requ&#234;te n'est pas forc&#233;ment digne de confiance, et l'on doit
par cons&#233;quent prendre en consid&#233;ration la possibilit&#233; d'une attaque de
type d&#233;ni de service lorsqu'on modifie la valeur de cette directive.
</p></div>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLRenegBufferSize 262144</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslrequire" id="sslrequire">Directive</a> <a name="SSLRequire" id="SSLRequire">SSLRequire</a><a title="Lien permanent" href="#sslrequire" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>N'autorise l'acc&#232;s que lorsqu'une expression bool&#233;enne
complexe et arbitraire est vraie</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLRequire <em>expression</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<div class="note"><h3>SSLRequire is obsol&#232;te</h3>
<p><code>SSLRequire</code> est obsol&#232;te et doit en g&#233;n&#233;ral &#234;tre
remplac&#233;e par l'expression <a href="mod_authz_core.html#reqexpr">Require</a>. La syntaxe <a href="../expr.html">ap_expr</a> de l'expression <code>Require</code> est
une extension de la syntaxe de <code>SSLRequire</code>, avec les
diff&#233;rences suivantes :</p>

<p>Avec <code>SSLRequire</code>, les op&#233;rateurs de comparaison
<code>&lt;</code>, <code>&lt;=</code>, ... sont strictement &#233;quivalents
aux op&#233;rateurs <code>lt</code>, <code>le</code>, ... , et fonctionnent
selon une m&#233;thode qui compare tout d'abord la longueur des deux cha&#238;nes,
puis l'ordre alphab&#233;tique. Les expressions <a href="../expr.html">ap_expr</a>, quant &#224; elles, poss&#232;dent deux jeux
d'op&#233;rateurs de comparaison : les op&#233;rateurs <code>&lt;</code>,
<code>&lt;=</code>, ... effectuent une comparaison alphab&#233;tique de
cha&#238;nes, alors que les op&#233;rateurs <code>-lt</code>, <code>-le</code>,
... effectuent une comparaison d'entiers. Ces derniers poss&#232;dent aussi
des alias sans tiret initial : <code>lt</code>, <code>le</code>, ...
</p>

</div>

<p>Cette directive permet de sp&#233;cifier une condition g&#233;n&#233;rale d'acc&#232;s
qui doit &#234;tre enti&#232;rement satisfaite pour que l'acc&#232;s soit autoris&#233;.
C'est une directive tr&#232;s puissante, car la condition d'acc&#232;s sp&#233;cifi&#233;e
est une expression bool&#233;enne complexe et arbitraire contenant un nombre
quelconque de v&#233;rifications quant aux autorisations d'acc&#232;s.</p>
<p>
L'<em>expression</em> doit respecter la syntaxe suivante (fournie ici
sous la forme d'une notation dans le style de la grammaire BNF) :</p>
<blockquote>
<pre>expr     ::= "<strong>true</strong>" | "<strong>false</strong>"
           | "<strong>!</strong>" expr
           | expr "<strong>&amp;&amp;</strong>" expr
           | expr "<strong>||</strong>" expr
           | "<strong>(</strong>" expr "<strong>)</strong>"
           | comp

comp     ::= word "<strong>==</strong>" word | word "<strong>eq</strong>" word
           | word "<strong>!=</strong>" word | word "<strong>ne</strong>" word
           | word "<strong>&lt;</strong>"  word | word "<strong>lt</strong>" word
           | word "<strong>&lt;=</strong>" word | word "<strong>le</strong>" word
           | word "<strong>&gt;</strong>"  word | word "<strong>gt</strong>" word
           | word "<strong>&gt;=</strong>" word | word "<strong>ge</strong>" word
           | word "<strong>in</strong>" "<strong>{</strong>" wordlist "<strong>}</strong>"
           | word "<strong>in</strong>" "<strong>PeerExtList(</strong>" word "<strong>)</strong>"
           | word "<strong>=~</strong>" regex
           | word "<strong>!~</strong>" regex

wordlist ::= word
           | wordlist "<strong>,</strong>" word

word     ::= digit
           | cstring
           | variable
           | function

digit    ::= [0-9]+
cstring  ::= "..."
variable ::= "<strong>%{</strong>" varname "<strong>}</strong>"
function ::= funcname "<strong>(</strong>" funcargs "<strong>)</strong>"</pre>
</blockquote>
<p>Pour <code>varname</code>, toute variable d&#233;crite dans <a href="#envvars">Variables d'environnement</a> pourra &#234;tre utilis&#233;e.
Pour <code>funcname</code>, vous trouverez la liste des fonctions
disponibles dans la <a href="../expr.html#functions">documentation
ap_expr</a>.</p>

<p><em>expression</em> est interpr&#233;t&#233;e et traduite
sous une forme machine interne lors du chargement de la configuration,
puis &#233;valu&#233;e lors du traitement de la requ&#234;te. Dans le contexte des
fichiers .htaccess, <em>expression</em> est interpr&#233;t&#233;e et ex&#233;cut&#233;e
chaque fois que le fichier .htaccess intervient lors du traitement de la
requ&#234;te.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLRequire (    %{SSL_CIPHER} !~ m/^(EXP|NULL)-/                   \
            and %{SSL_CLIENT_S_DN_O} eq "Snake Oil, Ltd."          \
            and %{SSL_CLIENT_S_DN_OU} in {"Staff", "CA", "Dev"}    \
            and %{TIME_WDAY} -ge 1 and %{TIME_WDAY} -le 5          \
            and %{TIME_HOUR} -ge 8 and %{TIME_HOUR} -le 20       ) \
           or %{REMOTE_ADDR} =~ m/^192\.76\.162\.[0-9]+$/</pre>
</div>


<p>La fonction <code>PeerExtList(<em>identifiant objet</em>)</code>
recherche une instance d'extension de certificat X.509 identifi&#233;e par
<em>identifiant objet</em> (OID) dans le certificat client. L'expression est
&#233;valu&#233;e &#224; true si la partie gauche de la cha&#238;ne correspond exactement &#224;
la valeur d'une extension identifi&#233;e par cet OID (Si plusieurs
extensions poss&#232;dent le m&#234;me OID, l'une d'entre elles au moins doit
correspondre).
</p>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLRequire "foobar" in PeerExtList("1.2.3.4.5.6")</pre>
</div>

<div class="note"><h3>Notes &#224; propos de la fonction PeerExtList</h3>

<ul>

<li><p>L'identifiant objet peut &#234;tre sp&#233;cifi&#233; soit comme un nom
descriptif reconnu par la biblioth&#232;que SSL, tel que
<code>"nsComment"</code>, soit comme un OID num&#233;rique tel que
<code>"1.2.3.4.5.6"</code>.</p></li>

<li><p>Les expressions contenant des types connus de la biblioth&#232;que
SSL sont transform&#233;es en cha&#238;nes avant comparaison. Pour les extensions
contenant un type non connu de la biblioth&#232;que SSL, mod_ssl va essayer
d'interpr&#233;ter la valeur s'il s'agit d'un des types ASN.1 primaire UTF8String,
IA5String, VisibleString, ou BMPString. Si l'extension correspond &#224; un
de ces types, la cha&#238;ne sera convertie en UTF-8 si n&#233;cessaire, puis
compar&#233;e avec la partie gauche de l'expression.</p></li>

</ul>
</div>


<h3>Voir aussi</h3>
<ul>
<li><a href="../env.html">Les variables d'environnement dans le
serveur HTTP Apache</a>, pour d'autres exemples.
</li>
<li><a href="mod_authz_core.html#reqexpr">Require expr</a></li>
<li><a href="../expr.html">Syntaxe g&#233;n&#233;rale des expressions dans le
serveur HTTP Apache</a>
</li>
</ul>
</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslrequiressl" id="sslrequiressl">Directive</a> <a name="SSLRequireSSL" id="SSLRequireSSL">SSLRequireSSL</a><a title="Lien permanent" href="#sslrequiressl" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Interdit l'acc&#232;s lorsque la requ&#234;te HTTP n'utilise pas
SSL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLRequireSSL</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive interdit l'acc&#232;s si HTTP sur SSL (c'est &#224; dire HTTPS)
n'est pas activ&#233; pour la connexion courante. Ceci est tr&#232;s pratique dans
un serveur virtuel o&#249; SSL est activ&#233; ou dans un r&#233;pertoire pour se
prot&#233;ger des erreurs de configuration qui pourraient donner acc&#232;s &#224; des
ressources prot&#233;g&#233;es. Lorsque cette directive est pr&#233;sente, toutes les
requ&#234;tes qui n'utilisent pas SSL sont rejet&#233;es.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLRequireSSL</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslsessioncache" id="sslsessioncache">Directive</a> <a name="SSLSessionCache" id="SSLSessionCache">SSLSessionCache</a><a title="Lien permanent" href="#sslsessioncache" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Type du cache de session SSL global et
inter-processus</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLSessionCache <em>type</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLSessionCache none</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de configurer le type de stockage du cache de
session SSL global et inter-processus. Ce cache est une fonctionnalit&#233;
optionnelle qui acc&#233;l&#232;re le traitement parall&#232;le des requ&#234;tes. Pour ce
qui est des requ&#234;tes vers un m&#234;me processus du serveur (via HTTP
keep-alive), OpenSSL met en cache les informations de session SSL en
interne. Mais comme les clients modernes demandent des images en ligne
et d'autres donn&#233;es via des requ&#234;tes parall&#232;les (un nombre de quatre
requ&#234;tes parall&#232;les est courant), ces requ&#234;tes vont &#234;tre servies par
<em>plusieurs</em> processus du serveur pr&#233;-d&#233;clench&#233;s. Ici, un cache
inter-processus permet d'&#233;viter des n&#233;gociations de session
inutiles.</p>
<p>
Les quatre <em>type</em>s de stockage suivants sont actuellement
support&#233;s :</p>
<ul>
<li><code>none</code>

    <p>Cette valeur d&#233;sactive le cache de session global et
    inter-processus, ce qui va ralentir le serveur de mani&#232;re sensible
    et peut poser probl&#232;me avec certains navigateurs, en particulier si
    les certificats clients sont activ&#233;s. Cette configuration n'est pas
    recommand&#233;e.</p></li>

<li><code>nonenotnull</code>

    <p>Cette valeur d&#233;sactive tout cache de session global et
    inter-processus. Cependant, elle force OpenSSL &#224; envoyer un
    identifiant de session non nul afin de s'adapter aux clients bogu&#233;s
    qui en n&#233;cessitent un.</p></li>

<li><code>dbm:/chemin/vers/fichier-donn&#233;es</code>

    <p>Cette valeur utilise un fichier de hashage DBM sur disque local
    pour synchroniser les caches OpenSSL locaux en m&#233;moire des processus
    du serveur. Ce cache de session peut &#234;tre sujet &#224; des probl&#232;mes de
    fiabilit&#233; sous forte charge. Pour l'utiliser, le module
    <code class="module"><a href="../mod/mod_socache_dbm.html">mod_socache_dbm</a></code> doit &#234;tre charg&#233;.</p></li>

<li><code>shmcb:/chemin/vers/fichier-donn&#233;es</code>[<code>(</code><em>nombre</em><code>)</code>]

    <p>Cette valeur utilise un tampon cyclique &#224; hautes performances
    (d'une taille d'environ <em>nombre</em> octets) dans un segment de
    m&#233;moire partag&#233;e en RAM (&#233;tabli via
    <code>/chemin/vers/fichier-donn&#233;es</code>, pour synchroniser les
    caches OpenSSL locaux en m&#233;moire des processus du serveur. C'est le
    type de cache de session recommand&#233;. Pour l'utiliser, le module
    <code class="module"><a href="../mod/mod_socache_shmcb.html">mod_socache_shmcb</a></code> doit &#234;tre charg&#233;.</p></li>

<li><code>dc:UNIX:/chemin/vers/socket</code>

    <p>Cette valeur utilise les biblioth&#232;ques de mise en cache de
    sessions distribu&#233;e sur <a href="http://distcache.sourceforge.net/">distcache</a>.
    L'argument doit sp&#233;cifier le serveur ou mandataire &#224; utiliser en
    utilisant la syntaxe d'adressage distcache ; par exemple,
    <code>UNIX:/chemin/vers/socket</code> sp&#233;cifie un socket de domaine
    Unix (en g&#233;n&#233;ral un mandataire de dc_client local) ;
    <code>IP:serveur.example.com:9001</code> sp&#233;cifie une adresse IP.
    Pour l'utiliser, le module <code class="module"><a href="../mod/mod_socache_dc.html">mod_socache_dc</a></code> doit &#234;tre
    charg&#233;.</p></li>

</ul>

<div class="example"><h3>Exemples</h3><pre class="prettyprint lang-config">SSLSessionCache "dbm:/usr/local/apache/logs/ssl_gcache_data"
SSLSessionCache "shmcb:/usr/local/apache/logs/ssl_gcache_data(512000)"</pre>
</div>

<p>Le mutex <code>ssl-cache</code> permet de s&#233;rialiser l'acc&#232;s au cache
de session afin d'&#233;viter toute corruption. Ce mutex peut &#234;tre configur&#233;
via la directive <code class="directive"><a href="../mod/core.html#mutex">Mutex</a></code>.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslsessioncachetimeout" id="sslsessioncachetimeout">Directive</a> <a name="SSLSessionCacheTimeout" id="SSLSessionCacheTimeout">SSLSessionCacheTimeout</a><a title="Lien permanent" href="#sslsessioncachetimeout" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Nombre de secondes avant l'expiration d'une session SSL
dans le cache de sessions</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLSessionCacheTimeout <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLSessionCacheTimeout 300</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>S'applique aussi au renouvellement de la session TLS de
la RFC 5077 &#224; partir de la version 2.4.10 du serveur HTTP Apache</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir la dur&#233;e de vie en secondes des
informations stock&#233;es dans le cache de sessions SSL global et
inter-processus, dans le cache OpenSSL interne en m&#233;moire et pour
les sessions r&#233;initialis&#233;es par la reprise de session TLS (RFC 5077). elle peut
&#234;tre d&#233;finie &#224; une valeur d'environ 15 &#224; des fins de test, mais &#224; une
valeur tr&#232;s sup&#233;rieure comme 300 en production.</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLSessionCacheTimeout 600</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslsessionticketkeyfile" id="sslsessionticketkeyfile">Directive</a> <a name="SSLSessionTicketKeyFile" id="SSLSessionTicketKeyFile">SSLSessionTicketKeyFile</a><a title="Lien permanent" href="#sslsessionticketkeyfile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Cl&#233; de chiffrement/d&#233;chiffrement permanente pour les
tickets de session TLS</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLSessionTicketKeyFile <var>file-path</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible depuis la version 2.4.0 du serveur HTTP
Apache, sous r&#233;serve que l'on utilise une version 0.9.8h ou sup&#233;rieure
d'OpenSSL</td></tr>
</table>
<p>Cette directive permet de d&#233;finir une cl&#233; secr&#232;te pour le chiffrement
et le d&#233;chiffrement des tickets de session TLS selon les pr&#233;conisations
de la <a href="http://www.ietf.org/rfc/rfc5077.txt">RFC 5077</a>. Elle a
&#233;t&#233; con&#231;ue &#224; l'origine pour les environnements de clusters o&#249; les
donn&#233;es des sessions TLS doivent &#234;tre partag&#233;es entre plusieurs noeuds.
Pour les configurations ne comportant qu'une seule instance de httpd, il
est pr&#233;f&#233;rable d'utiliser les cl&#233;s (al&#233;atoires) g&#233;n&#233;r&#233;es par mod_ssl au
d&#233;marrage du serveur.</p>
<p>Le fichier doit contenir 48 octets de donn&#233;es al&#233;atoires cr&#233;&#233;es de
pr&#233;f&#233;rence par une source &#224; haute entropie. Sur un syst&#232;me de type UNIX,
il est possible de cr&#233;er le fichier contenant la cl&#233; de la mani&#232;re
suivante :</p>

<div class="example"><p><code>
dd if=/dev/random of=/chemin/vers/fichier.tkey bs=1 count=48
</code></p></div>

<p>Ces cl&#233;s doivent &#234;tre renouvel&#233;es fr&#233;quemment, car il s'agit du seul
moyen d'invalider un ticket de session existant - OpenSSL ne permet pas
actuellement de sp&#233;cifier une limite &#224; la dur&#233;e de
vie des tickets. Une nouvelle cl&#233; de ticket ne peut &#234;tre utilis&#233;e qu'apr&#232;s
red&#233;marrage du serveur web. Tous les tickets de session existants
deviennent invalides apr&#232;s le red&#233;marrage du serveur.</p>

<div class="warning">
<p>Ce fichier contient des donn&#233;es sensibles et doit donc &#234;tre prot&#233;g&#233;
par des permissions similaires &#224; celles du fichier sp&#233;cifi&#233; par la
directive <code class="directive"><a href="#sslcertificatekeyfile">SSLCertificateKeyFile</a></code>.</p>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslsessiontickets" id="sslsessiontickets">Directive</a> <a name="SSLSessionTickets" id="SSLSessionTickets">SSLSessionTickets</a><a title="Lien permanent" href="#sslsessiontickets" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Active ou d&#233;sactive les tickets de session TLS</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLSessionTickets on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLSessionTickets on</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible &#224; partir de la version 2.4.11 du serveur HTTP
Apache, sous r&#233;serve d'utiliser OpenSSL version 0.9.8f ou sup&#233;rieure.
</td></tr>
</table>
<p>Cette directive permet d'activer ou de d&#233;sactiver l'utilisation des
tickets de session TLS (RFC 5077).</p>
<div class="warning">
<p>Les tickets de session TLS sont activ&#233;s par d&#233;faut. Les utiliser sans
red&#233;marrer le serveur selon une p&#233;riodicit&#233; appropri&#233;e (par exemple
quotidiennement) compromet cependant le niveau de confidentialit&#233;.</p>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslsrpunknownuserseed" id="sslsrpunknownuserseed">Directive</a> <a name="SSLSRPUnknownUserSeed" id="SSLSRPUnknownUserSeed">SSLSRPUnknownUserSeed</a><a title="Lien permanent" href="#sslsrpunknownuserseed" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Source de randomisation pour utilisateur SRP inconnu</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLSRPUnknownUserSeed <em>secret-string</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible depuis la version 2.4.4 du serveur HTTP
Apache, sous r&#233;serve d'utiliser OpenSSL version 1.0.1 ou sup&#233;rieure.</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir la source de randomisation &#224; utiliser
pour les utilisateurs SRP inconnus, ceci afin de combler les manques en
cas d'existence d'un tel utilisateur. Elle d&#233;finit une cha&#238;ne secr&#232;te. Si
cette directive n'est pas d&#233;finie, Apache renverra une alerte
UNKNOWN_PSK_IDENTITY aux clients qui fournissent un nom d'utilisateur
inconnu.
</p>
<div class="example"><h3>Exemple</h3><p><code>
SSLSRPUnknownUserSeed "secret"
</code></p></div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslsrpverifierfile" id="sslsrpverifierfile">Directive</a> <a name="SSLSRPVerifierFile" id="SSLSRPVerifierFile">SSLSRPVerifierFile</a><a title="Lien permanent" href="#sslsrpverifierfile" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Chemin du fichier de v&#233;rification SRP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLSRPVerifierFile <var>file-path</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible depuis la version 2.4.4 du serveur HTTP
Apache, sous r&#233;serve d'utiliser OpenSSL version 1.0.1 ou sup&#233;rieure.</td></tr>
</table>
<p>
Cette directive permet d'activer TLS-SRP et de d&#233;finir le chemin du
fichier de v&#233;rification OpenSSL SRP (Mot de passe distant s&#233;curis&#233;)
contenant les noms d'utilisateurs TLS-SRP, les v&#233;rificateurs, les
"grains de sel" (salts), ainsi que les param&#232;tres de groupe.</p>
<div class="example"><h3>Exemple</h3><p><code>
SSLSRPVerifierFile "/path/to/file.srpv"
</code></p></div>
<p>
Le fichier de v&#233;rification peut &#234;tre cr&#233;&#233; via l'utilitaire en ligne de
commande <code>openssl</code> :</p>
<div class="example"><h3>Cr&#233;ation du fichier de v&#233;rification SRP</h3><p><code>
openssl srp -srpvfile passwd.srpv -userinfo "some info" -add username
</code></p></div>
<p>La valeur affect&#233;e au param&#232;tre optionnel <code>-userinfo</code> est
enregistr&#233;e dans la variable d'environnement
<code>SSL_SRP_USERINFO</code>.</p>


</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingcache" id="sslstaplingcache">Directive</a> <a name="SSLStaplingCache" id="SSLStaplingCache">SSLStaplingCache</a><a title="Lien permanent" href="#sslstaplingcache" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Configuration du cache pour l'agrafage OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingCache <em>type</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Si <code class="directive"><a href="#sslusestapling">SSLUseStapling</a></code> est &#224; "on",
cette directive permet de configurer le cache destin&#233; &#224; stocker les
r&#233;ponses OCSP incluses dans la n&#233;gociation TLS. La configuration d'un
cache est obligatoire pour pouvoir utiliser l'agrafage OCSP. A
l'exception de <code>none</code> et <code>nonenotnull</code>, cette
directive supporte les m&#234;mes types de stockage que la directive
<code class="directive"><a href="#sslsessioncache">SSLSessionCache</a></code>.</p>


</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingerrorcachetimeout" id="sslstaplingerrorcachetimeout">Directive</a> <a name="SSLStaplingErrorCacheTimeout" id="SSLStaplingErrorCacheTimeout">SSLStaplingErrorCacheTimeout</a><a title="Lien permanent" href="#sslstaplingerrorcachetimeout" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Dur&#233;e de vie des r&#233;ponses invalides dans le cache pour
agrafage OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingErrorCacheTimeout <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLStaplingErrorCacheTimeout 600</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Cette directive permet de d&#233;finir la dur&#233;e de vie des r&#233;ponses
<em>invalides</em> dans le cache pour agrafage OCSP configur&#233; via la
directive <code class="directive"><a href="#sslstaplingcache">SSLStaplingCache</a></code>. Pour
d&#233;finir la dur&#233;e de vie des r&#233;ponses valides, voir la directive
<code class="directive"><a href="#sslstaplingstandardcachetimeout">SSLStaplingStandardCacheTimeout</a></code>.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingfaketrylater" id="sslstaplingfaketrylater">Directive</a> <a name="SSLStaplingFakeTryLater" id="SSLStaplingFakeTryLater">SSLStaplingFakeTryLater</a><a title="Lien permanent" href="#sslstaplingfaketrylater" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>G&#233;n&#232;re une r&#233;ponse "tryLater" pour les requ&#234;tes OCSP &#233;chou&#233;es</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingFakeTryLater on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLStaplingFakeTryLater on</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Lorsque cette directive est activ&#233;e, et si une requ&#234;te vers un
serveur OCSP &#224; des fins d'inclusion dans une n&#233;gociation TLS &#233;choue,
mod_ssl va g&#233;n&#233;rer une r&#233;ponse "tryLater" pour le client (<code class="directive"><a href="#sslstaplingreturnrespondererrors">SSLStaplingReturnResponderErrors</a></code> doit &#234;tre
activ&#233;e).</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingforceurl" id="sslstaplingforceurl">Directive</a> <a name="SSLStaplingForceURL" id="SSLStaplingForceURL">SSLStaplingForceURL</a><a title="Lien permanent" href="#sslstaplingforceurl" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Remplace l'URI du serveur OCSP sp&#233;cifi&#233; dans l'extension
AIA du certificat</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingForceURL <em>uri</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Cette directive permet de remplacer l'URI du serveur OCSP extraite de
l'extension authorityInfoAccess (AIA) du certificat. Elle peut s'av&#233;rer
utile lorsqu'on passe par un mandataire</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingrespondertimeout" id="sslstaplingrespondertimeout">Directive</a> <a name="SSLStaplingResponderTimeout" id="SSLStaplingResponderTimeout">SSLStaplingResponderTimeout</a><a title="Lien permanent" href="#sslstaplingrespondertimeout" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Temps d'attente maximum pour les requ&#234;tes vers les serveurs
OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingResponderTimeout <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLStaplingResponderTimeout 10</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Cette directive permet de d&#233;finir le temps d'attente maximum lorsque
mod_ssl envoie une requ&#234;te vers un serveur OCSP afin d'obtenir une
r&#233;ponse destin&#233;e &#224; &#234;tre incluse dans les n&#233;gociations TLS avec les
clients (<code class="directive"><a href="#sslusestapling">SSLUseStapling</a></code> doit
avoir &#233;t&#233; activ&#233;e au pr&#233;alable).</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingresponsemaxage" id="sslstaplingresponsemaxage">Directive</a> <a name="SSLStaplingResponseMaxAge" id="SSLStaplingResponseMaxAge">SSLStaplingResponseMaxAge</a><a title="Lien permanent" href="#sslstaplingresponsemaxage" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Age maximum autoris&#233; des r&#233;ponses OCSP incluses dans la
n&#233;gociation TLS</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingResponseMaxAge <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLStaplingResponseMaxAge -1</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Cette directive permet de d&#233;finir l'&#226;ge maximum autoris&#233;
("fra&#238;cheur") des r&#233;ponses OCSP incluses dans la n&#233;gociation TLS
(<code class="directive"><a href="#sslusestapling">SSLUseStapling</a></code> doit
avoir &#233;t&#233; activ&#233;e au pr&#233;alable). La valeur par d&#233;faut (<code>-1</code>)
ne d&#233;finit aucun &#226;ge maximum, ce qui signifie que les r&#233;ponses OCSP sont
consid&#233;r&#233;es comme valides &#224; partir du moment o&#249; le contenu de leur champ
<code>nextUpdate</code> se trouve dans le futur.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingresponsetimeskew" id="sslstaplingresponsetimeskew">Directive</a> <a name="SSLStaplingResponseTimeSkew" id="SSLStaplingResponseTimeSkew">SSLStaplingResponseTimeSkew</a><a title="Lien permanent" href="#sslstaplingresponsetimeskew" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Dur&#233;e de vie maximale autoris&#233;e des r&#233;ponses OCSP incluses dans la
n&#233;gociation TLS</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingResponseTimeSkew <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLStaplingResponseTimeSkew 300</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Cette directive permet de sp&#233;cifier l'intervalle de temps maximum que
mod_ssl va calculer en faisant la diff&#233;rence entre les contenus des
champs <code>nextUpdate</code> et <code>thisUpdate</code> des r&#233;ponses
OCSP incluses dans la n&#233;gociation TLS. Pour pouvoir utiliser cette
directive, <code class="directive"><a href="#sslusestapling">SSLUseStapling</a></code> doit
&#234;tre &#224; "on".</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingreturnrespondererrors" id="sslstaplingreturnrespondererrors">Directive</a> <a name="SSLStaplingReturnResponderErrors" id="SSLStaplingReturnResponderErrors">SSLStaplingReturnResponderErrors</a><a title="Lien permanent" href="#sslstaplingreturnrespondererrors" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Transmet au client les erreurs survenues lors des requ&#234;tes
OCSP</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingReturnResponderErrors on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLStaplingReturnResponderErrors on</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Lorsque cette directive est activ&#233;e, mod_ssl va transmettre au client les
r&#233;ponses concernant les requ&#234;tes OCSP
&#233;chou&#233;es (comme les r&#233;ponses avec un &#233;tat autre que
"successful", les r&#233;ponses avec un statut de certificat autre que
"good", les r&#233;ponses
p&#233;rim&#233;es, etc...). Lorsqu'elle est &#224;
<code>off</code>, seules les r&#233;ponses indiquant un statut de certificat
"good" seront incluses dans les
n&#233;gociations TLS avec les clients.</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstaplingstandardcachetimeout" id="sslstaplingstandardcachetimeout">Directive</a> <a name="SSLStaplingStandardCacheTimeout" id="SSLStaplingStandardCacheTimeout">SSLStaplingStandardCacheTimeout</a><a title="Lien permanent" href="#sslstaplingstandardcachetimeout" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Dur&#233;e de vie des r&#233;ponses OCSP dans le cache</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStaplingStandardCacheTimeout <em>secondes</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLStaplingStandardCacheTimeout 3600</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Cette directive permet de d&#233;finir la dur&#233;e de vie des r&#233;ponses OCSP
dans le cache configur&#233; via la directive <code class="directive"><a href="#sslstaplingcache">SSLStaplingCache</a></code>. Elle ne s'applique qu'aux
r&#233;ponse <em>valides</em>, alors que la directive <code class="directive"><a href="#sslstaplingerrorcachetimeout">SSLStaplingErrorCacheTimeout</a></code> s'applique aux
r&#233;ponses invalides ou non disponibles.
</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslstrictsnivhostcheck" id="sslstrictsnivhostcheck">Directive</a> <a name="SSLStrictSNIVHostCheck" id="SSLStrictSNIVHostCheck">SSLStrictSNIVHostCheck</a><a title="Lien permanent" href="#sslstrictsnivhostcheck" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Contr&#244;le de l'acc&#232;s des clients non-SNI &#224; un serveur virtuel &#224;
base de nom.
</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLStrictSNIVHostCheck on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLStrictSNIVHostCheck off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de contr&#244;ler l'acc&#232;s des clients non-SNI &#224; un serveur
virtuel &#224; base de nom. Si elle est d&#233;finie &#224; <code>on</code> dans le
serveur virtuel &#224; base de nom par d&#233;faut, les
clients non-SNI ne seront autoris&#233;s &#224; acc&#233;der &#224; aucun serveur virtuel
appartenant &#224; cette combinaison IP/port. Par
contre, si elle est d&#233;finie &#224; <code>on</code> dans un serveur virtuel
quelconque, les clients non-SNI ne se verront interdire l'acc&#232;s qu'&#224; ce
serveur.
</p>

<div class="warning"><p>
Cette option n'est disponible que si httpd a &#233;t&#233; compil&#233; avec une
version d'OpenSSL supportant SNI.
</p></div>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLStrictSNIVHostCheck on</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslusername" id="sslusername">Directive</a> <a name="SSLUserName" id="SSLUserName">SSLUserName</a><a title="Lien permanent" href="#sslusername" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Nom de la variable servant &#224; d&#233;terminer le nom de
l'utilisateur</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLUserName <em>nom-var</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette variable permet de d&#233;finir le champ "user" de l'objet de la
requ&#234;te Apache. Ce champ est utilis&#233; par des modules de plus bas niveau
pour identifier l'utilisateur avec une cha&#238;ne de caract&#232;res. En
particulier, l'utilisation de cette directive peut provoquer la
d&#233;finition de la variable d'environnement <code>REMOTE_USER</code>.
La valeur de l'argument <em>nom-var</em> peut correspondre &#224; toute <a href="#envvars">variable d'environnement SSL</a>.</p>

<p>Lorsque l'option <code>FakeBasicAuth</code> est activ&#233;e, cette
directive contr&#244;le la valeur du nom d'utilisateur contenue dans
l'en-t&#234;te d'authentification de base (voir <a href="#ssloptions">SSLOptions</a>).</p>

<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLUserName SSL_CLIENT_S_DN_CN</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslusestapling" id="sslusestapling">Directive</a> <a name="SSLUseStapling" id="SSLUseStapling">SSLUseStapling</a><a title="Lien permanent" href="#sslusestapling" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Active l'ajout des r&#233;ponses OCSP &#224; la n&#233;gociation TLS</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLUseStapling on|off</code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLUseStapling off</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibilit&#233;:</a></th><td>Disponible si on utilise OpenSSL version 0.9.8h ou sup&#233;rieure</td></tr>
</table>
<p>Cette directive permet d'activer l'"Agrafage OCSP" (OCSP stapling)
selon la d&#233;finition de l'extension TLS "Certificate Status Request"
fournie dans la RFC 6066. Si elle est activ&#233;e et si le client le
demande, mod_ssl va inclure une r&#233;ponse OCSP &#224; propos de son propre
certificat dans la n&#233;gociation TLS. Pour pouvoir activer l'Agrafage
OCSP, il est n&#233;cessaire de configurer un <code class="directive"><a href="#sslstaplingcache">SSLStaplingCache</a></code>.</p>

<p>L'agrafage OCSP dispense le client de requ&#233;rir le serveur OCSP
directement ; il faut cependant noter que selon les sp&#233;cifications de la
RFC 6066, la r&#233;ponse <code>CertificateStatus</code> du serveur ne peut
inclure une r&#233;ponse OCSP que pour un seul certificat. Pour les
certificats de serveur comportant des certificats de CA interm&#233;diaires
dans leur cha&#238;ne (c'est un cas typique de nos jours), l'impl&#233;mentation
actuelle de l'agrafage OCSP n'atteint que partiellement l'objectif d'
"&#233;conomie en questions/r&#233;ponse et en ressources". Pour plus de d&#233;tails,
voir la <a href="http://www.ietf.org/rfc/rfc6961.txt">RFC 6961</a> (TLS
Multiple Certificate Status Extension).
</p>

<p>Lorsque l'agrafage OCSP est activ&#233;, le mutex
<code>ssl-stapling</code> contr&#244;le l'acc&#232;s au cache de l'agrafage OCSP
afin de pr&#233;venir toute corruption, et le mutex
<code>sss-stapling-refresh</code> contr&#244;le le raffra&#238;chissement des
r&#233;ponses OCSP. Ces mutex peuvent &#234;tre configur&#233;s via la directive
<code class="directive"><a href="../mod/core.html#mutex">Mutex</a></code>.
</p>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslverifyclient" id="sslverifyclient">Directive</a> <a name="SSLVerifyClient" id="SSLVerifyClient">SSLVerifyClient</a><a title="Lien permanent" href="#sslverifyclient" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Niveau de v&#233;rification du certificat client</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLVerifyClient <em>niveau</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLVerifyClient none</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de d&#233;finir le niveau de v&#233;rification du
certificat pour l'authentification du client. Notez que cette directive
peut &#234;tre utilis&#233;e &#224; la fois dans les contextes du serveur principal et
du r&#233;pertoire. Dans le contexte du serveur principal, elle s'applique au
processus d'authentification du client utilis&#233; au cours de la
n&#233;gociation SSL standard lors de l'&#233;tablissement d'une connexion. Dans
un contexte de r&#233;pertoire, elle force une ren&#233;gociation SSL avec le
niveau de v&#233;rification du client sp&#233;cifi&#233;, apr&#232;s la lecture d'une
requ&#234;te HTTP, mais avant l'envoi de la r&#233;ponse HTTP.</p>
<p>
Les valeurs de <em>niveau</em> disponibles sont les suivantes :</p>
<ul>
<li><strong>none</strong>:
     aucun certificat client n'est requis</li>
<li><strong>optional</strong>:
     le client <em>peut</em> pr&#233;senter un certificat valide</li>
<li><strong>require</strong>:
     le client <em>doit</em> pr&#233;senter un certificat valide</li>
<li><strong>optional_no_ca</strong>:
     le client peut pr&#233;senter un certificat valide, mais il n'est pas
     n&#233;cessaire que ce dernier soit v&#233;rifiable (avec succ&#232;s). Cette option ne
     peut pas &#234;tre utilis&#233;e lors de l'authentification du client.</li>
</ul>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLVerifyClient require</pre>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="top" src="../images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="sslverifydepth" id="sslverifydepth">Directive</a> <a name="SSLVerifyDepth" id="SSLVerifyDepth">SSLVerifyDepth</a><a title="Lien permanent" href="#sslverifydepth" class="permalink">&para;</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Profondeur maximale des certificats de CA pour la
v&#233;rification des certificats clients</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntaxe:</a></th><td><code>SSLVerifyDepth <em>nombre</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">D&#233;faut:</a></th><td><code>SSLVerifyDepth 1</code></td></tr>
<tr><th><a href="directive-dict.html#Context">Contexte:</a></th><td>configuration globale, serveur virtuel, r&#233;pertoire, .htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">Surcharges autoris&#233;es:</a></th><td>AuthConfig</td></tr>
<tr><th><a href="directive-dict.html#Status">Statut:</a></th><td>Extension</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_ssl</td></tr>
</table>
<p>
Cette directive permet de sp&#233;cifier la profondeur maximale &#224; laquelle
mod_ssl va effectuer sa v&#233;rification avant de d&#233;cider que le client ne
poss&#232;de pas de certificat valide. Notez que cette directive peut &#234;tre
utilis&#233;e &#224; la fois dans les contextes du serveur principal et de
r&#233;pertoire. Dans le contexte du serveur principal, elle s'applique au
processus d'authentification du client utilis&#233; au cours de la
n&#233;gociation SSL standard lors de l'&#233;tablissement d'une connexion. Dans
un contexte de r&#233;pertoire, elle force une ren&#233;gociation SSL avec la
profondeur v&#233;rification du client sp&#233;cifi&#233;e, apr&#232;s la lecture d'une
requ&#234;te HTTP, mais avant l'envoi de la r&#233;ponse HTTP.</p>
<p>
La profondeur correspond au nombre maximum de fournisseurs de
certificats interm&#233;diaires, c'est &#224; dire le nombre maximum de
certificats de CA que l'on est autoris&#233; &#224; suivre lors de la v&#233;rification
du certificat du client. Une profondeur de 0 signifie que seuls les
certificats clients auto-sign&#233;s sont accept&#233;s ; la profondeur par d&#233;faut
de 1 signifie que le certificat client peut &#234;tre soit auto-sign&#233;, soit
sign&#233; par une CA connue directement du serveur (c'est &#224; dire que le
certificat de la CA doit &#234;tre r&#233;f&#233;renc&#233; par la directive <code class="directive"><a href="#sslcacertificatepath">SSLCACertificatePath</a></code>), etc...</p>
<div class="example"><h3>Exemple</h3><pre class="prettyprint lang-config">SSLVerifyDepth 10</pre>
</div>

</div>
</div>
<div class="bottomlang">
<p><span>Langues Disponibles: </span><a href="../en/mod/mod_ssl.html" hreflang="en" rel="alternate" title="English">&nbsp;en&nbsp;</a> |
<a href="../es/mod/mod_ssl.html" hreflang="es" rel="alternate" title="Espa&#241;ol">&nbsp;es&nbsp;</a> |
<a href="../fr/mod/mod_ssl.html" title="Fran&#231;ais">&nbsp;fr&nbsp;</a></p>
</div><div class="top"><a href="#page-header"><img src="../images/up.gif" alt="top" /></a></div><div class="section"><h2><a id="comments_section" name="comments_section">Commentaires</a></h2><div class="warning"><strong>Notice:</strong><br />This is not a Q&amp;A section. Comments placed here should be pointed towards suggestions on improving the documentation or server, and may be removed again by our moderators if they are either implemented or considered invalid/off-topic. Questions on how to manage the Apache HTTP Server should be directed at either our IRC channel, #httpd, on Freenode, or sent to our <a href="http://httpd.apache.org/lists.html">mailing lists</a>.</div>
<script type="text/javascript"><!--//--><![CDATA[//><!--
var comments_shortname = 'httpd';
var comments_identifier = 'http://httpd.apache.org/docs/trunk/mod/mod_ssl.html';
(function(w, d) {
    if (w.location.hostname.toLowerCase() == "httpd.apache.org") {
        d.write('<div id="comments_thread"><\/div>');
        var s = d.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'https://comments.apache.org/show_comments.lua?site=' + comments_shortname + '&page=' + comments_identifier;
        (d.getElementsByTagName('head')[0] || d.getElementsByTagName('body')[0]).appendChild(s);
    }
    else {
        d.write('<div id="comments_thread">Comments are disabled for this page at the moment.<\/div>');
    }
})(window, document);
//--><!]]></script></div><div id="footer">
<p class="apache">Copyright 2018 The Apache Software Foundation.<br />Autoris&#233; sous <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.</p>
<p class="menu"><a href="../mod/">Modules</a> | <a href="../mod/quickreference.html">Directives</a> | <a href="http://wiki.apache.org/httpd/FAQ">FAQ</a> | <a href="../glossary.html">Glossaire</a> | <a href="../sitemap.html">Plan du site</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>